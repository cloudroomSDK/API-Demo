module.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=12)}([function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,s=void 0,s=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===i(s)?s:String(s)),r)}var o,s}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var c=n(14),a={};
/** @license zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */
(function(){"use strict";function e(e){throw e}var t=void 0,n=!0,i=this;function r(e,n){var r,o=e.split("."),s=i;!(o[0]in s)&&s.execScript&&s.execScript("var "+o[0]);for(;o.length&&(r=o.shift());)o.length||n===t?s=s[r]?s[r]:s[r]={}:s[r]=n}var o="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array&&"undefined"!=typeof DataView;function s(t,n){this.index="number"==typeof n?n:0,this.i=0,this.buffer=t instanceof(o?Uint8Array:Array)?t:new(o?Uint8Array:Array)(32768),2*this.buffer.length<=this.index&&e(Error("invalid index")),this.buffer.length<=this.index&&this.f()}s.prototype.f=function(){var e,t=this.buffer,n=t.length,i=new(o?Uint8Array:Array)(n<<1);if(o)i.set(t);else for(e=0;e<n;++e)i[e]=t[e];return this.buffer=i},s.prototype.d=function(e,t,n){var i,r=this.buffer,o=this.index,s=this.i,c=r[o];if(n&&1<t&&(e=8<t?(h[255&e]<<24|h[e>>>8&255]<<16|h[e>>>16&255]<<8|h[e>>>24&255])>>32-t:h[e]>>8-t),8>t+s)c=c<<t|e,s+=t;else for(i=0;i<t;++i)c=c<<1|e>>t-i-1&1,8==++s&&(s=0,r[o++]=h[c],c=0,o===r.length&&(r=this.f()));r[o]=c,this.buffer=r,this.i=s,this.index=o},s.prototype.finish=function(){var e,t=this.buffer,n=this.index;return 0<this.i&&(t[n]<<=8-this.i,t[n]=h[t[n]],n++),o?e=t.subarray(0,n):(t.length=n,e=t),e};var c,a=new(o?Uint8Array:Array)(256);for(c=0;256>c;++c){for(var l=d=c,u=7,d=d>>>1;d;d>>>=1)l<<=1,l|=1&d,--u;a[c]=(l<<u&255)>>>0}var h=a;function f(e){this.buffer=new(o?Uint16Array:Array)(2*e),this.length=0}function p(e){var t,n,i,r,s,c,a,l,u,d,h=e.length,f=0,p=Number.POSITIVE_INFINITY;for(l=0;l<h;++l)e[l]>f&&(f=e[l]),e[l]<p&&(p=e[l]);for(t=1<<f,n=new(o?Uint32Array:Array)(t),i=1,r=0,s=2;i<=f;){for(l=0;l<h;++l)if(e[l]===i){for(c=0,a=r,u=0;u<i;++u)c=c<<1|1&a,a>>=1;for(d=i<<16|l,u=c;u<t;u+=s)n[u]=d;++r}++i,r<<=1,s<<=1}return[n,f,p]}function _(e,t){this.h=y,this.w=0,this.input=o&&e instanceof Array?new Uint8Array(e):e,this.b=0,t&&(t.lazy&&(this.w=t.lazy),"number"==typeof t.compressionType&&(this.h=t.compressionType),t.outputBuffer&&(this.a=o&&t.outputBuffer instanceof Array?new Uint8Array(t.outputBuffer):t.outputBuffer),"number"==typeof t.outputIndex&&(this.b=t.outputIndex)),this.a||(this.a=new(o?Uint8Array:Array)(32768))}f.prototype.getParent=function(e){return 2*((e-2)/4|0)},f.prototype.push=function(e,t){var n,i,r,o=this.buffer;for(n=this.length,o[this.length++]=t,o[this.length++]=e;0<n&&(i=this.getParent(n),o[n]>o[i]);)r=o[n],o[n]=o[i],o[i]=r,r=o[n+1],o[n+1]=o[i+1],o[i+1]=r,n=i;return this.length},f.prototype.pop=function(){var e,t,n,i,r,o=this.buffer;for(t=o[0],e=o[1],this.length-=2,o[0]=o[this.length],o[1]=o[this.length+1],r=0;!((i=2*r+2)>=this.length)&&(i+2<this.length&&o[i+2]>o[i]&&(i+=2),o[i]>o[r]);)n=o[r],o[r]=o[i],o[i]=n,n=o[r+1],o[r+1]=o[i+1],o[i+1]=n,r=i;return{index:e,value:t,length:this.length}};var g,y=2,C={NONE:0,r:1,k:y,N:3},v=[];for(g=0;288>g;g++)switch(!0){case 143>=g:v.push([g+48,8]);break;case 255>=g:v.push([g-144+400,9]);break;case 279>=g:v.push([g-256+0,7]);break;case 287>=g:v.push([g-280+192,8]);break;default:e("invalid literal: "+g)}function m(e,t){this.length=e,this.G=t}_.prototype.j=function(){var i,r,c,a,l=this.input;switch(this.h){case 0:for(c=0,a=l.length;c<a;){var u,d,h,f=r=o?l.subarray(c,c+65535):l.slice(c,c+65535),p=(c+=r.length)===a,_=t,g=t,C=this.a,m=this.b;if(o){for(C=new Uint8Array(this.a.buffer);C.length<=m+f.length+5;)C=new Uint8Array(C.length<<1);C.set(this.a)}if(u=p?1:0,C[m++]=0|u,h=65536+~(d=f.length)&65535,C[m++]=255&d,C[m++]=d>>>8&255,C[m++]=255&h,C[m++]=h>>>8&255,o)C.set(f,m),m+=f.length,C=C.subarray(0,m);else{for(_=0,g=f.length;_<g;++_)C[m++]=f[_];C.length=m}this.b=m,this.a=C}break;case 1:var S=new s(o?new Uint8Array(this.a.buffer):this.a,this.b);S.d(1,1,n),S.d(1,2,n);var I,b,x,P=E(this,l);for(I=0,b=P.length;I<b;I++)if(x=P[I],s.prototype.d.apply(S,v[x]),256<x)S.d(P[++I],P[++I],n),S.d(P[++I],5),S.d(P[++I],P[++I],n);else if(256===x)break;this.a=S.finish(),this.b=this.a.length;break;case y:var D,O,M,A,N,k,T,L,U,V,F,j,B,H,q,W=new s(o?new Uint8Array(this.a.buffer):this.a,this.b),z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],G=Array(19);for(D=y,W.d(1,1,n),W.d(D,2,n),O=E(this,l),T=w(k=R(this.L,15)),U=w(L=R(this.K,7)),M=286;257<M&&0===k[M-1];M--);for(A=30;1<A&&0===L[A-1];A--);var K,Q,Y,J,X,Z,$=M,ee=A,te=new(o?Uint32Array:Array)($+ee),ne=new(o?Uint32Array:Array)(316),ie=new(o?Uint8Array:Array)(19);for(K=Q=0;K<$;K++)te[Q++]=k[K];for(K=0;K<ee;K++)te[Q++]=L[K];if(!o)for(K=0,J=ie.length;K<J;++K)ie[K]=0;for(K=X=0,J=te.length;K<J;K+=Q){for(Q=1;K+Q<J&&te[K+Q]===te[K];++Q);if(Y=Q,0===te[K])if(3>Y)for(;0<Y--;)ne[X++]=0,ie[0]++;else for(;0<Y;)(Z=138>Y?Y:138)>Y-3&&Z<Y&&(Z=Y-3),10>=Z?(ne[X++]=17,ne[X++]=Z-3,ie[17]++):(ne[X++]=18,ne[X++]=Z-11,ie[18]++),Y-=Z;else if(ne[X++]=te[K],ie[te[K]]++,3>--Y)for(;0<Y--;)ne[X++]=te[K],ie[te[K]]++;else for(;0<Y;)(Z=6>Y?Y:6)>Y-3&&Z<Y&&(Z=Y-3),ne[X++]=16,ne[X++]=Z-3,ie[16]++,Y-=Z}for(i=o?ne.subarray(0,X):ne.slice(0,X),V=R(ie,7),H=0;19>H;H++)G[H]=V[z[H]];for(N=19;4<N&&0===G[N-1];N--);for(F=w(V),W.d(M-257,5,n),W.d(A-1,5,n),W.d(N-4,4,n),H=0;H<N;H++)W.d(G[H],3,n);for(H=0,q=i.length;H<q;H++)if(j=i[H],W.d(F[j],V[j],n),16<=j){switch(H++,j){case 16:B=2;break;case 17:B=3;break;case 18:B=7;break;default:e("invalid code: "+j)}W.d(i[H],B,n)}var re,oe,se,ce,ae,le,ue,de,he=[T,k],fe=[U,L];for(ae=he[0],le=he[1],ue=fe[0],de=fe[1],re=0,oe=O.length;re<oe;++re)if(se=O[re],W.d(ae[se],le[se],n),256<se)W.d(O[++re],O[++re],n),ce=O[++re],W.d(ue[ce],de[ce],n),W.d(O[++re],O[++re],n);else if(256===se)break;this.a=W.finish(),this.b=this.a.length;break;default:e("invalid compression type")}return this.a};var S=function(){function t(t){switch(!0){case 3===t:return[257,t-3,0];case 4===t:return[258,t-4,0];case 5===t:return[259,t-5,0];case 6===t:return[260,t-6,0];case 7===t:return[261,t-7,0];case 8===t:return[262,t-8,0];case 9===t:return[263,t-9,0];case 10===t:return[264,t-10,0];case 12>=t:return[265,t-11,1];case 14>=t:return[266,t-13,1];case 16>=t:return[267,t-15,1];case 18>=t:return[268,t-17,1];case 22>=t:return[269,t-19,2];case 26>=t:return[270,t-23,2];case 30>=t:return[271,t-27,2];case 34>=t:return[272,t-31,2];case 42>=t:return[273,t-35,3];case 50>=t:return[274,t-43,3];case 58>=t:return[275,t-51,3];case 66>=t:return[276,t-59,3];case 82>=t:return[277,t-67,4];case 98>=t:return[278,t-83,4];case 114>=t:return[279,t-99,4];case 130>=t:return[280,t-115,4];case 162>=t:return[281,t-131,5];case 194>=t:return[282,t-163,5];case 226>=t:return[283,t-195,5];case 257>=t:return[284,t-227,5];case 258===t:return[285,t-258,0];default:e("invalid length: "+t)}}var n,i,r=[];for(n=3;258>=n;n++)i=t(n),r[n]=i[2]<<24|i[1]<<16|i[0];return r}(),I=o?new Uint32Array(S):S;function E(n,i){function r(t,n){var i,r,o,s,c=t.G,a=[],l=0;switch(i=I[t.length],a[l++]=65535&i,a[l++]=i>>16&255,a[l++]=i>>24,!0){case 1===c:r=[0,c-1,0];break;case 2===c:r=[1,c-2,0];break;case 3===c:r=[2,c-3,0];break;case 4===c:r=[3,c-4,0];break;case 6>=c:r=[4,c-5,1];break;case 8>=c:r=[5,c-7,1];break;case 12>=c:r=[6,c-9,2];break;case 16>=c:r=[7,c-13,2];break;case 24>=c:r=[8,c-17,3];break;case 32>=c:r=[9,c-25,3];break;case 48>=c:r=[10,c-33,4];break;case 64>=c:r=[11,c-49,4];break;case 96>=c:r=[12,c-65,5];break;case 128>=c:r=[13,c-97,5];break;case 192>=c:r=[14,c-129,6];break;case 256>=c:r=[15,c-193,6];break;case 384>=c:r=[16,c-257,7];break;case 512>=c:r=[17,c-385,7];break;case 768>=c:r=[18,c-513,8];break;case 1024>=c:r=[19,c-769,8];break;case 1536>=c:r=[20,c-1025,9];break;case 2048>=c:r=[21,c-1537,9];break;case 3072>=c:r=[22,c-2049,10];break;case 4096>=c:r=[23,c-3073,10];break;case 6144>=c:r=[24,c-4097,11];break;case 8192>=c:r=[25,c-6145,11];break;case 12288>=c:r=[26,c-8193,12];break;case 16384>=c:r=[27,c-12289,12];break;case 24576>=c:r=[28,c-16385,13];break;case 32768>=c:r=[29,c-24577,13];break;default:e("invalid distance")}for(i=r,a[l++]=i[0],a[l++]=i[1],a[l++]=i[2],o=0,s=a.length;o<s;++o)g[y++]=a[o];v[a[0]]++,m[a[3]]++,C=t.length+n-1,f=null}var s,c,a,l,u,d,h,f,p,_={},g=o?new Uint16Array(2*i.length):[],y=0,C=0,v=new(o?Uint32Array:Array)(286),m=new(o?Uint32Array:Array)(30),S=n.w;if(!o){for(a=0;285>=a;)v[a++]=0;for(a=0;29>=a;)m[a++]=0}for(v[256]=1,s=0,c=i.length;s<c;++s){for(a=u=0,l=3;a<l&&s+a!==c;++a)u=u<<8|i[s+a];if(_[u]===t&&(_[u]=[]),d=_[u],!(0<C--)){for(;0<d.length&&32768<s-d[0];)d.shift();if(s+3>=c){for(f&&r(f,-1),a=0,l=c-s;a<l;++a)p=i[s+a],g[y++]=p,++v[p];break}0<d.length?(h=b(i,s,d),f?f.length<h.length?(p=i[s-1],g[y++]=p,++v[p],r(h,0)):r(f,-1):h.length<S?f=h:r(h,0)):f?r(f,-1):(p=i[s],g[y++]=p,++v[p])}d.push(s)}return g[y++]=256,v[256]++,n.L=v,n.K=m,o?g.subarray(0,y):g}function b(e,t,n){var i,r,o,s,c,a,l=0,u=e.length;s=0,a=n.length;e:for(;s<a;s++){if(i=n[a-s-1],o=3,3<l){for(c=l;3<c;c--)if(e[i+c-1]!==e[t+c-1])continue e;o=l}for(;258>o&&t+o<u&&e[i+o]===e[t+o];)++o;if(o>l&&(r=i,l=o),258===o)break}return new m(l,t-r)}function R(e,t){var n,i,r,s,c,a=e.length,l=new f(572),u=new(o?Uint8Array:Array)(a);if(!o)for(s=0;s<a;s++)u[s]=0;for(s=0;s<a;++s)0<e[s]&&l.push(s,e[s]);if(n=Array(l.length/2),i=new(o?Uint32Array:Array)(l.length/2),1===n.length)return u[l.pop().index]=1,u;for(s=0,c=l.length/2;s<c;++s)n[s]=l.pop(),i[s]=n[s].value;for(r=function(e,t,n){function i(e){var n=p[e][_[e]];n===t?(i(e+1),i(e+1)):--h[n],++_[e]}var r,s,c,a,l,u=new(o?Uint16Array:Array)(n),d=new(o?Uint8Array:Array)(n),h=new(o?Uint8Array:Array)(t),f=Array(n),p=Array(n),_=Array(n),g=(1<<n)-t,y=1<<n-1;for(u[n-1]=t,s=0;s<n;++s)g<y?d[s]=0:(d[s]=1,g-=y),g<<=1,u[n-2-s]=(u[n-1-s]/2|0)+t;for(u[0]=d[0],f[0]=Array(u[0]),p[0]=Array(u[0]),s=1;s<n;++s)u[s]>2*u[s-1]+d[s]&&(u[s]=2*u[s-1]+d[s]),f[s]=Array(u[s]),p[s]=Array(u[s]);for(r=0;r<t;++r)h[r]=n;for(c=0;c<u[n-1];++c)f[n-1][c]=e[c],p[n-1][c]=c;for(r=0;r<n;++r)_[r]=0;for(1===d[n-1]&&(--h[0],++_[n-1]),s=n-2;0<=s;--s){for(a=r=0,l=_[s+1],c=0;c<u[s];c++)(a=f[s+1][l]+f[s+1][l+1])>e[r]?(f[s][c]=a,p[s][c]=t,l+=2):(f[s][c]=e[r],p[s][c]=r,++r);_[s]=0,1===d[s]&&i(s)}return h}(i,i.length,t),s=0,c=n.length;s<c;++s)u[n[s].index]=r[s];return u}function w(e){var t,n,i,r,s=new(o?Uint16Array:Array)(e.length),c=[],a=[],l=0;for(t=0,n=e.length;t<n;t++)c[e[t]]=1+(0|c[e[t]]);for(t=1,n=16;t<=n;t++)a[t]=l,l+=0|c[t],l<<=1;for(t=0,n=e.length;t<n;t++)for(l=a[e[t]],a[e[t]]+=1,i=s[t]=0,r=e[t];i<r;i++)s[t]=s[t]<<1|1&l,l>>>=1;return s}function x(t,n){switch(this.l=[],this.m=32768,this.e=this.g=this.c=this.q=0,this.input=o?new Uint8Array(t):t,this.s=!1,this.n=D,this.B=!1,!n&&(n={})||(n.index&&(this.c=n.index),n.bufferSize&&(this.m=n.bufferSize),n.bufferType&&(this.n=n.bufferType),n.resize&&(this.B=n.resize)),this.n){case P:this.b=32768,this.a=new(o?Uint8Array:Array)(32768+this.m+258);break;case D:this.b=0,this.a=new(o?Uint8Array:Array)(this.m),this.f=this.J,this.t=this.H,this.o=this.I;break;default:e(Error("invalid inflate mode"))}}var P=0,D=1,O={D:P,C:D};x.prototype.p=function(){for(;!this.s;){var i=Y(this,3);switch(1&i&&(this.s=n),i>>>=1){case 0:var r=this.input,s=this.c,c=this.a,a=this.b,l=r.length,u=t,d=c.length,h=t;switch(this.e=this.g=0,s+1>=l&&e(Error("invalid uncompressed block header: LEN")),u=r[s++]|r[s++]<<8,s+1>=l&&e(Error("invalid uncompressed block header: NLEN")),u===~(r[s++]|r[s++]<<8)&&e(Error("invalid uncompressed block header: length verify")),s+u>r.length&&e(Error("input buffer is broken")),this.n){case P:for(;a+u>c.length;){if(u-=h=d-a,o)c.set(r.subarray(s,s+h),a),a+=h,s+=h;else for(;h--;)c[a++]=r[s++];this.b=a,c=this.f(),a=this.b}break;case D:for(;a+u>c.length;)c=this.f({v:2});break;default:e(Error("invalid inflate mode"))}if(o)c.set(r.subarray(s,s+u),a),a+=u,s+=u;else for(;u--;)c[a++]=r[s++];this.c=s,this.b=a,this.a=c;break;case 1:this.o(G,Q);break;case 2:var f,_,g,y,C=Y(this,5)+257,v=Y(this,5)+1,m=Y(this,4)+4,S=new(o?Uint8Array:Array)(k.length),I=t,E=t,b=t,R=t,w=t;for(w=0;w<m;++w)S[k[w]]=Y(this,3);if(!o)for(w=m,m=S.length;w<m;++w)S[k[w]]=0;for(f=p(S),I=new(o?Uint8Array:Array)(C+v),w=0,y=C+v;w<y;)switch(E=J(this,f)){case 16:for(R=3+Y(this,2);R--;)I[w++]=b;break;case 17:for(R=3+Y(this,3);R--;)I[w++]=0;b=0;break;case 18:for(R=11+Y(this,7);R--;)I[w++]=0;b=0;break;default:b=I[w++]=E}_=p(o?I.subarray(0,C):I.slice(0,C)),g=p(o?I.subarray(C):I.slice(C)),this.o(_,g);break;default:e(Error("unknown BTYPE: "+i))}}return this.t()};var M,A,N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],k=o?new Uint16Array(N):N,T=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],L=o?new Uint16Array(T):T,U=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],V=o?new Uint8Array(U):U,F=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],j=o?new Uint16Array(F):F,B=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],H=o?new Uint8Array(B):B,q=new(o?Uint8Array:Array)(288);for(M=0,A=q.length;M<A;++M)q[M]=143>=M?8:255>=M?9:279>=M?7:8;var W,z,G=p(q),K=new(o?Uint8Array:Array)(30);for(W=0,z=K.length;W<z;++W)K[W]=5;var Q=p(K);function Y(t,n){for(var i,r=t.g,o=t.e,s=t.input,c=t.c,a=s.length;o<n;)c>=a&&e(Error("input buffer is broken")),r|=s[c++]<<o,o+=8;return i=r&(1<<n)-1,t.g=r>>>n,t.e=o-n,t.c=c,i}function J(t,n){for(var i,r,o=t.g,s=t.e,c=t.input,a=t.c,l=c.length,u=n[0],d=n[1];s<d&&!(a>=l);)o|=c[a++]<<s,s+=8;return(r=(i=u[o&(1<<d)-1])>>>16)>s&&e(Error("invalid code length: "+r)),t.g=o>>r,t.e=s-r,t.c=a,65535&i}function X(e){if("string"==typeof e){var t,n,i=e.split("");for(t=0,n=i.length;t<n;t++)i[t]=(255&i[t].charCodeAt(0))>>>0;e=i}for(var r,o=1,s=0,c=e.length,a=0;0<c;){c-=r=1024<c?1024:c;do{s+=o+=e[a++]}while(--r);o%=65521,s%=65521}return(s<<16|o)>>>0}function Z(t,n){var i,r;switch(this.input=t,this.c=0,!n&&(n={})||(n.index&&(this.c=n.index),n.verify&&(this.M=n.verify)),i=t[this.c++],r=t[this.c++],15&i){case $:this.method=$;break;default:e(Error("unsupported compression method"))}0!=((i<<8)+r)%31&&e(Error("invalid fcheck flag:"+((i<<8)+r)%31)),32&r&&e(Error("fdict flag is not supported")),this.A=new x(t,{index:this.c,bufferSize:n.bufferSize,bufferType:n.bufferType,resize:n.resize})}x.prototype.o=function(e,t){var n=this.a,i=this.b;this.u=e;for(var r,o,s,c,a=n.length-258;256!==(r=J(this,e));)if(256>r)i>=a&&(this.b=i,n=this.f(),i=this.b),n[i++]=r;else for(c=L[o=r-257],0<V[o]&&(c+=Y(this,V[o])),r=J(this,t),s=j[r],0<H[r]&&(s+=Y(this,H[r])),i>=a&&(this.b=i,n=this.f(),i=this.b);c--;)n[i]=n[i++-s];for(;8<=this.e;)this.e-=8,this.c--;this.b=i},x.prototype.I=function(e,t){var n=this.a,i=this.b;this.u=e;for(var r,o,s,c,a=n.length;256!==(r=J(this,e));)if(256>r)i>=a&&(a=(n=this.f()).length),n[i++]=r;else for(c=L[o=r-257],0<V[o]&&(c+=Y(this,V[o])),r=J(this,t),s=j[r],0<H[r]&&(s+=Y(this,H[r])),i+c>a&&(a=(n=this.f()).length);c--;)n[i]=n[i++-s];for(;8<=this.e;)this.e-=8,this.c--;this.b=i},x.prototype.f=function(){var e,t,n=new(o?Uint8Array:Array)(this.b-32768),i=this.b-32768,r=this.a;if(o)n.set(r.subarray(32768,n.length));else for(e=0,t=n.length;e<t;++e)n[e]=r[e+32768];if(this.l.push(n),this.q+=n.length,o)r.set(r.subarray(i,i+32768));else for(e=0;32768>e;++e)r[e]=r[i+e];return this.b=32768,r},x.prototype.J=function(e){var t,n,i,r=this.input.length/this.c+1|0,s=this.input,c=this.a;return e&&("number"==typeof e.v&&(r=e.v),"number"==typeof e.F&&(r+=e.F)),2>r?n=(i=(s.length-this.c)/this.u[2]/2*258|0)<c.length?c.length+i:c.length<<1:n=c.length*r,o?(t=new Uint8Array(n)).set(c):t=c,this.a=t},x.prototype.t=function(){var e,t,n,i,r,s=0,c=this.a,a=this.l,l=new(o?Uint8Array:Array)(this.q+(this.b-32768));if(0===a.length)return o?this.a.subarray(32768,this.b):this.a.slice(32768,this.b);for(t=0,n=a.length;t<n;++t)for(i=0,r=(e=a[t]).length;i<r;++i)l[s++]=e[i];for(t=32768,n=this.b;t<n;++t)l[s++]=c[t];return this.l=[],this.buffer=l},x.prototype.H=function(){var e,t=this.b;return o?this.B?(e=new Uint8Array(t)).set(this.a.subarray(0,t)):e=this.a.subarray(0,t):(this.a.length>t&&(this.a.length=t),e=this.a),this.buffer=e},Z.prototype.p=function(){var t,n=this.input;return t=this.A.p(),this.c=this.A.c,this.M&&((n[this.c++]<<24|n[this.c++]<<16|n[this.c++]<<8|n[this.c++])>>>0!==X(t)&&e(Error("invalid adler-32 checksum"))),t};var $=8;function ee(e,t){this.input=e,this.a=new(o?Uint8Array:Array)(32768),this.h=te.k;var n,i={};for(n in!t&&(t={})||"number"!=typeof t.compressionType||(this.h=t.compressionType),t)i[n]=t[n];i.outputBuffer=this.a,this.z=new _(this.input,i)}var te=C;function ne(e,t){var n,i,o,s;if(Object.keys)n=Object.keys(t);else for(i in n=[],o=0,t)n[o++]=i;for(o=0,s=n.length;o<s;++o)r(e+"."+(i=n[o]),t[i])}ee.prototype.j=function(){var t,n,i,r,s,c,a,l=0;switch(a=this.a,t=$){case $:n=Math.LOG2E*Math.log(32768)-8;break;default:e(Error("invalid compression method"))}switch(i=n<<4|t,a[l++]=i,t){case $:switch(this.h){case te.NONE:s=0;break;case te.r:s=1;break;case te.k:s=2;break;default:e(Error("unsupported compression type"))}break;default:e(Error("invalid compression method"))}return r=s<<6|0,a[l++]=r|31-(256*i+r)%31,c=X(this.input),this.z.b=l,l=(a=this.z.j()).length,o&&((a=new Uint8Array(a.buffer)).length<=l+4&&(this.a=new Uint8Array(a.length+4),this.a.set(a),a=this.a),a=a.subarray(0,l+4)),a[l++]=c>>24&255,a[l++]=c>>16&255,a[l++]=c>>8&255,a[l++]=255&c,a},r("Zlib.Inflate",Z),r("Zlib.Inflate.prototype.decompress",Z.prototype.p),ne("Zlib.Inflate.BufferType",{ADAPTIVE:O.C,BLOCK:O.D}),r("Zlib.Deflate",ee),r("Zlib.Deflate.compress",(function(e,t){return new ee(e,t).j()})),r("Zlib.Deflate.prototype.compress",ee.prototype.j),ne("Zlib.Deflate.CompressionType",{NONE:te.NONE,FIXED:te.r,DYNAMIC:te.k})}).call(a);var l=function(){function e(){r(this,e),this.eventObject={}}return s(e,[{key:"addEventListener",value:function(e,t){return Array.isArray(this.eventObject[e])||(this.eventObject[e]=[]),this.eventObject[e].push(t),this}},{key:"emitEventListener",value:function(e){var t=this.eventObject[e];if(t)for(var n=Array.prototype.slice.call(arguments,1),i=0;i<t.length;i++)try{t[i].apply(this,n)}catch(e){console.log(e)}return this}},{key:"removeEventListener",value:function(e,t){var n=this.eventObject[e];if(n)for(var i=n.length-1;i>=0;i--)n[i]==t&&(n[i]=null,n.splice(i,1));return this}},{key:"removeAllEvent",value:function(e){var t=this.eventObject[e];if(t)for(var n=t.length-1;n>=0;n--)t[n]=null;return this.eventObject[e]=null,this}}]),e}(),u=function(e){return JSON.parse(JSON.stringify(e))},d=["CRVideo_MicEnergyUpdate"],h=function(){function e(t){r(this,e),this.name=t,this.callback=function(){-1===d.indexOf(t)&&console.crlog("[CALLSVR] received undefined callback: "+t)}}return s(e,[{key:"trigger",value:function(){try{this.callback.apply(this,Array.prototype.slice.call(arguments,0))}catch(e){console.error(e)}}}]),e}();e.exports={base64:{encode:c.btoa,decode:c.atob},Zlib:a.Zlib,charToUint8Arr:function(e){for(var t,n=[],i=0;i<e.length;i++)if((t=e.charCodeAt(i))<128)n.push(t);else if(t<2048)n.push(192|t>>6&31),n.push(128|t>>0&63);else{if(!(t<65536))throw"不是UCS-2字符集";n.push(224|t>>12&15),n.push(128|t>>6&63),n.push(128|t>>0&63)}return new Uint8Array(n)},Uint8ArrToChar:function(e){var t,n,i,r,o,s;for(t="",i=e.length,n=0;n<i;)switch((r=e[n++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=String.fromCharCode(r);break;case 12:case 13:o=e[n++],t+=String.fromCharCode((31&r)<<6|63&o);break;case 14:o=e[n++],s=e[n++],t+=String.fromCharCode((15&r)<<12|(63&o)<<6|(63&s)<<0)}return t},clone:u,splitCutArr:function(e,t){for(var n=0,i=[];n<e.length;)i.push(e.slice(n,n+=t));return i},PrefixInteger:function(e,t){return(Array(t).join(0)+e).slice(-t)},SDK_event:new l,parseUrl:function(e){var t={protocol:/^(.+)\:\/\//,host:/\:\/\/(.+?)[\?\#\s\/]/,path:/\w(\/.*?)[\?\#\s]/,query:/\?(.+?)[\#\/\s]/,hash:/\#(\w+)\s$/};for(var n in e+=" ",t){var i=t[n];t[n]="query"===n?i.exec(e)&&i.exec(e)[1].split("&").reduce((function(e,t){var n=t.split("=");return e[n[0]]=n[1],e}),{}):i.exec(e)&&i.exec(e)[1]}return t},privacyAttrHide:function e(t){var n=["crPswd","UserPswd","Token","MeetPswd","HostPwd","sessionID","userPhoneNum","telephone","mobile","msg","msgText","password","openId","usrExtDat"],r=u(t);for(var o in r){var s=r[o];"string"==typeof s||"number"==typeof s||"boolean"==typeof s?n.indexOf(o)>-1&&(r[o]="****"):"object"===i(s)&&(r[o]=e(s))}return r},toString:function(e){if("string"==typeof e||"number"==typeof e||"boolean"==typeof e||void 0===e||"null"==typeof e)return String(e);if("object"===i(e))try{return JSON.stringify(e)}catch(t){return console.crlog("[Error] print error: ".concat(t)),e}return e},NewCallBack:h,isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},isObject:function(e){return"[object Object]"===Object.prototype.toString.call(e)},debounce:function(e,t){var n;return function(){var i=this;n||(n=!0,setTimeout((function(){n=!1,e.apply(i,void 0)}),t))}}}},function(e,t,n){(function(e,t,i){var r;function o(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=!1;try{c=!!wx}catch(e){c=!1}var a=n(2),l=n(7),u=n(3),d=n(4),h=n(0),f=n(19),p={Ice:{Slice:{}},IceMX:{},IceSSL:{},Glacier2:{},Conference:{},MS:{},SendCmd:{},Resm:{}},_=p.Ice,g=_.Slice,y=p.IceSSL,C=p.IceMX,v=p.Glacier2,m=p.Conference,S=p.MS,I=p.SendCmd,E=p.Resm;function b(){this.socketList={}}b.prototype={execute:function(e){var t=this.socketList[e];if(t){t.status=!0;for(var n=0;n<t.list.length;n++)t.list.shift()()}else this.socketList[e]={status:!0}},add:function(e,t){this.socketList[e]||(this.socketList[e]={status:!1,list:[]}),this.socketList[e].list.push(t)},del:function(e){this.socketList[e]=null,delete this.socketList[e]},isConnect:function(e){return this.socketList[e]&&this.socketList[e].status}};var R,w,x,P,D,O,M,A,N,k,T,L,U,V,F,j,B,H,q,W,z,G,K,Q,Y,J,X,Z,$,ee,te,ne,ie,re,oe,se,ce=new b;R={module:function(e){var t=p[e];return void 0===t&&(t={},p[e]=t),t},require:function(e){return p},type:function(e){if(void 0!==e){for(var t=e.split("."),n=p,i=0,r=t.length;i<r;++i)if(void 0===(n=n[t[i]]))return;return n}}},_.__require=function(){return p},_.Slice=_.Slice||{},_.__M=R,function(){var e=_.__M,t=_.Slice,n=function e(t,n){return t===n||null!=t&&null!=n&&t.prototype===n.prototype&&("function"==typeof t.equals?t.equals(n):t instanceof Array&&i.equals(t,n,e))},i={clone:function(e){return void 0===e?e:null===e?[]:e.slice()},equals:function(e,t,i){if(e.length!=t.length)return!1;var r,o,s=i||n;for(r=0,o=e.length;r<o;++r)if(!s.call(s,e[r],t[r]))return!1;return!0},shuffle:function(e){for(var t=e.length;t>1;--t){var n=e[t-1],i=Math.floor(Math.random()*t);e[t-1]=e[i],e[i]=n}},indexOf:function(e,t,n){if(null==n)return e.indexOf(t);for(var i=0;i<e.length;++i)if(n.call(n,e[i],t))return i;return-1},filter:function(e,t,n){n=void 0===n?t:n;for(var i=[],r=0;r<e.length;++r)t.call(n,e[r],r,e)&&i.push(e[r]);return i}};i.eq=n,t.defineSequence=function(t,n,i,r,o){var s=null;Object.defineProperty(t,n,{get:function(){return null===s&&(s=_.StreamHelpers.generateSeqHelper(e.type(i),r,e.type(o))),s}})},_.ArrayUtil=i}(),_.Class=function(){var e,t,n;1==arguments.length?t=arguments[0]:2==arguments.length&&(e=arguments[0],t=arguments[1]),void 0!==t&&(n=t.__init__)&&delete t.__init__;var i=n||function(){};if(void 0!==e&&(i.prototype=new e,i.prototype.constructor=i),void 0!==t)for(var r in t)i.prototype[r]=t[r];return i},function(){var e=_.Class,t=function(e,n,i,r){if(r+="  ",null===n)return"\n"+r+e+": (null)";if(void 0===n)return"\n"+r+e+": (undefined)";if("stack"==e||"function"==typeof n)return"";if("object"!=s(n))return"\n"+r+e+': "'+n+'"';if(-1!=i.indexOf(n))return"\n"+r+e+": (recursive)";i.push(n);var o="\n"+r+e+":";for(var c in n)0!==e.indexOf("_")&&"function"!=typeof n[c]&&(o+=r+t(c,n[c],i,r));return o},n=e(Error,{__init__:function(e){e&&(this.ice_cause=e)},ice_name:function(){return"Ice::Exception"},toString:function(){if(this._inToStringAlready)return"";this._inToStringAlready=!0;var e=this.ice_name();for(var n in this)"_inToStringAlready"!=n&&(e+=t(n,this[n],[],""));return!0===_.__printStackTraces&&this.stack&&(e+="\n"+this.stack),this._inToStringAlready=!1,e}});n.captureStackTrace=function(e){var t=(new Error).stack;void 0!==t&&Object.defineProperty(e,"stack",{get:function(){return t}})},_.Exception=n;var i=e(n,{__init__:function(e){n.call(this,e),n.captureStackTrace(this)},ice_name:function(){return"Ice::LocalException"}});_.LocalException=i;var r=_.Slice;r.defineLocalException=function(e,t,n){var i=e;return i.prototype=new t,i.prototype.constructor=i,i.prototype.ice_name=function(){return n},i};var o=e(n,{__init__:function(e){n.call(this,e),n.captureStackTrace(this)},ice_name:function(){return"Ice::UserException"},__write:function(e){e.startWriteException(null),c(this,e,this.__mostDerivedType()),e.endWriteException()},__read:function(e){e.startReadException(),a(this,e,this.__mostDerivedType()),e.endReadException(!1)},__usesClasses:function(){return!1}});_.UserException=o;var c=function e(t,n,i){void 0!==i&&i!==o&&(n.startWriteSlice(i.__id,-1,i.__parent===o),i.prototype.__writeMemberImpl&&i.prototype.__writeMemberImpl.call(t,n),n.endWriteSlice(),e(t,n,i.__parent))},a=function e(t,n,i){void 0!==i&&i!==o&&(n.startReadSlice(),i.prototype.__readMemberImpl&&i.prototype.__readMemberImpl.call(t,n),n.endReadSlice(),e(t,n,i.__parent))},l=function(e){e.startWriteException(this.__slicedData),c(this,e,this.__mostDerivedType()),e.endWriteException()},u=function(e){e.startReadException(),a(this,e,this.__mostDerivedType()),this.__slicedData=e.endReadException(!0)};r.defineUserException=function(e,t,n,i,r,o,s){var c=e;return c.__parent=t,c.prototype=new t,c.__id="::"+n,c.prototype.ice_name=function(){return n},c.prototype.constructor=c,c.prototype.__mostDerivedType=function(){return c},o&&(c.prototype.__write=l,c.prototype.__read=u),c.prototype.__writeMemberImpl=i,c.prototype.__readMemberImpl=r,s&&(c.prototype.__usesClasses=function(){return!0}),c}}(),_.AsyncStatus={Queued:0,Sent:1},(w=_.Class({__init__:function(e,t){if(t<0||t>w.MAX_UINT32)throw new RangeError("Low word must be between 0 and 0xFFFFFFFF");if(e<0||e>w.MAX_UINT32)throw new RangeError("High word must be between 0 and 0xFFFFFFFF");this.high=e,this.low=t},hashCode:function(){return this.low},equals:function(e){return this===e||e instanceof w&&this.high===e.high&&this.low===e.low},toString:function(){return this.high+":"+this.low},toNumber:function(){if(0!=(this.high&w.SIGN_MASK)){if(this.high===w.MAX_UINT32&&0!==this.low)return-(1+~this.low);var e=1+~this.high;return e>w.HIGH_MAX?Number.NEGATIVE_INFINITY:e*w.HIGH_MASK*-1+this.low}return this.high>w.HIGH_MAX?Number.POSITIVE_INFINITY:this.high*w.HIGH_MASK+this.low}})).MAX_UINT32=4294967295,w.SIGN_MASK=2147483648,w.HIGH_MASK=4294967296,w.HIGH_MAX=2097151,_.Long=w,_.AssertionFailedException=_.Class(Error,{__init__:function(e){Error.call(this),_.Exception.captureStackTrace(this),this.message=e}}),_.Debug={assert:function(e,t){if(!e)throw ae.Utils.log(void 0===t?"assertion failed":t),ae.Utils.log(Error().stack),new _.AssertionFailedException(void 0===t?"assertion failed":t)}},_.DispatchStatus={DispatchOK:0,DispatchUserException:1,DispatchAsync:2},function(){var e=_.Class({__init__:function(e,t){this._name=e,this._value=t},equals:function(e){return this===e||e instanceof Object.getPrototypeOf(this).constructor&&this._value==e._value},hashCode:function(){return this._value},toString:function(){return this._name}});_.EnumBase=e;var t=e.prototype;try{Object.defineProperty(t,"name",{enumerable:!0,get:function(){return this._name}}),Object.defineProperty(t,"value",{enumerable:!0,get:function(){return this._value}})}catch(e){}var n=_.Class({__init__:function(e){this._enumType=e},write:function(e,t){this._enumType.__write(e,t)},writeOpt:function(e,t,n){this._enumType.__writeOpt(e,t,n)},read:function(e){return this._enumType.__read(e)},readOpt:function(e,t){return this._enumType.__readOpt(e,t)}});_.EnumHelper=n,_.Slice.defineEnum=function(t){var i=function(t,n){e.call(this,t,n)};(i.prototype=new e).constructor=i;var r=[],o=0,s=null;for(var c in t){var a=t[c][0],l=t[c][1],u=new i(a,l);r[l]=u,s||(s=u),Object.defineProperty(i,a,{enumerable:!0,value:u}),l>o&&(o=l)}return Object.defineProperty(i,"minWireSize",{get:function(){return 1}}),i.__write=function(e,t){t?e.writeEnum(t):e.writeEnum(s)},i.__read=function(e){return e.readEnum(i)},i.__writeOpt=function(e,t,n){void 0!==n&&e.writeOpt(t,_.OptionalFormat.Size)&&i.__write(e,n)},i.__readOpt=function(e,t){return e.readOptEnum(t,i)},i.__helper=new n(i),Object.defineProperty(i,"valueOf",{value:function(e){return void 0===e?i:r[e]}}),Object.defineProperty(i,"maxValue",{value:o}),Object.defineProperty(i.prototype,"maxValue",{value:o}),i}}(),_.generateUUID=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:7&n|8).toString(16)}))},_.FormatType=_.Slice.defineEnum([["DefaultFormat",0],["CompactFormat",1],["SlicedFormat",2]]),function(){var e=_.Debug;function t(e,t,n){switch(e){case 92:t.push("\\\\");break;case 39:t.push("\\'");break;case 34:t.push('\\"');break;case 8:t.push("\\b");break;case 12:t.push("\\f");break;case 10:t.push("\\n");break;case 13:t.push("\\r");break;case 9:t.push("\\t");break;default:if(e>=32&&e<=126){var i=String.fromCharCode(e);null!==n&&-1!==n.indexOf(i)?(t.push("\\"),t.push(i)):t.push(i)}else{t.push("\\");for(var r=e.toString(8),o=r.length;o<3;o++)t.push("0");t.push(r)}}}function n(e,t){var n,i=e.charCodeAt(t);if(!(i>=32&&i<=126))throw n=t>0?"character after `"+e.substring(0,t)+"'":"first character",n+=" is not a printable ASCII character (ordinal "+i+")",new Error(n);return i}function i(t,i,r,o){if(e.assert(i>=0),e.assert(r<=t.length),i>=r)throw new Error("EOF while decoding string");var s;if("\\"!=t.charAt(i))s=n(t,i++);else{if(i+1==r)throw new Error("trailing backslash");switch(t.charAt(++i)){case"\\":case"'":case'"':s=t.charCodeAt(i++);break;case"b":++i,s="\b".charCodeAt(0);break;case"f":++i,s="\f".charCodeAt(0);break;case"n":++i,s="\n".charCodeAt(0);break;case"r":++i,s="\r".charCodeAt(0);break;case"t":++i,s="\t".charCodeAt(0);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":for(var c=0,a=0;a<3&&i<r;++a){var l=t.charAt(i++);if(-1=="01234567".indexOf(l)){--i;break}c=8*c+parseInt(l)}if(c>255){var u="octal value \\"+c.toString(8)+" ("+c+") is out of range";throw new Error(u)}s=c;break;default:s=n(t,i++)}}return o.value=i,s}_.StringUtil={findFirstOf:function(e,t,n){n=void 0===n?0:n;for(var i=e.length,r=n;r<i;r++){var o=e.charAt(r);if(-1!=t.indexOf(o))return r}return-1},findFirstNotOf:function(e,t,n){n=void 0===n?0:n;for(var i=e.length,r=n;r<i;r++){var o=e.charAt(r);if(-1==t.indexOf(o))return r}return-1},escapeString:function(e,n){var i,r;if(null!==(n=void 0===n?null:n))for(i=0,r=n.length;i<r;++i)if(n.charCodeAt(i)<32||n.charCodeAt(i)>126)throw new Error("special characters must be in ASCII range 32-126");var o,s=[];for(i=0,r=e.length;i<r;++i)(o=e.charCodeAt(i))<128?t(o,s,n):o>127&&o<2048?(t(o>>6|192,s,n),t(63&o|128,s,n)):(t(o>>12|224,s,n),t(o>>6&63|128,s,n),t(63&o|128,s,n));return s.join("")},unescapeString:function(t,n,r){n=void 0===n?0:n,r=void 0===r?t.length:r,e.assert(n>=0&&n<=r&&r<=t.length);var o=[];return function(e,t,n,r){for(var o,s,c,a={value:0};t<n;)o=i(e,t,n,a),t=a.value,o<128?r.push(String.fromCharCode(o)):o>191&&o<224?(s=i(e,t,n,a),t=a.value,r.push(String.fromCharCode((31&o)<<6|63&s))):(s=i(e,t,n,a),c=i(e,t=a.value,n,a),t=a.value,r.push(String.fromCharCode((15&o)<<12|(63&s)<<6|63&c)))}(t,n,r,o),o.join("")},splitString:function(e,t){for(var n=[],i="",r=0,o=null;r<e.length;)if(null!==o||'"'!==e.charAt(r)&&"'"!==e.charAt(r)){if(null===o&&"\\"===e.charAt(r)&&r+1<e.length&&('"'===e.charAt(r+1)||"'"===e.charAt(r+1)))++r;else if(null!==o&&"\\"===e.charAt(r)&&r+1<e.length&&e.charAt(r+1)===o)++r;else{if(null!==o&&e.charAt(r)===o){++r,o=null;continue}if(-1!==t.indexOf(e.charAt(r))&&null===o){++r,i.length>0&&(n.push(i),i="");continue}}r<e.length&&(i+=e.charAt(r++))}else o=e.charAt(r++);return i.length>0&&n.push(i),null!==o?null:n},checkQuote:function(e,t){t=void 0===t?0:t;var n=e.charAt(t);if('"'==n||"'"==n){t++;for(var i,r=e.length;t<r&&-1!=(i=e.indexOf(n,t));){if("\\"!=e.charAt(i-1))return i;t=i+1}return-1}return 0},hashCode:function(e){for(var t=0,n=e.length,i=0;i<n;i++)t=31*t+e.charCodeAt(i);return t},toInt:function(e){var t=parseInt(e,10);if(isNaN(t))throw new Error("conversion of `"+e+"' to int failed");return t}}}(),function(){var e=_.__M,t=_.StringUtil;function n(e,t,n,i,r){for(var o=e._table[r];null!==o;o=o._nextInBucket)if(o._hash===i&&e.keysEqual(t,o._key))return void(o._value=n);e.add(t,n,i,r)}function i(e,t){return e===t}var r=_.Class({__init__:function(e,t){var n,o,s,c,a;if("function"==typeof e?(o=e,s=t):e instanceof r&&(o=(n=e).keyComparator,s=n.valueComparator),this._size=0,this._head=null,this._initialCapacity=32,this._loadFactor=.75,this._table=[],this._keyComparator="function"==typeof o?o:i,this._valueComparator="function"==typeof s?s:i,n instanceof r&&n._size>0){for(this._threshold=n._threshold,a=n._table.length,this._table.length=a,c=0;c<a;c++)this._table[c]=null;this.merge(n)}else for(this._threshold=this._initialCapacity*this._loadFactor,c=0;c<this._initialCapacity;c++)this._table[c]=null},set:function(e,t){var i=this.computeHash(e),r=this.hashIndex(i.hash,this._table.length);return n(this,i.key,t,i.hash,r)},get:function(e){var t=this.computeHash(e),n=this.findEntry(t.key,t.hash);return void 0!==n?n._value:void 0},has:function(e){var t=this.computeHash(e);return void 0!==this.findEntry(t.key,t.hash)},del:function(e){for(var t=this.computeHash(e),n=this.hashIndex(t.hash,this._table.length),i=null,r=this._table[n];null!==r;r=r._nextInBucket){if(r._hash===t.hash&&this.keysEqual(t.key,r._key))return this._size--,null!==i?i._nextInBucket=r._nextInBucket:this._table[n]=r._nextInBucket,null!==r._prev&&(r._prev._next=r._next),null!==r._next&&(r._next._prev=r._prev),this._head===r&&(this._head=r._next),r._value;i=r}},clear:function(){for(var e=0;e<this._table.length;++e)this._table[e]=null;this._head=null,this._size=0},forEach:function(e,t){t=void 0===t?e:t;for(var n=this._head;null!==n;n=n._next)e.call(t,n._key,n._value)},keys:function(){for(var e=[],t=0,n=this._head;null!==n;n=n._next)e[t++]=n._key;return e},values:function(){for(var e=[],t=0,n=this._head;null!==n;n=n._next)e[t++]=n._value;return e},equals:function(e,t){if(null===e||!(e instanceof r)||this._size!==e._size)return!1;for(var n=this,i=t||function(e,t){return n._valueComparator.call(n._valueComparator,e,t)},o=this._head;null!==o;o=o._next){var s=e.findEntry(o._key,o._hash);if(void 0===s||!i(o._value,s._value))return!1}return!0},clone:function(){return new r(this)},merge:function(e){for(var t=e._head;null!==t;t=t._next)n(this,t._key,t._value,t._hash,this.hashIndex(t._hash,this._table.length))},add:function(e,t,n,i){var r=Object.create(null,{key:{enumerable:!0,get:function(){return this._key}},value:{enumerable:!0,get:function(){return this._value}},next:{enumerable:!0,get:function(){return this._next}},_key:{enumerable:!1,writable:!0,value:e},_value:{enumerable:!1,writable:!0,value:t},_prev:{enumerable:!1,writable:!0,value:null},_next:{enumerable:!1,writable:!0,value:null},_nextInBucket:{enumerable:!1,writable:!0,value:null},_hash:{enumerable:!1,writable:!0,value:n}});r._nextInBucket=this._table[i],this._table[i]=r,r._next=this._head,null!==this._head&&(this._head._prev=r),this._head=r,this._size++,this._size>=this._threshold&&this.resize(2*this._table.length)},resize:function(e){this._table;for(var t=[],n=0;n<e;n++)t[n]=null;for(var i=this._head;null!==i;i=i._next){var r=this.hashIndex(i._hash,e);i._nextInBucket=t[r],t[r]=i}this._table=t,this._threshold=e*this._loadFactor},findEntry:function(e,t){for(var n=this.hashIndex(t,this._table.length),i=this._table[n];null!==i;i=i._nextInBucket)if(i._hash===t&&this.keysEqual(e,i._key))return i},hashIndex:function(e,t){return e&t-1},computeHash:function(e){var n;if(0===e||-0===e)return{key:0,hash:0};if(null===e)return null===r._null&&(n=_.generateUUID(),r._null={key:n,hash:t.hashCode(n)}),r._null;if(void 0===e)throw new Error("cannot compute hash for undefined value");if("function"==typeof e.hashCode)return{key:e,hash:e.hashCode()};var i=s(e);if("string"===i||e instanceof String)return{key:e,hash:t.hashCode(e)};if("number"===i||e instanceof Number)return isNaN(e)?(null===r._nan&&(n=_.generateUUID(),r._nan={key:n,hash:t.hashCode(n)}),r._nan):{key:e,hash:e.toFixed(0)};if("boolean"===i||e instanceof Boolean)return{key:e,hash:e?1:0};throw new Error("cannot compute hash for value of type "+i)},keysEqual:function(e,t){return this._keyComparator.call(this._keyComparator,e,t)}});_.HashMap=r,r.compareEquals=function(e,t){return e===t||null!=e&&null!=t&&e.equals(t)},r.compareIdentity=i,r._null=null,r._nan=null;var o=r.prototype;Object.defineProperty(o,"size",{get:function(){return this._size}}),Object.defineProperty(o,"entries",{get:function(){return this._head}}),_.Slice.defineDictionary=function(t,n,i,o,s,c,a,l,u){t[n]=void 0!==a||void 0!==u?function(e){return new r(e||a,u)}:r;var d=null;Object.defineProperty(t,i,{get:function(){return null===d&&(d=_.StreamHelpers.generateDictHelper(e.type(o),e.type(s),c,e.type(l),t[n])),d}})}}(),_.OptionalFormat=_.Slice.defineEnum([["F1",0],["F2",1],["F4",2],["F8",3],["Size",4],["VSize",5],["FSize",6],["Class",7]]),function(){var e=_.Class,t=Object.defineProperty,n=(_.HashMap,_.OptionalFormat),i={FSizeOptHelper:function(){this.writeOpt=function(e,t,i){if(void 0!==i&&e.writeOpt(t,n.FSize)){var r=e.startSize();this.write(e,i),e.endSize(r)}},this.readOpt=function(e,t){var i;return e.readOpt(t,n.FSize)&&(e.skip(4),i=this.read(e)),i}},VSizeOptHelper:function(){this.writeOpt=function(e,t,i){void 0!==i&&e.writeOpt(t,n.VSize)&&(e.writeSize(this.minWireSize),this.write(e,i))},this.readOpt=function(e,t){var i;return e.readOpt(t,n.VSize)&&(e.skipSize(),i=this.read(e)),i}},VSizeContainerOptHelper:function(e){this.writeOpt=function(t,i,r){if(void 0!==r&&t.writeOpt(i,n.VSize)){var o=this.size(r);t.writeSize(o>254?o*e+5:o*e+1),this.write(t,r)}},this.readOpt=function(e,t){var i;return e.readOpt(t,n.VSize)&&(e.skipSize(),i=this.read(e)),i}},VSizeContainer1OptHelper:function(){this.writeOpt=function(e,t,i){void 0!==i&&e.writeOpt(t,n.VSize)&&this.write(e,i)},this.readOpt=function(e,t){var i;return e.readOpt(t,n.VSize)&&(i=this.read(e)),i}}},r=e({write:function(e,t){if(null===t||0===t.length)e.writeSize(0);else{var n=this.elementHelper;e.writeSize(t.length);for(var i=0;i<t.length;++i)n.write(e,t[i])}},read:function(e){var t=this.elementHelper,n=e.readAndCheckSeqSize(t.minWireSize),i=[];i.length=n;for(var r=0;r<n;++r)i[r]=t.read(e);return i},size:function(e){return null==e?0:e.length}});t(r.prototype,"minWireSize",{get:function(){return 1}});var o=new r;o.write=function(e,t){return e.writeByteSeq(t)},o.read=function(e){return e.readByteSeq()},t(o,"elementHelper",{get:function(){return _.ByteHelper}}),i.VSizeContainer1OptHelper.call(o);var s=function(e){var t=e.readAndCheckSeqSize(1),n=[];n.length=t;for(var i=this.elementType,r=function(t){e.readObject((function(e){n[t]=e}),i)},o=0;o<t;++o)r(o);return n};i.generateSeqHelper=function(e,n,c){if(e===_.ByteHelper)return o;var a=new r;return n?1===e.minWireSize?i.VSizeContainer1OptHelper.call(a):i.VSizeContainerOptHelper.call(a,e.minWireSize):i.FSizeOptHelper.call(a),t(a,"elementHelper",{get:function(){return e}}),e==_.ObjectHelper&&(t(a,"elementType",{get:function(){return c}}),a.read=s),a};var c=e({write:function(e,t){if(null==t||0===t.size)e.writeSize(0);else{var n=this.keyHelper,i=this.valueHelper;e.writeSize(t.size);for(var r=t.entries;null!==r;r=r.next)n.write(e,r.key),i.write(e,r.value)}},read:function(e){for(var t=new(0,this.mapType),n=e.readSize(),i=this.keyHelper,r=this.valueHelper,o=0;o<n;++o)t.set(i.read(e),r.read(e));return t},size:function(e){return null==e?0:e.size}});Object.defineProperty(c.prototype,"minWireSize",{get:function(){return 1}});var a=function(e){for(var t=e.readSize(),n=new(0,this.mapType),i=this.valueType,r=function(t){e.readObject((function(e){n.set(t,e)}),i)},o=this.keyHelper,s=0;s<t;++s)r(o.read(e));return n};i.generateDictHelper=function(e,n,r,o,s){var l=new c;return r?i.VSizeContainerOptHelper.call(l,e.minWireSize+n.minWireSize):i.FSizeOptHelper.call(l),t(l,"mapType",{get:function(){return s}}),t(l,"keyHelper",{get:function(){return e}}),t(l,"valueHelper",{get:function(){return n}}),n==_.ObjectHelper&&(t(l,"valueType",{get:function(){return o}}),l.read=a),l},_.StreamHelpers=i}(),function(){function t(){var t={setTimeout:function(){setTimeout.apply(null,arguments)},clearTimeout:function(){clearTimeout.apply(null,arguments)},setInterval:function(){setInterval.apply(null,arguments)},clearInterval:function(){clearInterval.apply(null,arguments)}};return t.setImmediate="function"==typeof e?function(){e.apply(null,arguments)}:function(){setTimeout.apply(null,arguments)},t}var n,i,r=_.HashMap,o=Number.MAX_SAFE_INTEGER||9007199254740991,s=new r,a={},l=0,u=function(){return l==o&&(l=0),l++};if(a.setTimeout=function(e,t){var i=u();return s.set(i,e),n.postMessage({type:0,id:i,ms:t}),i},a.clearTimeout=function(e){s.del(e),n.postMessage({type:3,id:e})},a.setInterval=function(e,t){var i=u();return s.set(i,e),n.postMessage({type:1,id:i,ms:t}),i},a.clearInterval=function(e){s.del(e),n.postMessage({type:4,id:e})},a.setImmediate=function(e){var t=u();return s.set(t,e),n.postMessage({type:2,id:t}),t},a.onmessage=function(e){var t;void 0!==(t=1===e.data.type?s.get(e.data.id):s.del(e.data.id))&&t.call()},void 0!==n||c)c&&(_.Timer=t());else try{i=URL.createObjectURL(new Blob(["("+function(){var e={};self.onmessage=function(t){0==t.data.type?e[t.data.id]=setTimeout((function(){self.postMessage(t.data)}),t.data.ms):1==t.data.type?e[t.data.id]=setInterval((function(){self.postMessage(t.data)}),t.data.ms):2==t.data.type?self.postMessage(t.data):3==t.data.type?(clearTimeout(e[t.data.id]),delete e[t.data.id]):4==t.data.type&&(clearInterval(e[t.data.id]),delete e[t.data.id])}}.toString()+"());"],{type:"text/javascript"})),(n=new Worker(i)).onmessage=a.onmessage,_.Timer=a}catch(e){URL.revokeObjectURL(i),_.Timer=t()}}(),function(){var e=_.Class,t=0,n=e({__init__:function(){this.__address=t++},hashCode:function(){return this.__address},ice_isA:function(e,t){return this.__mostDerivedType().__ids.indexOf(e)>=0},ice_ping:function(e){},ice_ids:function(e){return this.__mostDerivedType().__ids},ice_id:function(e){return this.__mostDerivedType().__id},toString:function(){return"[object "+this.ice_id()+"]"},ice_preMarshal:function(){},ice_postUnmarshal:function(){},__write:function(e){e.startWriteObject(null),i(this,e,this.__mostDerivedType()),e.endWriteObject()},__read:function(e){e.startReadObject(),r(this,e,this.__mostDerivedType()),e.endReadObject(!1)},ice_instanceof:function(e){return!!e&&(this instanceof e||this.__mostDerivedType().__instanceof(e))},__mostDerivedType:function(){return n},equals:function(e){return this===e}});n.write=function(e,t){e.writeObject(t)},n.writeOpt=function(e,t,n){e.writeOptObject(t,n)},n.read=function(e){var t={value:null};return e.readObject((function(e){t.value=e}),n),t},n.readOpt=function(e,t){var i={value:void 0};return e.readOptObject(t,(function(e){i.value=e}),n),i},n.ice_staticId=function(){return n.__id},n.__instanceof=function(e){if(e===this)return!0;for(var t in this.__implements)if(this.__implements[t].__instanceof(e))return!0;return!!this.__parent&&this.__parent.__instanceof(e)},n.__ids=["::Ice::Object"],n.__id=n.__ids[0],n.__compactId=-1,n.__preserved=!1;var i=function e(t,i,r){void 0!==r&&r!==n&&(i.startWriteSlice(r.__id,r.__compactId,r.__parent===n),r.prototype.__writeMemberImpl&&r.prototype.__writeMemberImpl.call(t,i),i.endWriteSlice(),e(t,i,r.__parent))},r=function e(t,i,r){void 0!==r&&r!==n&&(i.startReadSlice(),r.prototype.__readMemberImpl&&r.prototype.__readMemberImpl.call(t,i),i.endReadSlice(),e(t,i,r.__parent))},o=function(e){e.startWriteObject(this.__slicedData),i(this,e,this.__mostDerivedType()),e.endWriteObject()},s=function(e){e.startReadObject(),r(this,e,this.__mostDerivedType()),this.__slicedData=e.endReadObject(!0)};_.Object=n;var c=_.Slice;c.defineLocalObject=function(e,t){var n=e||function(){};return void 0!==t&&(n.prototype=new t,n.__parent=t,n.prototype.constructor=e),n},c.defineObject=function(e,t,i,r,c,a,l,u,d){var h=e||function(){};return h.prototype=new t,h.__parent=t,h.__ids=c,h.__id=c[r],h.__compactId=a,h.__instanceof=n.__instanceof,h.__implements=i,h.write=function(e,t){e.writeObject(t)},h.writeOpt=function(e,t,n){e.writeOptObject(t,n)},h.read=function(e){var t={value:null};return e.readObject((function(e){t.value=e}),h),t},h.readOpt=function(e,t){var n={value:void 0};return e.readOptObject(t,(function(e){n.value=e}),h),n},h.ice_staticId=function(){return c[r]},h.prototype.constructor=h,h.prototype.__mostDerivedType=function(){return h},d&&(h.prototype.__write=o,h.prototype.__read=s),h.prototype.__writeMemberImpl=l,h.prototype.__readMemberImpl=u,h}}(),x=_.StringUtil,_.HashUtil={addBoolean:function(e,t){return(e<<5)+e^(t?0:1)},addString:function(e,t){return null!=t&&(e=(e<<5)+e^x.hashCode(t)),e},addNumber:function(e,t){return(e<<5)+e^t},addHashable:function(e,t){return null!=t&&(e=(e<<5)+e^t.hashCode()),e},addArray:function(e,t,n){if(null!=t)for(var i=0;i<t.length;++i)e=n(e,t[i]);return e}},P=_.ArrayUtil,D=P.eq,O=function(e){if(this===e)return!0;if(null==e)return!1;if(this.prototype!==e.prototype)return!1;var t,n;for(var i in this)if(t=this[i],n=e[i],"function"!=typeof t&&!D(t,n))return!1;return!0},M=function(){var e,t=new this.constructor;for(var n in this)if(null==(e=this[n]))t[n]=e;else{if("function"==typeof e)continue;"function"==typeof e.clone?t[n]=e.clone():t[n]=e instanceof Array?P.clone(e):e}return t},A=function e(t,n){if("function"==typeof n.hashCode)return _.HashUtil.addHashable(t,n);if(n instanceof Array)return _.HashUtil.addArray(t,n,e);var i=s(n);return n instanceof String||"string"==i?_.HashUtil.addString(t,n):n instanceof Number||"number"==i?_.HashUtil.addNumber(t,n):n instanceof Boolean||"boolean"==i?_.HashUtil.addBoolean(t,n):void 0},N=function(){var e,t=5381;for(var n in this)null!=(e=this[n])&&"function"!=typeof e&&(t=A(t,e));return t},_.Slice.defineStruct=function(e,t,n,i,r,o){var s=e;return s.prototype.clone=M,s.prototype.equals=O,t&&(s.prototype.hashCode=N),i&&n&&(s.prototype.__write=n,s.prototype.__read=i,s.write=function(e,t){t||(s.prototype._nullMarshalValue||(s.prototype._nullMarshalValue=new this),t=s.prototype._nullMarshalValue),t.__write(e)},s.read=function(e,t){return t&&t instanceof this||(t=new this),t.__read(e),t},Object.defineProperty(s,"minWireSize",{get:function(){return r}}),o?_.StreamHelpers.VSizeOptHelper.call(s):_.StreamHelpers.FSizeOptHelper.call(s)),s},_.CompactIdRegistry=new _.HashMap,g.defineSequence(_,"BoolSeqHelper","Ice.BoolHelper",!0),g.defineSequence(_,"ByteSeqHelper","Ice.ByteHelper",!0),g.defineSequence(_,"ShortSeqHelper","Ice.ShortHelper",!0),g.defineSequence(_,"IntSeqHelper","Ice.IntHelper",!0),g.defineSequence(_,"LongSeqHelper","Ice.LongHelper",!0),g.defineSequence(_,"FloatSeqHelper","Ice.FloatHelper",!0),g.defineSequence(_,"DoubleSeqHelper","Ice.DoubleHelper",!0),g.defineSequence(_,"StringSeqHelper","Ice.StringHelper",!1),g.defineSequence(_,"ObjectSeqHelper","Ice.ObjectHelper",!1,"Ice.Object"),g.defineSequence(_,"ObjectProxySeqHelper","Ice.ObjectPrx",!1),_.ReferenceMode={ModeTwoway:0,ModeOneway:1,ModeBatchOneway:2,ModeDatagram:3,ModeBatchDatagram:4,ModeLast:4},function(){var e=_.Long;ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=function(e,t){var n=new Uint8Array(this);t=void 0===t?n.length:t;for(var i=new Uint8Array(new ArrayBuffer(t-e)),r=0,o=i.length;r<o;r++)i[r]=n[r+e];return i.buffer});var t=_.Class({__init__:function(e){void 0!==e?(this.b=e,this.v=new DataView(this.b)):(this.b=null,this.v=null),this._position=0,this._limit=0,this._shrinkCounter=0},empty:function(){return 0===this._limit},resize:function(e){0===e?this.clear():e>this.capacity&&this.reserve(e),this._limit=e},clear:function(){this.b=null,this.v=null,this._position=0,this._limit=0},expand:function(e){var t=0===this.capacity?e:this._position+e;t>this._limit&&this.resize(t)},reset:function(){this._limit>0&&2*this._limit<this.capacity?++this._shrinkCounter>2&&(this.reserve(this._limit),this._shrinkCounter=0):this._shrinkCounter=0,this._limit=0,this._position=0},reserve:function(e){if(e>this.capacity){var t=Math.max(e,2*this.capacity);if(t=Math.max(1024,t),this.b){var n=new Uint8Array(t);n.set(new Uint8Array(this.b)),this.b=n.buffer}else this.b=new ArrayBuffer(t);this.v=new DataView(this.b)}else{if(!(e<this.capacity))return;this.b=this.b.slice(0,this.capacity),this.v=new DataView(this.b)}},put:function(e){if(this._position===this._limit)throw new Error("BufferOverflowException");this.v.setUint8(this._position,e),this._position++},putAt:function(e,t){if(e>=this._limit)throw new Error("IndexOutOfBoundsException");this.v.setUint8(e,t)},putArray:function(e){if(!(e instanceof Uint8Array))throw new TypeError("argument is not a Uint8Array");if(e.byteLength>0){if(this._position+e.length>this._limit)throw new Error("BufferOverflowException");new Uint8Array(this.b,0,this.b.byteLength).set(e,this._position),this._position+=e.byteLength}},putShort:function(e){if(this._position+2>this._limit)throw new Error("BufferOverflowException");this.v.setInt16(this._position,e,!0),this._position+=2},putInt:function(e){if(this._position+4>this._limit)throw new Error("BufferOverflowException");this.v.setInt32(this._position,e,!0),this._position+=4},putIntAt:function(e,t){if(e+4>this._limit||e<0)throw new Error("IndexOutOfBoundsException");this.v.setInt32(e,t,!0)},putFloat:function(e){if(this._position+4>this._limit)throw new Error("BufferOverflowException");this.v.setFloat32(this._position,e,!0),this._position+=4},putDouble:function(e){if(this._position+8>this._limit)throw new Error("BufferOverflowException");this.v.setFloat64(this._position,e,!0),this._position+=8},putLong:function(e){if(this._position+8>this._limit)throw new Error("BufferOverflowException");this.v.setInt32(this._position,e.low,!0),this._position+=4,this.v.setInt32(this._position,e.high,!0),this._position+=4},writeString:function(e,t){var n=unescape(encodeURIComponent(t));e.writeSize(n.length),e.expand(n.length),this.putString(n,n.length)},putString:function(e,t){if(this._position+t>this._limit)throw new Error("BufferOverflowException");for(var n=0;n<t;++n)this.v.setUint8(this._position,e.charCodeAt(n)),this._position++},get:function(){if(this._position>=this._limit)throw new Error("BufferUnderflowException");var e=this.v.getUint8(this._position);return this._position++,e},getAt:function(e){if(e<0||e>=this._limit)throw new Error("IndexOutOfBoundsException");return this.v.getUint8(e)},getArray:function(e){if(this._position+e>this._limit)throw new Error("BufferUnderflowException");var t=this.b.slice(this._position,this._position+e);return this._position+=e,new Uint8Array(t)},getArrayAt:function(e,t){if(e+t>this._limit)throw new Error("BufferUnderflowException");return t=void 0===t?this.b.byteLength-e:t,new Uint8Array(this.b.slice(e,e+t))},getShort:function(){if(this._limit-this._position<2)throw new Error("BufferUnderflowException");var e=this.v.getInt16(this._position,!0);return this._position+=2,e},getInt:function(){if(this._limit-this._position<4)throw new Error("BufferUnderflowException");var e=this.v.getInt32(this._position,!0);return this._position+=4,e},getFloat:function(){if(this._limit-this._position<4)throw new Error("BufferUnderflowException");var e=this.v.getFloat32(this._position,!0);return this._position+=4,e},getDouble:function(){if(this._limit-this._position<8)throw new Error("BufferUnderflowException");var e=this.v.getFloat64(this._position,!0);return this._position+=8,e},getLong:function(){if(this._limit-this._position<8)throw new Error("BufferUnderflowException");var t=new e;return t.low=this.v.getUint32(this._position,!0),this._position+=4,t.high=this.v.getUint32(this._position,!0),this._position+=4,t},getString:function(e){if(this._position+e>this._limit)throw new Error("BufferUnderflowException");for(var t=new DataView(this.b,this._position,e),n="",i=0;i<e;++i)n+=String.fromCharCode(t.getUint8(i));return this._position+=e,n=decodeURIComponent(escape(n))}}),n=t.prototype;Object.defineProperty(n,"position",{get:function(){return this._position},set:function(e){e>=0&&e<=this._limit&&(this._position=e)}}),Object.defineProperty(n,"limit",{get:function(){return this._limit},set:function(e){e<=this.capacity&&(this._limit=e,this._position>e&&(this._position=e))}}),Object.defineProperty(n,"capacity",{get:function(){return null===this.b?0:this.b.byteLength}}),Object.defineProperty(n,"remaining",{get:function(){return this._limit-this._position}}),t.createNative=function(e){return void 0===e?new Uint8Array(0):new Uint8Array(e)},_.Buffer=t}(),function(){var e=_.Buffer,t={},n="A".charCodeAt(0),i="a".charCodeAt(0),r="0".charCodeAt(0);function o(e){return e<26?String.fromCharCode(n+e):e<52?String.fromCharCode(i+(e-26)):e<62?String.fromCharCode(r+(e-52)):62==e?"+":"/"}function s(e){return e>="A"&&e<="Z"?e.charCodeAt(0)-n:e>="a"&&e<="z"?e.charCodeAt(0)-i+26:e>="0"&&e<="9"?e.charCodeAt(0)-r+52:"+"==e?62:63}t.encode=function(e){if(null===e||0===e.length)return"";e.length;for(var t,n,i,r,s,c,a,l=[],u=0;u<e.length;u+=3)t=255&e[u],n=0,i=0,u+1<e.length&&(n=255&e[u+1]),u+2<e.length&&(i=255&e[u+2]),r=t>>2&255,s=255&((3&t)<<4|n>>4),c=255&((15&n)<<2|i>>6),a=63&i,l.push(o(r)),l.push(o(s)),u+1<e.length?l.push(o(c)):l.push("="),u+2<e.length?l.push(o(a)):l.push("=");for(var d=l.join(""),h=[],f=0;d.length-f>76;)h.push(d.substring(f,f+76)),h.push("\r\n"),f+=76;return h.push(d.substring(f)),h.join("")},t.decode=function(n){for(var i=[],r=0;r<n.length;r++){var o=n.charAt(r);t.isBase64(o)&&i.push(o)}if(0===i.length)return null;var c,a,l,u,d,h,f,p,_=3*i.length/4+1,g=new e;g.resize(_);for(var y=0;y<i.length;y+=4)h="A",f="A",p="A",d=i[y],y+1<i.length&&(h=i[y+1]),y+2<i.length&&(f=i[y+2]),y+3<i.length&&(p=i[y+3]),c=255&s(d),a=255&s(h),l=255&s(f),u=255&s(p),g.put(c<<2|a>>4),"="!=f&&g.put((15&a)<<4|l>>2),"="!=p&&g.put((3&l)<<6|u);return g.remaining>0?g.getArrayAt(0,g.position):g.getArrayAt(0)},t.isBase64=function(e){return e>="A"&&e<="Z"||e>="a"&&e<="z"||e>="0"&&e<="9"||"+"==e||"/"==e||"="==e},_.Base64=t}(),_.Identity=g.defineStruct((function(e,t){this.name=void 0!==e?e:"",this.category=void 0!==t?t:""}),!0,(function(e){e.writeString(this.name),e.writeString(this.category)}),(function(e){this.name=e.readString(),this.category=e.readString()}),2,!1),g.defineDictionary(_,"ObjectDict","ObjectDictHelper","Ice.Identity","Ice.ObjectHelper",!1,_.HashMap.compareEquals,"Ice.Object"),g.defineSequence(_,"IdentitySeqHelper","Ice.Identity",!1),_.ProtocolVersion=g.defineStruct((function(e,t){this.major=void 0!==e?e:0,this.minor=void 0!==t?t:0}),!0,(function(e){e.writeByte(this.major),e.writeByte(this.minor)}),(function(e){this.major=e.readByte(),this.minor=e.readByte()}),2,!0),_.EncodingVersion=g.defineStruct((function(e,t){this.major=void 0!==e?e:0,this.minor=void 0!==t?t:0}),!0,(function(e){e.writeByte(this.major),e.writeByte(this.minor)}),(function(e){this.major=e.readByte(),this.minor=e.readByte()}),2,!0),function(){_.SliceInfo=function(){this.typeId="",this.compactId=-1,this.bytes=[],this.objects=[],this.hasOptionalMembers=!1,this.isLastSlice=!1},_.SlicedData=function(e){this.slices=e};var e=_.Class(_.Object,{__init__:function(e){this._unknownTypeId=e},getUnknownTypeId:function(){return this._unknownTypeId},__write:function(e){e.startWriteObject(this._slicedData),e.endWriteObject()},__read:function(e){e.startReadObject(),this._slicedData=e.endReadObject(!0)}});_.UnknownSlicedObject=e}(),function(){var e=_.HashMap,t=_.Debug,n=_.Class({__init__:function(){this._adapterEndpointsTable=new e,this._objectTable=new e(e.compareEquals)},clear:function(){this._adapterEndpointsTable.clear(),this._objectTable.clear()},getAdapterEndpoints:function(e,t,n){if(0===t)return n.value=!1,null;var i=this._adapterEndpointsTable.get(e);return void 0!==i?(n.value=this.checkTTL(i.time,t),i.endpoints):(n.value=!1,null)},addAdapterEndpoints:function(e,t){this._adapterEndpointsTable.set(e,new i(Date.now(),t))},removeAdapterEndpoints:function(e){var t=this._adapterEndpointsTable.get(e);return this._adapterEndpointsTable.del(e),void 0!==t?t.endpoints:null},getObjectReference:function(e,t,n){if(0===t)return n.value=!1,null;var i=this._objectTable.get(e);return void 0!==i?(n.value=this.checkTTL(i.time,t),i.reference):(n.value=!1,null)},addObjectReference:function(e,t){this._objectTable.set(e,new r(Date.now(),t))},removeObjectReference:function(e){var t=this._objectTable.get(e);return this._objectTable.del(e),void 0!==t?t.reference:null},checkTTL:function(e,n){return t.assert(0!==n),n<0||Date.now()-e<=1e3*n}});_.LocatorTable=n;var i=function(e,t){this.time=e,this.endpoints=t},r=function(e,t){this.time=e,this.reference=t}}(),function(){var e=_.Timer,t=0,n=1,i=2,r=function(e,t){var i=e.__state===n?t.onResponse:t.onException;try{if("function"!=typeof i)t.promise.setState(e.__state,e._args);else{var r=i.apply(null,e._args);r&&"function"==typeof r.then?r.then((function(){var e=arguments;t.promise.succeed.apply(t.promise,e)}),(function(){var e=arguments;t.promise.fail.apply(t.promise,e)})):t.promise.succeed(r)}}catch(e){t.promise.fail.call(t.promise,e)}},o=_.Class({__init__:function(){this.__state=t,this.__listeners=[]},then:function(t,n){var i=new o,r=this;return e.setImmediate((function(){r.__listeners.push({promise:i,onResponse:t,onException:n}),r.resolve()})),i},exception:function(e){return this.then(null,e)},finally2:function(t){var n=new o,i=this,r=function(e){return function(){var i=arguments;try{var r=t.apply(null,i);if(r&&"function"==typeof r.then){var o=function(){e.apply(n,i)};r.then(o).exception(o)}else e.apply(n,i)}catch(t){e.apply(n,i)}}};return e.setImmediate((function(){i.then(r(n.succeed),r(n.fail))})),n},delay:function(t){var n=new o,i=this,r=function(n,i){return function(){var r=arguments;e.setTimeout((function(){i.apply(n,r)}),t)}};return e.setImmediate((function(){i.then(r(n,n.succeed),r(n,n.fail))})),n},resolve:function(){if(this.__state!==t)for(var e;e=this.__listeners.pop();)r(this,e)},setState:function(e,n){this.__state===t&&e!==t&&(this.__state=e,this._args=n,this.resolve())},succeed:function(){var e=arguments;return this.setState(n,e),this},fail:function(){var e=arguments;return this.setState(i,e),this},succeeded:function(){return this.__state===n},failed:function(){return this.__state===i},completed:function(){return this.__state!==t}});o.all=function(){if(1===arguments.length&&arguments[0]instanceof Array)return o.all.apply(this,arguments[0]);var e=new o,t=Array.prototype.slice.call(arguments),n=new Array(arguments.length),i=t.length;0===i&&e.succeed.apply(e,n);for(var r=0;r<t.length;++r)!function(r){t[r]&&"function"==typeof t[r].then?t[r].then((function(){n[r]=arguments,0==--i&&e.succeed.apply(e,n)}),(function(){e.fail.apply(e,arguments)})):(n[r]=t[r],0==--i&&e.succeed.apply(e,n))}(r);return e},o.try2=function(e){return(new o).succeed().then(e)},o.delay=function(e){if(arguments.length>1){var t=new o,n=Array.prototype.slice.call(arguments);return e=n.pop(),t.succeed.apply(t,n).delay(e)}return(new o).succeed().delay(e)},_.Promise=o}(),k=_.Class({__init__:function(e){void 0!==e&&e.length>0?this._prefix=e+": ":this._prefix="",this._dateformat={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1}},print:function(e){this.write(e,!1)},trace:function(e,t){var n=[];new Date,n.push("-- "),n.push(this.timestamp()),n.push(" "),n.push(this._prefix),n.push(e),n.push(": "),n.push(t),this.write(n.join(""),!0)},warning:function(e){var t=[];new Date,t.push("-! "),t.push(this.timestamp()),t.push(" "),t.push(this._prefix),t.push("warning: "),t.push(e),this.write(t.join(""),!0)},error:function(e){var t=[];new Date,t.push("!! "),t.push(this.timestamp()),t.push(" "),t.push(this._prefix),t.push("error: "),t.push(e),this.write(t.join(""),!0)},cloneWithPrefix:function(e){return new k(e)},write:function(e,t){t&&(e=e.replace(/\n/g,"\n   ")),ae.Utils.log(e)},timestamp:function(){var e=new Date;return e.toLocaleString("en-US",this._dateformat)+"."+e.getMilliseconds()}}),_.Logger=k,_.InitializationException=g.defineLocalException((function(e,t){_.LocalException.call(this,t),this.reason=void 0!==e?e:""}),_.LocalException,"Ice::InitializationException"),_.PluginInitializationException=g.defineLocalException((function(e,t){_.LocalException.call(this,t),this.reason=void 0!==e?e:""}),_.LocalException,"Ice::PluginInitializationException"),_.CollocationOptimizationException=g.defineLocalException((function(e){_.LocalException.call(this,e)}),_.LocalException,"Ice::CollocationOptimizationException"),_.AlreadyRegisteredException=g.defineLocalException((function(e,t,n){_.LocalException.call(this,n),this.kindOfObject=void 0!==e?e:"",this.id=void 0!==t?t:""}),_.LocalException,"Ice::AlreadyRegisteredException"),_.NotRegisteredException=g.defineLocalException((function(e,t,n){_.LocalException.call(this,n),this.kindOfObject=void 0!==e?e:"",this.id=void 0!==t?t:""}),_.LocalException,"Ice::NotRegisteredException"),_.TwowayOnlyException=g.defineLocalException((function(e,t){_.LocalException.call(this,t),this.operation=void 0!==e?e:""}),_.LocalException,"Ice::TwowayOnlyException"),_.CloneNotImplementedException=g.defineLocalException((function(e){_.LocalException.call(this,e)}),_.LocalException,"Ice::CloneNotImplementedException"),_.UnknownException=g.defineLocalException((function(e,t){_.LocalException.call(this,t),this.unknown=void 0!==e?e:""}),_.LocalException,"Ice::UnknownException"),_.UnknownLocalException=g.defineLocalException((function(e,t){_.UnknownException.call(this,e,t)}),_.UnknownException,"Ice::UnknownLocalException"),_.UnknownUserException=g.defineLocalException((function(e,t){_.UnknownException.call(this,e,t)}),_.UnknownException,"Ice::UnknownUserException"),_.VersionMismatchException=g.defineLocalException((function(e){_.LocalException.call(this,e)}),_.LocalException,"Ice::VersionMismatchException"),_.CommunicatorDestroyedException=g.defineLocalException((function(e){_.LocalException.call(this,e)}),_.LocalException,"Ice::CommunicatorDestroyedException"),_.ObjectAdapterDeactivatedException=g.defineLocalException((function(e,t){_.LocalException.call(this,t),this.name=void 0!==e?e:""}),_.LocalException,"Ice::ObjectAdapterDeactivatedException"),_.ObjectAdapterIdInUseException=g.defineLocalException((function(e,t){_.LocalException.call(this,t),this.id=void 0!==e?e:""}),_.LocalException,"Ice::ObjectAdapterIdInUseException"),_.NoEndpointException=g.defineLocalException((function(e,t){_.LocalException.call(this,t),this.proxy=void 0!==e?e:""}),_.LocalException,"Ice::NoEndpointException"),_.EndpointParseException=g.defineLocalException((function(e,t){_.LocalException.call(this,t),this.str=void 0!==e?e:""}),_.LocalException,"Ice::EndpointParseException"),_.EndpointSelectionTypeParseException=g.defineLocalException((function(e,t){_.LocalException.call(this,t),this.str=void 0!==e?e:""}),_.LocalException,"Ice::EndpointSelectionTypeParseException"),_.VersionParseException=g.defineLocalException((function(e,t){_.LocalException.call(this,t),this.str=void 0!==e?e:""}),_.LocalException,"Ice::VersionParseException"),_.IdentityParseException=g.defineLocalException((function(e,t){_.LocalException.call(this,t),this.str=void 0!==e?e:""}),_.LocalException,"Ice::IdentityParseException"),_.ProxyParseException=g.defineLocalException((function(e,t){_.LocalException.call(this,t),this.str=void 0!==e?e:""}),_.LocalException,"Ice::ProxyParseException"),_.IllegalIdentityException=g.defineLocalException((function(e,t){_.LocalException.call(this,t),this.id=void 0!==e?e:new _.Identity}),_.LocalException,"Ice::IllegalIdentityException"),_.IllegalServantException=g.defineLocalException((function(e,t){_.LocalException.call(this,t),this.reason=void 0!==e?e:""}),_.LocalException,"Ice::IllegalServantException"),_.RequestFailedException=g.defineLocalException((function(e,t,n,i){_.LocalException.call(this,i),this.id=void 0!==e?e:new _.Identity,this.facet=void 0!==t?t:"",this.operation=void 0!==n?n:""}),_.LocalException,"Ice::RequestFailedException"),_.ObjectNotExistException=g.defineLocalException((function(e,t,n,i){_.RequestFailedException.call(this,e,t,n,i)}),_.RequestFailedException,"Ice::ObjectNotExistException"),_.FacetNotExistException=g.defineLocalException((function(e,t,n,i){_.RequestFailedException.call(this,e,t,n,i)}),_.RequestFailedException,"Ice::FacetNotExistException"),_.OperationNotExistException=g.defineLocalException((function(e,t,n,i){_.RequestFailedException.call(this,e,t,n,i)}),_.RequestFailedException,"Ice::OperationNotExistException"),_.SyscallException=g.defineLocalException((function(e,t){_.LocalException.call(this,t),this.error=void 0!==e?e:0}),_.LocalException,"Ice::SyscallException"),_.SocketException=g.defineLocalException((function(e,t){_.SyscallException.call(this,e,t)}),_.SyscallException,"Ice::SocketException"),_.FileException=g.defineLocalException((function(e,t,n){_.SyscallException.call(this,e,n),this.path=void 0!==t?t:""}),_.SyscallException,"Ice::FileException"),_.ConnectFailedException=g.defineLocalException((function(e,t){_.SocketException.call(this,e,t)}),_.SocketException,"Ice::ConnectFailedException"),_.ConnectionRefusedException=g.defineLocalException((function(e,t){_.ConnectFailedException.call(this,e,t)}),_.ConnectFailedException,"Ice::ConnectionRefusedException"),_.ConnectionLostException=g.defineLocalException((function(e,t){_.SocketException.call(this,e,t)}),_.SocketException,"Ice::ConnectionLostException"),_.DNSException=g.defineLocalException((function(e,t,n){_.LocalException.call(this,n),this.error=void 0!==e?e:0,this.host=void 0!==t?t:""}),_.LocalException,"Ice::DNSException"),_.OperationInterruptedException=g.defineLocalException((function(e){_.LocalException.call(this,e)}),_.LocalException,"Ice::OperationInterruptedException"),_.TimeoutException=g.defineLocalException((function(e){_.LocalException.call(this,e)}),_.LocalException,"Ice::TimeoutException"),_.ConnectTimeoutException=g.defineLocalException((function(e){_.TimeoutException.call(this,e)}),_.TimeoutException,"Ice::ConnectTimeoutException"),_.CloseTimeoutException=g.defineLocalException((function(e){_.TimeoutException.call(this,e)}),_.TimeoutException,"Ice::CloseTimeoutException"),_.ConnectionTimeoutException=g.defineLocalException((function(e){_.TimeoutException.call(this,e)}),_.TimeoutException,"Ice::ConnectionTimeoutException"),_.InvocationTimeoutException=g.defineLocalException((function(e){_.TimeoutException.call(this,e)}),_.TimeoutException,"Ice::InvocationTimeoutException"),_.InvocationCanceledException=g.defineLocalException((function(e){_.LocalException.call(this,e)}),_.LocalException,"Ice::InvocationCanceledException"),_.ProtocolException=g.defineLocalException((function(e,t){_.LocalException.call(this,t),this.reason=void 0!==e?e:""}),_.LocalException,"Ice::ProtocolException"),_.BadMagicException=g.defineLocalException((function(e,t,n){_.ProtocolException.call(this,e,n),this.badMagic=void 0!==t?t:null}),_.ProtocolException,"Ice::BadMagicException"),_.UnsupportedProtocolException=g.defineLocalException((function(e,t,n,i){_.ProtocolException.call(this,e,i),this.bad=void 0!==t?t:new _.ProtocolVersion,this.supported=void 0!==n?n:new _.ProtocolVersion}),_.ProtocolException,"Ice::UnsupportedProtocolException"),_.UnsupportedEncodingException=g.defineLocalException((function(e,t,n,i){_.ProtocolException.call(this,e,i),this.bad=void 0!==t?t:new _.EncodingVersion,this.supported=void 0!==n?n:new _.EncodingVersion}),_.ProtocolException,"Ice::UnsupportedEncodingException"),_.UnknownMessageException=g.defineLocalException((function(e,t){_.ProtocolException.call(this,e,t)}),_.ProtocolException,"Ice::UnknownMessageException"),_.ConnectionNotValidatedException=g.defineLocalException((function(e,t){_.ProtocolException.call(this,e,t)}),_.ProtocolException,"Ice::ConnectionNotValidatedException"),_.UnknownRequestIdException=g.defineLocalException((function(e,t){_.ProtocolException.call(this,e,t)}),_.ProtocolException,"Ice::UnknownRequestIdException"),_.UnknownReplyStatusException=g.defineLocalException((function(e,t){_.ProtocolException.call(this,e,t)}),_.ProtocolException,"Ice::UnknownReplyStatusException"),_.CloseConnectionException=g.defineLocalException((function(e,t){_.ProtocolException.call(this,e,t)}),_.ProtocolException,"Ice::CloseConnectionException"),_.ForcedCloseConnectionException=g.defineLocalException((function(e,t){_.ProtocolException.call(this,e,t)}),_.ProtocolException,"Ice::ForcedCloseConnectionException"),_.IllegalMessageSizeException=g.defineLocalException((function(e,t){_.ProtocolException.call(this,e,t)}),_.ProtocolException,"Ice::IllegalMessageSizeException"),_.CompressionException=g.defineLocalException((function(e,t){_.ProtocolException.call(this,e,t)}),_.ProtocolException,"Ice::CompressionException"),_.DatagramLimitException=g.defineLocalException((function(e,t){_.ProtocolException.call(this,e,t)}),_.ProtocolException,"Ice::DatagramLimitException"),_.MarshalException=g.defineLocalException((function(e,t){_.ProtocolException.call(this,e,t)}),_.ProtocolException,"Ice::MarshalException"),_.ProxyUnmarshalException=g.defineLocalException((function(e,t){_.MarshalException.call(this,e,t)}),_.MarshalException,"Ice::ProxyUnmarshalException"),_.UnmarshalOutOfBoundsException=g.defineLocalException((function(e,t){_.MarshalException.call(this,e,t)}),_.MarshalException,"Ice::UnmarshalOutOfBoundsException"),_.NoObjectFactoryException=g.defineLocalException((function(e,t,n){_.MarshalException.call(this,e,n),this.type=void 0!==t?t:""}),_.MarshalException,"Ice::NoObjectFactoryException"),_.UnexpectedObjectException=g.defineLocalException((function(e,t,n,i){_.MarshalException.call(this,e,i),this.type=void 0!==t?t:"",this.expectedType=void 0!==n?n:""}),_.MarshalException,"Ice::UnexpectedObjectException"),_.MemoryLimitException=g.defineLocalException((function(e,t){_.MarshalException.call(this,e,t)}),_.MarshalException,"Ice::MemoryLimitException"),_.StringConversionException=g.defineLocalException((function(e,t){_.MarshalException.call(this,e,t)}),_.MarshalException,"Ice::StringConversionException"),_.EncapsulationException=g.defineLocalException((function(e,t){_.MarshalException.call(this,e,t)}),_.MarshalException,"Ice::EncapsulationException"),_.FeatureNotSupportedException=g.defineLocalException((function(e,t){_.LocalException.call(this,t),this.unsupportedFeature=void 0!==e?e:""}),_.LocalException,"Ice::FeatureNotSupportedException"),_.SecurityException=g.defineLocalException((function(e,t){_.LocalException.call(this,t),this.reason=void 0!==e?e:""}),_.LocalException,"Ice::SecurityException"),_.FixedProxyException=g.defineLocalException((function(e){_.LocalException.call(this,e)}),_.LocalException,"Ice::FixedProxyException"),_.ResponseSentException=g.defineLocalException((function(e){_.LocalException.call(this,e)}),_.LocalException,"Ice::ResponseSentException"),function(){var e=_.StringUtil,t={};function n(t){var n=t.indexOf(".");if(-1===n)throw new _.VersionParseException("malformed version value `"+t+"'");var i,r=t.substring(0,n);try{i=e.toInt(r)}catch(e){throw new _.VersionParseException("invalid version value `"+t+"'")}if(i<1||i>255)throw new _.VersionParseException("range error in version `"+t+"'");return i}function i(t){var n=t.indexOf(".");if(-1===n)throw new _.VersionParseException("malformed version value `"+t+"'");var i,r=t.substring(n+1);try{i=e.toInt(r)}catch(e){throw new _.VersionParseException("invalid version value `"+t+"'")}if(i<0||i>255)throw new _.VersionParseException("range error in version `"+t+"'");return i}function r(e,t){return e+"."+t}_.Encoding_1_0=new _.EncodingVersion(1,0),_.Encoding_1_1=new _.EncodingVersion(1,1),_.Protocol_1_0=new _.ProtocolVersion(1,0),t.headerSize=14,t.magic=_.Buffer.createNative([73,99,101,80]),t.protocolMajor=1,t.protocolMinor=0,t.protocolEncodingMajor=1,t.protocolEncodingMinor=0,t.encodingMajor=1,t.encodingMinor=1,t.requestMsg=0,t.requestBatchMsg=1,t.replyMsg=2,t.validateConnectionMsg=3,t.closeConnectionMsg=4,t.replyOK=0,t.replyUserException=1,t.replyObjectNotExist=2,t.replyFacetNotExist=3,t.replyOperationNotExist=4,t.replyUnknownLocalException=5,t.replyUnknownUserException=6,t.replyUnknownException=7,t.requestHdr=_.Buffer.createNative([t.magic[0],t.magic[1],t.magic[2],t.magic[3],t.protocolMajor,t.protocolMinor,t.protocolEncodingMajor,t.protocolEncodingMinor,t.requestMsg,0,0,0,0,0,0,0,0,0]),t.requestBatchHdr=_.Buffer.createNative([t.magic[0],t.magic[1],t.magic[2],t.magic[3],t.protocolMajor,t.protocolMinor,t.protocolEncodingMajor,t.protocolEncodingMinor,t.requestBatchMsg,0,0,0,0,0,0,0,0,0]),t.replyHdr=_.Buffer.createNative([t.magic[0],t.magic[1],t.magic[2],t.magic[3],t.protocolMajor,t.protocolMinor,t.protocolEncodingMajor,t.protocolEncodingMinor,t.replyMsg,0,0,0,0,0]),t.currentProtocol=new _.ProtocolVersion(t.protocolMajor,t.protocolMinor),t.currentProtocolEncoding=new _.EncodingVersion(t.protocolEncodingMajor,t.protocolEncodingMinor),t.currentEncoding=new _.EncodingVersion(t.encodingMajor,t.encodingMinor),t.checkSupportedProtocol=function(e){if(e.major!==t.currentProtocol.major||e.minor>t.currentProtocol.minor)throw new _.UnsupportedProtocolException("",e,t.currentProtocol)},t.checkSupportedProtocolEncoding=function(e){if(e.major!==t.currentProtocolEncoding.major||e.minor>t.currentProtocolEncoding.minor)throw new _.UnsupportedEncodingException("",e,t.currentProtocolEncoding)},t.checkSupportedEncoding=function(e){if(e.major!==t.currentEncoding.major||e.minor>t.currentEncoding.minor)throw new _.UnsupportedEncodingException("",e,t.currentEncoding)},t.getCompatibleProtocol=function(e){return e.major!==t.currentProtocol.major||e.minor<t.currentProtocol.minor?e:t.currentProtocol},t.getCompatibleEncoding=function(e){return e.major!==t.currentEncoding.major||e.minor<t.currentEncoding.minor?e:t.currentEncoding},t.isSupported=function(e,t){return e.major===t.major&&e.minor<=t.minor},_.stringToProtocolVersion=function(e){return new _.ProtocolVersion(n(e),i(e))},_.stringToEncodingVersion=function(e){return new _.EncodingVersion(n(e),i(e))},_.protocolVersionToString=function(e){return r(e.major,e.minor)},_.encodingVersionToString=function(e){return r(e.major,e.minor)},_.Protocol=t}(),T=function(e,t,n){this._pattern=e,this._deprecated=t,this._deprecatedBy=n},Object.defineProperty(T.prototype,"pattern",{get:function(){return this._pattern}}),Object.defineProperty(T.prototype,"deprecated",{get:function(){return this._deprecated}}),Object.defineProperty(T.prototype,"deprecatedBy",{get:function(){return this._deprecatedBy}}),_.Property=T,function(){var e={},t=_.Property;e.IceProps=[new t("/^Ice.ACM.Client/",!0,null),new t("/^Ice.ACM.Server/",!0,null),new t("/^Ice.ACM.Timeout/",!1,null),new t("/^Ice.ACM.Heartbeat/",!1,null),new t("/^Ice.ACM.Close/",!1,null),new t("/^Ice.ACM/",!1,null),new t("/^Ice.ACM.Client.Timeout/",!1,null),new t("/^Ice.ACM.Client.Heartbeat/",!1,null),new t("/^Ice.ACM.Client.Close/",!1,null),new t("/^Ice.ACM.Client/",!1,null),new t("/^Ice.ACM.Server.Timeout/",!1,null),new t("/^Ice.ACM.Server.Heartbeat/",!1,null),new t("/^Ice.ACM.Server.Close/",!1,null),new t("/^Ice.ACM.Server/",!1,null),new t("/^Ice.Admin.ACM.Timeout/",!1,null),new t("/^Ice.Admin.ACM.Heartbeat/",!1,null),new t("/^Ice.Admin.ACM.Close/",!1,null),new t("/^Ice.Admin.ACM/",!1,null),new t("/^Ice.Admin.AdapterId/",!1,null),new t("/^Ice.Admin.Endpoints/",!1,null),new t("/^Ice.Admin.Locator.EndpointSelection/",!1,null),new t("/^Ice.Admin.Locator.ConnectionCached/",!1,null),new t("/^Ice.Admin.Locator.PreferSecure/",!1,null),new t("/^Ice.Admin.Locator.LocatorCacheTimeout/",!1,null),new t("/^Ice.Admin.Locator.InvocationTimeout/",!1,null),new t("/^Ice.Admin.Locator.Locator/",!1,null),new t("/^Ice.Admin.Locator.Router/",!1,null),new t("/^Ice.Admin.Locator.CollocationOptimized/",!1,null),new t("/^Ice.Admin.Locator.Context../",!1,null),new t("/^Ice.Admin.Locator/",!1,null),new t("/^Ice.Admin.PublishedEndpoints/",!1,null),new t("/^Ice.Admin.ReplicaGroupId/",!1,null),new t("/^Ice.Admin.Router.EndpointSelection/",!1,null),new t("/^Ice.Admin.Router.ConnectionCached/",!1,null),new t("/^Ice.Admin.Router.PreferSecure/",!1,null),new t("/^Ice.Admin.Router.LocatorCacheTimeout/",!1,null),new t("/^Ice.Admin.Router.InvocationTimeout/",!1,null),new t("/^Ice.Admin.Router.Locator/",!1,null),new t("/^Ice.Admin.Router.Router/",!1,null),new t("/^Ice.Admin.Router.CollocationOptimized/",!1,null),new t("/^Ice.Admin.Router.Context../",!1,null),new t("/^Ice.Admin.Router/",!1,null),new t("/^Ice.Admin.ProxyOptions/",!1,null),new t("/^Ice.Admin.ThreadPool.Size/",!1,null),new t("/^Ice.Admin.ThreadPool.SizeMax/",!1,null),new t("/^Ice.Admin.ThreadPool.SizeWarn/",!1,null),new t("/^Ice.Admin.ThreadPool.StackSize/",!1,null),new t("/^Ice.Admin.ThreadPool.Serialize/",!1,null),new t("/^Ice.Admin.ThreadPool.ThreadIdleTime/",!1,null),new t("/^Ice.Admin.ThreadPool.ThreadPriority/",!1,null),new t("/^Ice.Admin.MessageSizeMax/",!1,null),new t("/^Ice.Admin.DelayCreation/",!1,null),new t("/^Ice.Admin.Enabled/",!1,null),new t("/^Ice.Admin.Facets/",!1,null),new t("/^Ice.Admin.InstanceName/",!1,null),new t("/^Ice.Admin.Logger.KeepLogs/",!1,null),new t("/^Ice.Admin.Logger.KeepTraces/",!1,null),new t("/^Ice.Admin.Logger.Properties/",!1,null),new t("/^Ice.Admin.ServerId/",!1,null),new t("/^Ice.BackgroundLocatorCacheUpdates/",!1,null),new t("/^Ice.BatchAutoFlush/",!0,null),new t("/^Ice.BatchAutoFlushSize/",!1,null),new t("/^Ice.ChangeUser/",!1,null),new t("/^Ice.ClientAccessPolicyProtocol/",!1,null),new t("/^Ice.Compression.Level/",!1,null),new t("/^Ice.CollectObjects/",!1,null),new t("/^Ice.Config/",!1,null),new t("/^Ice.ConsoleListener/",!1,null),new t("/^Ice.Default.CollocationOptimized/",!1,null),new t("/^Ice.Default.EncodingVersion/",!1,null),new t("/^Ice.Default.EndpointSelection/",!1,null),new t("/^Ice.Default.Host/",!1,null),new t("/^Ice.Default.Locator.EndpointSelection/",!1,null),new t("/^Ice.Default.Locator.ConnectionCached/",!1,null),new t("/^Ice.Default.Locator.PreferSecure/",!1,null),new t("/^Ice.Default.Locator.LocatorCacheTimeout/",!1,null),new t("/^Ice.Default.Locator.InvocationTimeout/",!1,null),new t("/^Ice.Default.Locator.Locator/",!1,null),new t("/^Ice.Default.Locator.Router/",!1,null),new t("/^Ice.Default.Locator.CollocationOptimized/",!1,null),new t("/^Ice.Default.Locator.Context../",!1,null),new t("/^Ice.Default.Locator/",!1,null),new t("/^Ice.Default.LocatorCacheTimeout/",!1,null),new t("/^Ice.Default.InvocationTimeout/",!1,null),new t("/^Ice.Default.Package/",!1,null),new t("/^Ice.Default.PreferSecure/",!1,null),new t("/^Ice.Default.Protocol/",!1,null),new t("/^Ice.Default.Router.EndpointSelection/",!1,null),new t("/^Ice.Default.Router.ConnectionCached/",!1,null),new t("/^Ice.Default.Router.PreferSecure/",!1,null),new t("/^Ice.Default.Router.LocatorCacheTimeout/",!1,null),new t("/^Ice.Default.Router.InvocationTimeout/",!1,null),new t("/^Ice.Default.Router.Locator/",!1,null),new t("/^Ice.Default.Router.Router/",!1,null),new t("/^Ice.Default.Router.CollocationOptimized/",!1,null),new t("/^Ice.Default.Router.Context../",!1,null),new t("/^Ice.Default.Router/",!1,null),new t("/^Ice.Default.SlicedFormat/",!1,null),new t("/^Ice.Default.SourceAddress/",!1,null),new t("/^Ice.Default.Timeout/",!1,null),new t("/^Ice.EventLog.Source/",!1,null),new t("/^Ice.FactoryAssemblies/",!1,null),new t("/^Ice.HTTPProxyHost/",!1,null),new t("/^Ice.HTTPProxyPort/",!1,null),new t("/^Ice.ImplicitContext/",!1,null),new t("/^Ice.InitPlugins/",!1,null),new t("/^Ice.IPv4/",!1,null),new t("/^Ice.IPv6/",!1,null),new t("/^Ice.LogFile/",!1,null),new t("/^Ice.LogStdErr.Convert/",!1,null),new t("/^Ice.MessageSizeMax/",!1,null),new t("/^Ice.Nohup/",!1,null),new t("/^Ice.NullHandleAbort/",!1,null),new t("/^Ice.Override.CloseTimeout/",!1,null),new t("/^Ice.Override.Compress/",!1,null),new t("/^Ice.Override.ConnectTimeout/",!1,null),new t("/^Ice.Override.Timeout/",!1,null),new t("/^Ice.Override.Secure/",!1,null),new t("/^Ice.Package../",!1,null),new t("/^Ice.Plugin../",!1,null),new t("/^Ice.PluginLoadOrder/",!1,null),new t("/^Ice.PreferIPv6Address/",!1,null),new t("/^Ice.PrintAdapterReady/",!1,null),new t("/^Ice.PrintProcessId/",!1,null),new t("/^Ice.PrintStackTraces/",!1,null),new t("/^Ice.ProgramName/",!1,null),new t("/^Ice.RetryIntervals/",!1,null),new t("/^Ice.ServerIdleTime/",!1,null),new t("/^Ice.SOCKSProxyHost/",!1,null),new t("/^Ice.SOCKSProxyPort/",!1,null),new t("/^Ice.StdErr/",!1,null),new t("/^Ice.StdOut/",!1,null),new t("/^Ice.SyslogFacility/",!1,null),new t("/^Ice.ThreadPool.Client.Size/",!1,null),new t("/^Ice.ThreadPool.Client.SizeMax/",!1,null),new t("/^Ice.ThreadPool.Client.SizeWarn/",!1,null),new t("/^Ice.ThreadPool.Client.StackSize/",!1,null),new t("/^Ice.ThreadPool.Client.Serialize/",!1,null),new t("/^Ice.ThreadPool.Client.ThreadIdleTime/",!1,null),new t("/^Ice.ThreadPool.Client.ThreadPriority/",!1,null),new t("/^Ice.ThreadPool.Server.Size/",!1,null),new t("/^Ice.ThreadPool.Server.SizeMax/",!1,null),new t("/^Ice.ThreadPool.Server.SizeWarn/",!1,null),new t("/^Ice.ThreadPool.Server.StackSize/",!1,null),new t("/^Ice.ThreadPool.Server.Serialize/",!1,null),new t("/^Ice.ThreadPool.Server.ThreadIdleTime/",!1,null),new t("/^Ice.ThreadPool.Server.ThreadPriority/",!1,null),new t("/^Ice.ThreadPriority/",!1,null),new t("/^Ice.Trace.Admin.Properties/",!1,null),new t("/^Ice.Trace.Admin.Logger/",!1,null),new t("/^Ice.Trace.Locator/",!1,null),new t("/^Ice.Trace.Network/",!1,null),new t("/^Ice.Trace.Protocol/",!1,null),new t("/^Ice.Trace.Retry/",!1,null),new t("/^Ice.Trace.Slicing/",!1,null),new t("/^Ice.Trace.ThreadPool/",!1,null),new t("/^Ice.UDP.RcvSize/",!1,null),new t("/^Ice.UDP.SndSize/",!1,null),new t("/^Ice.TCP.Backlog/",!1,null),new t("/^Ice.TCP.RcvSize/",!1,null),new t("/^Ice.TCP.SndSize/",!1,null),new t("/^Ice.UseApplicationClassLoader/",!1,null),new t("/^Ice.UseSyslog/",!1,null),new t("/^Ice.Warn.AMICallback/",!1,null),new t("/^Ice.Warn.Connections/",!1,null),new t("/^Ice.Warn.Datagrams/",!1,null),new t("/^Ice.Warn.Dispatch/",!1,null),new t("/^Ice.Warn.Endpoints/",!1,null),new t("/^Ice.Warn.UnknownProperties/",!1,null),new t("/^Ice.Warn.UnusedProperties/",!1,null),new t("/^Ice.CacheMessageBuffers/",!1,null),new t("/^Ice.ThreadInterruptSafe/",!1,null),new t("/^Ice.Voip/",!1,null)],e.validProps=[e.IceProps],e.clPropNames=["Ice"],_.PropertyNames=e}(),L=_.HashMap,U=_.AlreadyRegisteredException,V=_.NotRegisteredException,F=_.Class({__init__:function(){this._factoryMap=new L},add:function(e,t){var n;if(void 0!==this._factoryMap.get(t))throw(n=new U).id=t,n.kindOfObject="object factory",n;this._factoryMap.set(t,e)},remove:function(e){var t,n;if(void 0===(t=this._factoryMap.get(e)))throw(n=new V).id=e,n.kindOfObject="object factory",n;this._factoryMap.del(e),t.destroy()},find:function(e){return this._factoryMap.get(e)},destroy:function(){var e=this._factoryMap.entries;for(this._factoryMap=new L;null!==e;)e.value.destroy(),e=e.next}}),_.ObjectFactoryManager=F,function(){var e=_.Promise,t=_.Class(e,{__init__:function(t,n,i,r,o){e.call(this),void 0!==t&&(this._communicator=t,this._instance=null!==t?t.instance:null,this._operation=n,this._connection=i,this._proxy=r,this._adapter=o)}}),n=t.prototype,i=Object.defineProperty;i(n,"communicator",{get:function(){return this._communicator}}),i(n,"connection",{get:function(){return this._connection}}),i(n,"proxy",{get:function(){return this._proxy}}),i(n,"adapter",{get:function(){return this._adapter}}),i(n,"operation",{get:function(){return this._operation}}),_.AsyncResultBase=t}(),g.defineDictionary(_,"Context","ContextHelper","Ice.StringHelper","Ice.StringHelper",!1,void 0,void 0),_.OperationMode=g.defineEnum([["Normal",0],["Nonmutating",1],["Idempotent",2]]),_.Current=g.defineStruct((function(e,t,n,i,r,o,s,c,a){this.adapter=void 0!==e?e:null,this.con=void 0!==t?t:null,this.id=void 0!==n?n:new _.Identity,this.facet=void 0!==i?i:"",this.operation=void 0!==r?r:"",this.mode=void 0!==o?o:_.OperationMode.Normal,this.ctx=void 0!==s?s:null,this.requestId=void 0!==c?c:0,this.encoding=void 0!==a?a:new _.EncodingVersion}),!1),_.ObjectFactory=_.Class({create:function(e){throw new Error("not implemented")},destroy:function(){throw new Error("not implemented")}}),j=_.Class(Error,{__init__:function(e){e instanceof _.LocalException?this._ex=e:(_.Debug.assert(e instanceof j),this._ex=e._ex)}}),B=j.prototype,Object.defineProperty(B,"inner",{get:function(){return this._ex}}),_.RetryException=j,_.EndpointSelectionType=g.defineEnum([["Random",0],["Ordered",1]]),function(){_.Promise;var e=_.ReferenceMode,t=_.Class({__init__:function(t,n,i){this._reference=t,this._response=t.getMode()==e.ModeTwoway,this._connection=n,this._compress=i},update:function(e,t){try{if(e===this)return t;if(e.getConnection()===this._connection)return t}catch(e){}return this},sendAsyncRequest:function(e){return e.__invokeRemote(this._connection,this._compress,this._response)},asyncRequestCanceled:function(e){return this._connection.asyncRequestCanceled(e)},getReference:function(){return this._reference},getConnection:function(){return this._connection}});_.ConnectionRequestHandler=t}(),function(){var e=_.Debug,t=_.HashMap,n=_.Protocol,i=_.StringUtil,r=_.OperationMode,o=_.Identity,s={traceSend:function(e,t,n){if(n.protocol>=1){var i=e.pos;e.pos=0;var r=[],o=l(r,e);t.trace(n.protocolCat,"sending "+u(o)+" "+r.join("")),e.pos=i}},traceRecv:function(e,t,n){if(n.protocol>=1){var i=e.pos;e.pos=0;var r=[],o=l(r,e);t.trace(n.protocolCat,"received "+u(o)+" "+r.join("")),e.pos=i}},trace:function(e,t,n,i){if(i.protocol>=1){var r=t.pos;t.pos=0;var o=[];o.push(e),l(o,t),n.trace(i.protocolCat,o.join("")),t.pos=r}}};function c(e,t){var n=new o;n.__read(t),e.push("\nidentity = "+t.instance.identityToString(n));var r=_.StringSeqHelper.read(t);e.push("\nfacet = "),r.length>0&&e.push(i.escapeString(r[0],""));var s=t.readString();e.push("\noperation = "+s)}function a(e,t){c(e,t);var n=t.readByte();switch(e.push("\nmode = "+n+" "),r.valueOf(n)){case r.Normal:e.push("(normal)");break;case r.Nonmutating:e.push("(nonmutating)");break;case r.Idempotent:e.push("(idempotent)");break;default:e.push("(unknown)")}var i=t.readSize();for(e.push("\ncontext = ");i-- >0;){var o=t.readString(),s=t.readString();e.push(o+"/"+s),i>0&&e.push(", ")}var a=t.skipEncaps();a.equals(_.Encoding_1_0)||(e.push("\nencoding = "),e.push(_.encodingVersionToString(a)))}function l(t,i){var r=function(e,t){t.readByte(),t.readByte(),t.readByte(),t.readByte(),t.readByte(),t.readByte(),t.readByte(),t.readByte();var n=t.readByte();e.push("\nmessage type = "+n+" ("+u(n)+")");var i=t.readByte();switch(e.push("\ncompression status = "+i+" "),i){case 0:e.push("(not compressed; do not compress response, if any)");break;case 1:e.push("(not compressed; compress response, if any)");break;case 2:e.push("(compressed; compress response, if any)");break;default:e.push("(unknown)")}var r=t.readInt();return e.push("\nmessage size = "+r),n}(t,i);switch(r){case n.closeConnectionMsg:case n.validateConnectionMsg:break;case n.requestMsg:!function(e,t){var n=t.readInt();e.push("\nrequest id = "+n),0===n&&e.push(" (oneway)"),a(e,t)}(t,i);break;case n.requestBatchMsg:!function(e,t){var n=t.readInt();e.push("\nnumber of requests = "+n);for(var i=0;i<n;++i)e.push("\nrequest #"+i+":"),a(e,t)}(t,i);break;case n.replyMsg:!function(t,i){var r=i.readInt();t.push("\nrequest id = "+r);var o=i.readByte();switch(t.push("\nreply status = "+o+" "),o){case n.replyOK:t.push("(ok)");break;case n.replyUserException:t.push("(user exception)");break;case n.replyObjectNotExist:case n.replyFacetNotExist:case n.replyOperationNotExist:switch(o){case n.replyObjectNotExist:t.push("(object not exist)");break;case n.replyFacetNotExist:t.push("(facet not exist)");break;case n.replyOperationNotExist:t.push("(operation not exist)");break;default:e.assert(!1)}c(t,i);break;case n.replyUnknownException:case n.replyUnknownLocalException:case n.replyUnknownUserException:switch(o){case n.replyUnknownException:t.push("(unknown exception)");break;case n.replyUnknownLocalException:t.push("(unknown local exception)");break;case n.replyUnknownUserException:t.push("(unknown user exception)");break;default:e.assert(!1)}var s=i.readString();t.push("\nunknown = "+s);break;default:t.push("(unknown)")}if(o===n.replyOK||o===n.replyUserException){var a=i.skipEncaps();a.equals(_.Encoding_1_0)||(t.push("\nencoding = "),t.push(_.encodingVersionToString(a)))}}(t,i)}return r}function u(e){switch(e){case n.requestMsg:return"request";case n.requestBatchMsg:return"batch request";case n.replyMsg:return"reply";case n.closeConnectionMsg:return"close connection";case n.validateConnectionMsg:return"validate connection";default:return"unknown"}}new t,s.dumpStream=function(e){var t=e.pos;e.pos=0;var n=e.readBlob(e.size());s.dumpOctets(n),e.pos=t},s.dumpOctets=function(e){for(var t=[],n=0;n<e.length;n+=8){var i;for(i=n;i-n<8;i++)if(i<e.length){var r,o=e[i];o<0&&(o+=256),r=o<10?"  "+o:o<100?" "+o:""+o,t.push(r+" ")}else t.push("    ");for(t.push('"'),i=n;i<e.length&&i-n<8;i++)e[i]>=32&&e[i]<127?t.push(String.fromCharCode(e[i])):t.push(".");t.push('"\n')}ae.Utils.log(t.join(""))},_.TraceUtil=s}(),function(){var e=_.Logger,t=null;_.getProcessLogger=function(){return null===t&&(t=new e("","")),t},_.setProcessLogger=function(e){t=e}}(),H=_.UnexpectedObjectException,q=_.MemoryLimitException,_.ExUtil={throwUOE:function(e,t){var n=t.ice_id();throw new H("expected element of type `"+e+"' but received '"+n,n,e)},throwMemoryLimitException:function(e,t){throw new q("requested "+e+" bytes, maximum allowed is "+t+" bytes (see Ice.MessageSizeMax)")}},function(){var e=_.StringUtil,t=_.HashMap,n=(_.Promise,_.PropertyNames),i=_.Debug,r=(_.ProcessLogger,_.getProcessLogger),o=_.InitializationException,s=_.Class({__init__:function(e,n){if(this._properties=new t,null!=n)for(var i=n._properties.entries;null!==i;i=i.next)this._properties.set(i.key,{value:i.value.value,used:!1});if(null!=e){var r=this.parseIceCommandLineOptions(e);e.length=0;for(var o=0;o<r.length;++o)e.push(r[o])}},getProperty:function(e){return this.getPropertyWithDefault(e,"")},getPropertyWithDefault:function(e,t){var n=this._properties.get(e);return void 0!==n?(n.used=!0,n.value):t},getPropertyAsInt:function(e){return this.getPropertyAsIntWithDefault(e,0)},getPropertyAsIntWithDefault:function(e,t){var n=this._properties.get(e);return void 0!==n?(n.used=!0,parseInt(n.value)):t},getPropertyAsList:function(e){return this.getPropertyAsListWithDefault(e,0)},getPropertyAsListWithDefault:function(t,n){null==n&&(n=[]);var i=this._properties.get(t);if(void 0!==i){i.used=!0;var o=e.splitString(i.value,", \t\r\n");return null===o?(r().warning("mismatched quotes in property "+t+"'s value, returning default value"),n):(0===o.length&&(o=n),o)}return n},getPropertiesForPrefix:function(e){for(var n=new t,i=this._properties.entries;null!==i;i=i.next)null!=e&&0!==i.key.indexOf(e)||(i.value.used=!0,n.set(i.key,i.value.value));return n},setProperty:function(e,t){null!=e&&(e=e.trim());var s=r();if(null==e||0===e.length)throw new o("Attempt to set property with empty key");var c=e.indexOf(".");if(-1!==c)for(var a=e.substr(0,c),l=0;l<n.validProps.length;++l){var u=n.validProps[l][0].pattern;if(c=u.indexOf("."),i.assert(-1!=c),u.substring(0,c-1)==a){for(var d,h=!1,f=!1,p=0;p<n.validProps[l][p].length&&!h;++p){u=n.validProps[l][p].pattern();var _=new RegExp(u);if((h=_.test(e))&&n.validProps[l][p].deprecated&&(s.warning("deprecated property: "+e),null!==n.validProps[l][p].deprecatedBy&&(e=n.validProps[l][p].deprecatedBy)),h)break;if(h=(_=new RegExp(u.toUpperCase())).test(e.toUpperCase())){f=!0,d=(d=(d=u.substr(2)).substr(0,d.length-1)).replace(/\\/g,"");break}}h?f&&s.warning("unknown property: `"+e+"'; did you mean `"+d+"'"):s.warning("unknown property: "+e)}}if(null!=t&&t.length>0){var g=this._properties.get(e);void 0!==g?g.value=t:this._properties.set(e,{value:t,used:!1})}else this._properties.del(e)},getCommandLineOptions:function(){for(var e=[],t=this._properties.entries;null!==t;t=t.next)e.push("--"+t.key+"="+t.pv.value);return e},parseCommandLineOptions:function(e,t){e.length>0&&"."!=e.charAt(e.length-1)&&(e+="."),e="--"+e;var n=[],i=this;return t.forEach((function(t){0===t.indexOf(e)?(-1===t.indexOf("=")&&(t+="=1"),i.parseLine(t.substring(2))):n.push(t)})),n},parseIceCommandLineOptions:function(e){for(var t=e.slice(),i=0;i<n.clPropNames.length;++i)t=this.parseCommandLineOptions(n.clPropNames[i],t);return t},parse:function(e){for(var t,n=e.match(/[^\r\n]+/g);t=n.shift();)this.parseLine(t)},parseLine:function(e){for(var t="",n="",i=0,o="",s="",c=!1,a=0;a<e.length;++a){var l=e.charAt(a);switch(i){case 0:switch(l){case"\\":if(a<e.length-1)switch(l=e.charAt(++a)){case"\\":case"#":case"=":t+=o,o="",t+=l;break;case" ":0!==t.length&&(o+=l);break;default:t+=o,o="",t+="\\",t+=l}else t+=o,t+=l;break;case" ":case"\t":case"\r":case"\n":0!==t.length&&(o+=l);break;case"=":o="",i=1;break;case"#":c=!0;break;default:t+=o,o="",t+=l}break;case 1:switch(l){case"\\":if(a<e.length-1)switch(l=e.charAt(++a)){case"\\":case"#":case"=":n+=0===n.length?s:o,o="",s="",n+=l;break;case" ":o+=l,s+=l;break;default:n+=0===n.length?s:o,o="",s="",n+="\\",n+=l}else n+=0===n.length?s:o,n+=l;break;case" ":case"\t":case"\r":case"\n":0!==n.length&&(o+=l);break;case"#":c=!0;break;default:n+=0===n.length?s:o,o="",s="",n+=l}}if(c)break}n+=s,0===i&&0!==t.length||1==i&&0===t.length?r().warning('invalid config file entry: "'+e+'"'):0!==t.length&&this.setProperty(t,n)},clone:function(){return new s(null,this)},getUnusedProperties:function(){for(var e=[],t=this._properties.entries;null!==t;t=t.next)t.pv.used||e.push(t.key);return e}});s.createProperties=function(e,t){return new s(e,t)},_.Properties=s}(),function(){var e=_.Debug,t=_.HashMap,n=_.StringUtil,i=_.Class({__init__:function(e,n){this._instance=e,this._adapterName=n,this._servantMapMap=new t(t.compareEquals),this._defaultServantMap=new t,this._locatorMap=new t},addServant:function(i,r,o){e.assert(null!==this._instance),null===o&&(o="");var s=this._servantMapMap.get(r);if(void 0===s)s=new t,this._servantMapMap.set(r,s);else if(s.has(o)){var c=new _.AlreadyRegisteredException;throw c.id=this._instance.identityToString(r),c.kindOfObject="servant",o.length>0&&(c.id+=" -f "+n.escapeString(o,"")),c}s.set(o,i)},addDefaultServant:function(t,n){if(e.assert(null!==this._instance),void 0!==this._defaultServantMap.get(n)){var i=new _.AlreadyRegisteredException;throw i.kindOfObject="default servant",i.id=n,i}this._defaultServantMap.set(n,t)},removeServant:function(t,i){e.assert(null!==this._instance),null===i&&(i="");var r=this._servantMapMap.get(t);if(void 0===r||!r.has(i)){var o=new _.NotRegisteredException;throw o.id=this._instance.identityToString(t),o.kindOfObject="servant",i.length>0&&(o.id+=" -f "+n.escapeString(i,"")),o}var s=r.get(i);return r.del(i),0===r.size&&this._servantMapMap.del(t),s},removeDefaultServant:function(t){e.assert(null!==this._instance);var n=this._defaultServantMap.get(t);if(void 0===n){var i=new _.NotRegisteredException;throw i.kindOfObject="default servant",i.id=t,i}return this._defaultServantMap.del(t),n},removeAllFacets:function(t){e.assert(null!==this._instance);var n=this._servantMapMap.get(t);if(void 0===n){var i=new _.NotRegisteredException;throw i.id=this._instance.identityToString(t),i.kindOfObject="servant",i}return this._servantMapMap.del(t),n},findServant:function(e,t){null===t&&(t="");var n=this._servantMapMap.get(e),i=null;return void 0===n?void 0===(i=this._defaultServantMap.get(e.category))&&(i=this._defaultServantMap.get("")):i=n.get(t),void 0===i?null:i},findDefaultServant:function(t){e.assert(null!==this._instance);var n=this._defaultServantMap.get(t);return void 0===n?null:n},findAllFacets:function(n){e.assert(null!==this._instance);var i=this._servantMapMap.get(n);return void 0!==i?i.clone():new t},hasServant:function(t){var n=this._servantMapMap.get(t);return void 0!==n&&(e.assert(n.size>0),!0)},addServantLocator:function(t,i){if(e.assert(null!==this._instance),void 0!==this._locatorMap.get(i)){var r=new _.AlreadyRegisteredException;throw r.id=n.escapeString(i,""),r.kindOfObject="servant locator",r}this._locatorMap.set(i,t)},removeServantLocator:function(t){e.assert(null!==this._instance);var i=this._locatorMap.get(t);if(void 0===i){var r=new _.NotRegisteredException;throw r.id=n.escapeString(t,""),r.kindOfObject="servant locator",r}return this._locatorMap.del(t),i},findServantLocator:function(e){var t=this._locatorMap.get(e);return void 0===t?null:t},destroy:function(){e.assert(null!==this._instance);var t=this._instance.initializationData().logger;this._servantMapMap.clear(),this._defaultServantMap.clear();var n=this._locatorMap.clone();this._locatorMap.clear(),this._instance=null;for(var i=n.entries;null!==i;i=i.next){var r=i.value;try{r.deactivate(i.key)}catch(e){var o="exception during locator deactivation:\nobject adapter: `"+this._adapterName+"'\nlocator category: `"+i.key+"'\n"+e.toString();t.error(o)}}}});_.ServantManager=i}(),function(){var e=_.__M,t=_.Debug,n=_.ExUtil,i=_.FormatType,r=_.HashMap,o=_.Object,s=_.OptionalFormat,c=_.Protocol,a=_.TraceUtil,l=_.ArrayUtil,u=_.SlicedData,d={NoSlice:0,ObjectSlice:1,ExceptionSlice:2};Number.isNaN=Number.isNaN||function(e){return"number"==typeof e&&isNaN(e)};var h=function(e,t){this.index=e,this.patcher=t},f=_.Class,p=f({__init__:function(e,t,n,i){this._stream=e,this._encaps=t,this._sliceObjects=n,this._servantFactoryManager=i,this._patchMap=null,this._unmarshaledMap=new r,this._typeIdMap=null,this._typeIdIndex=0,this._objectList=null},readOpt:function(){return!1},readPendingObjects:function(){},readTypeId:function(e){var t,n;if(null===this._typeIdMap&&(this._typeIdMap=new r),e){if(n=this._stream.readSize(),void 0===(t=this._typeIdMap.get(n)))throw new _.UnmarshalOutOfBoundsException}else t=this._stream.readString(),this._typeIdMap.set(++this._typeIdIndex,t);return t},newInstance:function(e){var t=this._servantFactoryManager.find(e),n=null;return void 0!==t&&(n=t.create(e)),null==n&&void 0!==(t=this._servantFactoryManager.find(""))&&(n=t.create(e)),null==n&&(n=this._stream.createObject(e)),n},addPatchEntry:function(e,n){t.assert(e>0);var i=this._unmarshaledMap.get(e);if(null==i){null===this._patchMap&&(this._patchMap=new r);var o=this._patchMap.get(e);void 0===o&&(o=[],this._patchMap.set(e,o)),o.push(n)}else n.call(null,i)},unmarshal:function(e,n){var i,r,o;if(this._unmarshaledMap.set(e,n),n.__read(this._stream),null!==this._patchMap&&void 0!==(o=this._patchMap.get(e))){for(t.assert(o.length>0),i=0,r=o.length;i<r;++i)o[i](n);this._patchMap.del(e)}if(null!==this._patchMap&&0!==this._patchMap.size||null!==this._objectList){if(null===this._objectList&&(this._objectList=[]),this._objectList.push(n),null===this._patchMap||0===this._patchMap.size){for(i=0,r=this._objectList.length;i<r;i++)try{this._objectList[i].ice_postUnmarshal()}catch(e){this._stream.instance.initializationData().logger.warning("exception raised by ice_postUnmarshal:\n"+e.toString())}this._objectList=[]}}else try{n.ice_postUnmarshal()}catch(e){this._stream.instance.initializationData().logger.warning("exception raised by ice_postUnmarshal:\n"+e.toString())}}}),g=f(p,{__init__:function(e,t,n,i){p.call(this,e,t,n,i),this._sliceType=d.NoSlice},readObject:function(e){t.assert(null!==e);var n=this._stream.readInt();if(n>0)throw new _.MarshalException("invalid object id");0==(n=-n)?e.call(null,null):this.addPatchEntry(n,e)},throwException:function(){t.assert(this._sliceType===d.NoSlice);var e=this._stream.readBool();this._sliceType=d.ExceptionSlice,this._skipFirstSlice=!1,this.startSlice();for(var n=this._typeId;;){var i=this._stream.createUserException(this._typeId);if(null!==i)throw i.__read(this._stream),e&&this.readPendingObjects(),i;this.skipSlice();try{this.startSlice()}catch(e){throw e instanceof _.UnmarshalOutOfBoundsException&&(e.reason="unknown exception type `"+n+"'"),e}}},startInstance:function(e){t.assert(this._sliceType===e),this._skipFirstSlice=!0},endInstance:function(){if(this._sliceType===d.ObjectSlice){if(this.startSlice(),0!==this._stream.readSize())throw new _.MarshalException("invalid Object slice");this.endSlice()}return this._sliceType=d.NoSlice,null},startSlice:function(){var e;if(this._skipFirstSlice)return this._skipFirstSlice=!1,this._typeId;if(this._sliceType===d.ObjectSlice?(e=this._stream.readBool(),this._typeId=this.readTypeId(e)):this._typeId=this._stream.readString(),this._sliceSize=this._stream.readInt(),this._sliceSize<4)throw new _.UnmarshalOutOfBoundsException;return this._typeId},endSlice:function(){},skipSlice:function(){if(this._stream.instance.traceLevels().slicing>0){var e=this._stream.instance.initializationData().logger;this._sliceType===d.ObjectSlice?a.traceSlicing("object",this._typeId,this._stream.instance.traceLevels().slicingCat,e):a.traceSlicing("exception",this._typeId,this._stream.instance.traceLevels().slicingCat,e)}t.assert(this._sliceSize>=4),this._stream.skip(this._sliceSize-4)},readPendingObjects:function(){var e,t;do{for(e=t=this._stream.readSize();e>0;--e)this.readInstance()}while(t>0);if(null!==this._patchMap&&0!==this._patchMap.size)throw new _.MarshalException("index for class received, but no instance")},readInstance:function(){var e,t=this._stream.readInt(),n=null;if(t<=0)throw new _.MarshalException("invalid object id");for(this._sliceType=d.ObjectSlice,this._skipFirstSlice=!1,this.startSlice(),e=this._typeId;;){if(this._typeId==o.ice_staticId())throw new _.NoObjectFactoryException("",e);if(n=this.newInstance(this._typeId))break;if(!this._sliceObjects)throw new _.NoObjectFactoryException("no object factory found and object slicing is disabled",this._typeId);this.skipSlice(),this.startSlice()}this.unmarshal(t,n)}}),y=f(p,{__init__:function(e,t,n,i){p.call(this,e,t,n,i),this._current=null,this._objectIdIndex=1},readObject:function(e){t.assert(void 0!==e);var n=this._stream.readSize();if(n<0)throw new _.MarshalException("invalid object id");if(0===n)null!==e&&e.call(null,null);else if(null!==this._current&&0!=(8&this._current.sliceFlags)){if(null!==e){null===this._current.indirectPatchList&&(this._current.indirectPatchList=[]);var i=new h;i.index=n-1,i.patcher=e,this._current.indirectPatchList.push(i)}}else this.readInstance(n,e)},throwException:function(){t.assert(null===this._current),this.push(d.ExceptionSlice),this.startSlice();for(var e=this._current.typeId;;){var n=this._stream.createUserException(this._current.typeId);if(null!==n)throw n.__read(this._stream),n;if(this.skipSlice(),0!=(32&this._current.sliceFlags)){if(0===e.indexOf("::"))throw new _.UnknownUserException(e.substr(2));throw new _.UnknownUserException(e)}this.startSlice()}},startInstance:function(e){t.assert(void 0!==e),t.assert(null!==this._current.sliceType&&this._current.sliceType===e),this._current.skipFirstSlice=!0},endInstance:function(e){var t=null;return e&&(t=this.readSlicedData()),null!==this._current.slices&&(this._current.slices.length=0,this._current.indirectionTables.length=0),this._current=this._current.previous,t},startSlice:function(){if(this._current.skipFirstSlice)return this._current.skipFirstSlice=!1,this._current.typeId;if(this._current.sliceFlags=this._stream.readByte(),this._current.sliceType===d.ObjectSlice?3==(3&this._current.sliceFlags)?(this._current.typeId="",this._current.compactId=this._stream.readSize()):0!=(3&this._current.sliceFlags)?(this._current.typeId=this.readTypeId(0!=(2&this._current.sliceFlags)),this._current.compactId=-1):(this._current.typeId="",this._current.compactId=-1):(this._current.typeId=this._stream.readString(),this._current.compactId=-1),0!=(16&this._current.sliceFlags)){if(this._current.sliceSize=this._stream.readInt(),this._current.sliceSize<4)throw new _.UnmarshalOutOfBoundsException}else this._current.sliceSize=0;return this._current.typeId},endSlice:function(){var e,n,i,r=[];if(0!=(4&this._current.sliceFlags)&&this._stream.skipOpts(),0!=(8&this._current.sliceFlags)){for(i=this._stream.readAndCheckSeqSize(1),n=0;n<i;++n)r[n]=this.readInstance(this._stream.readSize(),null);if(0===r.length)throw new _.MarshalException("empty indirection table");if((null===this._current.indirectPatchList||0===this._current.indirectPatchList.length)&&0==(4&this._current.sliceFlags))throw new _.MarshalException("no references to indirection table");if(null!==this._current.indirectPatchList){for(n=0,i=this._current.indirectPatchList.length;n<i;++n){if(e=this._current.indirectPatchList[n],t.assert(e.index>=0),e.index>=r.length)throw new _.MarshalException("indirection out of range");this.addPatchEntry(r[e.index],e.patcher)}this._current.indirectPatchList.length=0}}},skipSlice:function(){if(this._stream.instance.traceLevels().slicing>0){var e=this._stream.instance.initializationData().logger,n=this._stream.instance.traceLevels().slicingCat;this._current.sliceType===d.ExceptionSlice?a.traceSlicing("exception",this._current.typeId,n,e):a.traceSlicing("object",this._current.typeId,n,e)}var i=this._stream.pos;if(0==(16&this._current.sliceFlags)){if(this._current.sliceType===d.ObjectSlice)throw new _.NoObjectFactoryException("no object factory found and compact format prevents slicing (the sender should use the sliced format instead)",this._current.typeId);if(0===this._current.typeId.indexOf("::"))throw new _.UnknownUserException(this._current.typeId.substring(2));throw new _.UnknownUserException(this._current.typeId)}t.assert(this._current.sliceSize>=4),this._stream.skip(this._current.sliceSize-4);var r=new _.SliceInfo;r.typeId=this._current.typeId,r.compactId=this._current.compactId,r.hasOptionalMembers=0!=(4&this._current.sliceFlags),r.isLastSlice=0!=(32&this._current.sliceFlags);var o=this._stream._buf,s=o.position,c=s;if(r.hasOptionalMembers&&--c,o.position=i,r.bytes=o.getArray(c-i),o.position=s,null===this._current.slices&&(this._current.slices=[],this._current.indirectionTables=[]),0!=(8&this._current.sliceFlags)){for(var l=this._stream.readAndCheckSeqSize(1),u=[],h=0;h<l;++h)u[h]=this.readInstance(this._stream.readSize(),null);this._current.indirectionTables.push(u)}else this._current.indirectionTables.push(null);this._current.slices.push(r)},readOpt:function(e,t){return(null===this._current||0!=(4&this._current.sliceFlags))&&this._stream.readOptImpl(e,t)},readInstance:function(e,n){t.assert(e>0);var i,r=null;if(e>1)return null!==n&&this.addPatchEntry(e,n),e;for(this.push(d.ObjectSlice),e=++this._objectIdIndex,this.startSlice(),i=this._current.typeId;this._current.compactId>=0&&(this._current.typeId="",0===this._current.typeId.length&&(this._current.typeId=this._stream.getTypeId(this._current.compactId))),!(this._current.typeId.length>0&&null!=(r=this.newInstance(this._current.typeId)));){if(!this._sliceObjects)throw new _.NoObjectFactoryException("no object factory found and object slicing is disabled",this._current.typeId);if(this.skipSlice(),0!=(32&this._current.sliceFlags)){r=new _.UnknownSlicedObject(i);break}this.startSlice()}if(this.unmarshal(e,r),null===this._current&&null!==this._patchMap&&0!==this._patchMap.size)throw new _.MarshalException("index for class received, but no instance");return null!==n&&n.call(null,r),e},readSlicedData:function(){var e,n,i,r,s,c;if(null===this._current.slices)return null;for(t.assert(this._current.slices.length===this._current.indirectionTables.length),e=0,n=this._current.slices.length;e<n;++e)for(i=this._current.indirectionTables[e],(r=this._current.slices[e]).objects=[],c=i?i.length:0,s=0;s<c;++s)this.addPatchEntry(i[s],C(r.objects,s,o));return new u(l.clone(this._current.slices))},push:function(e){null===this._current?this._current=new y.InstanceData(null):this._current=this._current.next?this._current.next:new y.InstanceData(this._current),this._current.sliceType=e,this._current.skipFirstSlice=!1}});y.InstanceData=function(e){null!==e&&(e.next=this),this.previous=e,this.next=null,this.sliceType=null,this.skipFirstSlice=!1,this.slices=null,this.indirectionTables=null,this.sliceFlags=0,this.sliceSize=0,this.typeId=null,this.compactId=0,this.indirectPatchList=null};var C=function(e,t,i){return function(r){null===r||r instanceof i||n.throwUOE(i.ice_staticId(),r),e[t]=r}},v=f({__init__:function(e,t){this._stream=e,this._encaps=t,this._marshaledMap=new r,this._typeIdMap=null,this._typeIdIndex=0},writeOpt:function(){return!1},writePendingObjects:function(){},registerTypeId:function(e){null===this._typeIdMap&&(this._typeIdMap=new r);var t=this._typeIdMap.get(e);return void 0!==t?t:(this._typeIdMap.set(e,++this._typeIdIndex),-1)}}),m=f(v,{__init__:function(e,t){v.call(this,e,t),this._sliceType=d.NoSlice,this._writeSlice=0,this._objectIdIndex=0,this._toBeMarshaledMap=new r},writeObject:function(e){t.assert(void 0!==e),null!==e?this._stream.writeInt(-this.registerObject(e)):this._stream.writeInt(0)},writeUserException:function(e){t.assert(null!=e);var n=e.__usesClasses();this._stream.writeBool(n),e.__write(this._stream),n&&this.writePendingObjects()},startInstance:function(e){this._sliceType=e},endInstance:function(){this._sliceType===d.ObjectSlice&&(this.startSlice(o.ice_staticId(),-1,!0),this._stream.writeSize(0),this.endSlice()),this._sliceType=d.NoSlice},startSlice:function(e){if(this._sliceType===d.ObjectSlice){var t=this.registerTypeId(e);t<0?(this._stream.writeBool(!1),this._stream.writeString(e)):(this._stream.writeBool(!0),this._stream.writeSize(t))}else this._stream.writeString(e);this._stream.writeInt(0),this._writeSlice=this._stream.pos},endSlice:function(){var e=this._stream.pos-this._writeSlice+4;this._stream.rewriteInt(e,this._writeSlice-4)},writePendingObjects:function(){for(var e,t=this,n=function(e,n){t._stream.writeInt(n);try{e.ice_preMarshal()}catch(e){t._stream.instance.initializationData().logger.warning("exception raised by ice_preMarshal:\n"+e.toString())}e.__write(t._stream)};this._toBeMarshaledMap.size>0;)this._marshaledMap.merge(this._toBeMarshaledMap),e=this._toBeMarshaledMap,this._toBeMarshaledMap=new r,this._stream.writeSize(e.size),e.forEach(n);this._stream.writeSize(0)},registerObject:function(e){t.assert(null!==e);var n=this._toBeMarshaledMap.get(e);return void 0!==n||void 0!==(n=this._marshaledMap.get(e))?n:(this._toBeMarshaledMap.set(e,++this._objectIdIndex),this._objectIdIndex)}}),S=f(v,{__init__:function(e,t){v.call(this,e,t),this._current=null,this._objectIdIndex=1},writeObject:function(e){var n,o;t.assert(void 0!==e),null===e?this._stream.writeSize(0):null!==this._current&&this._encaps.format===i.SlicedFormat?(null===this._current.indirectionTable&&(this._current.indirectionTable=[],this._current.indirectionMap=new r),void 0===(n=this._current.indirectionMap.get(e))?(this._current.indirectionTable.push(e),o=this._current.indirectionTable.length,this._current.indirectionMap.set(e,o),this._stream.writeSize(o)):this._stream.writeSize(n)):this.writeInstance(e)},writePendingObjects:function(){},writeUserException:function(e){t.assert(null!=e),e.__write(this._stream)},startInstance:function(e,t){null===this._current?this._current=new S.InstanceData(null):this._current=null===this._current.next?new S.InstanceData(this._current):this._current.next,this._current.sliceType=e,this._current.firstSlice=!0,null!=t&&this.writeSlicedData(t)},endInstance:function(){this._current=this._current.previous},startSlice:function(e,n,r){if(t.assert(!(null!==this._current.indirectionTable&&0!==this._current.indirectionTable.length||null!==this._current.indirectionMap&&0!==this._current.indirectionMap.size)),this._current.sliceFlagsPos=this._stream.pos,this._current.sliceFlags=0,this._encaps.format===i.SlicedFormat&&(this._current.sliceFlags|=16),r&&(this._current.sliceFlags|=32),this._stream.writeByte(0),this._current.sliceType===d.ObjectSlice){if(this._encaps.format===i.SlicedFormat||this._current.firstSlice)if(n>=0)this._current.sliceFlags|=3,this._stream.writeSize(n);else{var o=this.registerTypeId(e);o<0?(this._current.sliceFlags|=1,this._stream.writeString(e)):(this._current.sliceFlags|=2,this._stream.writeSize(o))}}else this._stream.writeString(e);0!=(16&this._current.sliceFlags)&&this._stream.writeInt(0),this._current.writeSlice=this._stream.pos,this._current.firstSlice=!1},endSlice:function(){var e,n,r;if(0!=(4&this._current.sliceFlags)&&this._stream.writeByte(255),0!=(16&this._current.sliceFlags)&&(e=this._stream.pos-this._current.writeSlice+4,this._stream.rewriteInt(e,this._current.writeSlice-4)),null!==this._current.indirectionTable&&0!==this._current.indirectionTable.length){for(t.assert(this._encaps.format===i.SlicedFormat),this._current.sliceFlags|=8,this._stream.writeSize(this._current.indirectionTable.length),n=0,r=this._current.indirectionTable.length;n<r;++n)this.writeInstance(this._current.indirectionTable[n]);this._current.indirectionTable.length=0,this._current.indirectionMap.clear()}this._stream.rewriteByte(this._current.sliceFlags,this._current.sliceFlagsPos)},writeOpt:function(e,t){return null===this._current?this._stream.writeOptImpl(e,t):!!this._stream.writeOptImpl(e,t)&&(this._current.sliceFlags|=4,!0)},writeSlicedData:function(e){var n,o,s,c,a;if(t.assert(null!=e),this._encaps.format===i.SlicedFormat)for(n=0,o=e.slices.length;n<o;++n){if(s=e.slices[n],this.startSlice(s.typeId,s.compactId,s.isLastSlice),this._stream.writeBlob(s.bytes),s.hasOptionalMembers&&(this._current.sliceFlags|=4),null!==s.objects&&s.objects.length>0)for(null===this._current.indirectionTable&&(this._current.indirectionTable=[],this._current.indirectionMap=new r),c=0,a=s.objects.length;c<a;++c)this._current.indirectionTable.push(s.objects[c]);this.endSlice()}},writeInstance:function(e){t.assert(null!=e);var n=this._marshaledMap.get(e);if(void 0===n){this._marshaledMap.set(e,++this._objectIdIndex);try{e.ice_preMarshal()}catch(e){this._stream.instance.initializationData().logger.warning("exception raised by ice_preMarshal:\n"+e.toString())}this._stream.writeSize(1),e.__write(this._stream)}else this._stream.writeSize(n)}});S.InstanceData=function(e){t.assert(void 0!==e),null!==e&&(e.next=this),this.previous=e,this.next=null,this.sliceType=null,this.firstSlice=!1,this.sliceFlags=0,this.writeSlice=0,this.sliceFlagsPos=0,this.indirectionTable=null,this.indirectionMap=null};var I=f({__init__:function(){this.start=0,this.sz=0,this.encoding=null,this.encoding_1_0=!1,this.decoder=null,this.next=null},reset:function(){this.decoder=null},setEncoding:function(e){this.encoding=e,this.encoding_1_0=e.equals(_.Encoding_1_0)}}),E=f({__init__:function(){this.start=0,this.format=i.DefaultFormat,this.encoding=null,this.encoding_1_0=!1,this.encoder=null,this.next=null},reset:function(){this.encoder=null},setEncoding:function(e){this.encoding=e,this.encoding_1_0=e.equals(_.Encoding_1_0)}}),b=f({__init__:function(e,t,n){this._instance=e,this._closure=null,this._encoding=t,this._readEncapsStack=null,this._writeEncapsStack=null,this._readEncapsCache=null,this._writeEncapsCache=null,this._sliceObjects=!0,this._startSeq=-1,this._sizePos=-1,this._buf=void 0!==n?new _.Buffer(n):new _.Buffer},reset:function(){this._buf.reset(),this.clear()},clear:function(){null!==this._readEncapsStack&&(t.assert(this._readEncapsStack.next),this._readEncapsStack.next=this._readEncapsCache,this._readEncapsCache=this._readEncapsStack,this._readEncapsCache.reset(),this._readEncapsStack=null),null!==this._writeEncapsStack&&(t.assert(this._writeEncapsStack.next),this._writeEncapsStack.next=this._writeEncapsCache,this._writeEncapsCache=this._writeEncapsStack,this._writeEncapsCache.reset(),this._writeEncapsStack=null),this._startSeq=-1,this._sliceObjects=!0},swap:function(e){var n,i,r,o,s;t.assert(this._instance===e._instance),n=e._buf,e._buf=this._buf,this._buf=n,i=e._closure,e._closure=this._closure,this._closure=i,this.resetEncaps(),e.resetEncaps(),r=e._startSeq,e._startSeq=this._startSeq,this._startSeq=r,o=e._minSeqSize,e._minSeqSize=this._minSeqSize,this._minSeqSize=o,s=e._sizePos,e._sizePos=this._sizePos,this._sizePos=s},resetEncaps:function(){this._readEncapsStack=null,this._writeEncapsStack=null},resize:function(e){this._buf.resize(e),this._buf.position=e},prepareWrite:function(){return this._buf.position=0,this._buf},startWriteObject:function(e){t.assert(null!==this._writeEncapsStack&&null!==this._writeEncapsStack.encoder),this._writeEncapsStack.encoder.startInstance(d.ObjectSlice,e)},endWriteObject:function(){t.assert(null!==this._writeEncapsStack&&null!==this._writeEncapsStack.encoder),this._writeEncapsStack.encoder.endInstance()},startReadObject:function(){t.assert(null!==this._readEncapsStack&&null!==this._readEncapsStack.decoder),this._readEncapsStack.decoder.startInstance(d.ObjectSlice)},endReadObject:function(e){return t.assert(null!==this._readEncapsStack&&null!==this._readEncapsStack.decoder),this._readEncapsStack.decoder.endInstance(e)},startWriteException:function(e){t.assert(null!==this._writeEncapsStack&&null!==this._writeEncapsStack.encoder),this._writeEncapsStack.encoder.startInstance(d.ExceptionSlice,e)},endWriteException:function(){t.assert(null!==this._writeEncapsStack&&null!==this._writeEncapsStack.encoder),this._writeEncapsStack.encoder.endInstance()},startReadException:function(){t.assert(null!==this._readEncapsStack&&null!==this._readEncapsStack.decoder),this._readEncapsStack.decoder.startInstance(d.ExceptionSlice)},endReadException:function(e){return t.assert(null!==this._readEncapsStack&&null!==this._readEncapsStack.decoder),this._readEncapsStack.decoder.endInstance(e)},startWriteEncaps:function(e,t){void 0===e&&(null!==this._writeEncapsStack?(e=this._writeEncapsStack.encoding,t=this._writeEncapsStack.format):(e=this._encoding,t=i.DefaultFormat)),c.checkSupportedEncoding(e);var n=this._writeEncapsCache;null!==n?(n.reset(),this._writeEncapsCache=this._writeEncapsCache.next):n=new E,n.next=this._writeEncapsStack,this._writeEncapsStack=n,this._writeEncapsStack.format=t,this._writeEncapsStack.setEncoding(e),this._writeEncapsStack.start=this._buf.limit,this.writeInt(0),this._writeEncapsStack.encoding.__write(this)},endWriteEncaps:function(){t.assert(this._writeEncapsStack);var e=this._writeEncapsStack.start,n=this._buf.limit-e;this._buf.putIntAt(e,n);var i=this._writeEncapsStack;this._writeEncapsStack=i.next,i.next=this._writeEncapsCache,this._writeEncapsCache=i,this._writeEncapsCache.reset()},endWriteEncapsChecked:function(){if(null===this._writeEncapsStack)throw new _.EncapsulationException("not in an encapsulation");this.endWriteEncaps()},writeEmptyEncaps:function(e){c.checkSupportedEncoding(e),this.writeInt(6),e.__write(this)},writeEncaps:function(e){if(e.length<6)throw new _.EncapsulationException;this.expand(e.length),this._buf.putArray(e)},getWriteEncoding:function(){return null!==this._writeEncapsStack?this._writeEncapsStack.encoding:this._encoding},startReadEncaps:function(){var e=this._readEncapsCache;null!==e?(e.reset(),this._readEncapsCache=this._readEncapsCache.next):e=new I,e.next=this._readEncapsStack,this._readEncapsStack=e,this._readEncapsStack.start=this._buf.position;var t=this.readInt();if(t<6)throw new _.UnmarshalOutOfBoundsException;if(t-4>this._buf.remaining)throw new _.UnmarshalOutOfBoundsException;this._readEncapsStack.sz=t;var n=new _.EncodingVersion;return n.__read(this),c.checkSupportedEncoding(n),this._readEncapsStack.setEncoding(n),n},endReadEncaps:function(){if(t.assert(null!==this._readEncapsStack),this._readEncapsStack.encoding_1_0){if(this._buf.position!==this._readEncapsStack.start+this._readEncapsStack.sz){if(this._buf.position+1!==this._readEncapsStack.start+this._readEncapsStack.sz)throw new _.EncapsulationException;try{this._buf.get()}catch(e){throw new _.UnmarshalOutOfBoundsException}}}else if(this.skipOpts(),this._buf.position!==this._readEncapsStack.start+this._readEncapsStack.sz)throw new _.EncapsulationException;var e=this._readEncapsStack;this._readEncapsStack=e.next,e.next=this._readEncapsCache,this._readEncapsCache=e,this._readEncapsCache.reset()},skipEmptyEncaps:function(e){if(t.assert(void 0!==e),6!==this.readInt())throw new _.EncapsulationException;var n=this._buf.position;if(n+2>this._buf.limit)throw new _.UnmarshalOutOfBoundsException;null!==e?e.__read(this):this._buf.position=n+2},endReadEncapsChecked:function(){if(null===this._readEncapsStack)throw new _.EncapsulationException("not in an encapsulation");this.endReadEncaps()},readEncaps:function(e){t.assert(void 0!==e);var n=this.readInt();if(n<6)throw new _.UnmarshalOutOfBoundsException;if(n-4>this._buf.remaining)throw new _.UnmarshalOutOfBoundsException;null!==e?(e.__read(this),this._buf.position=this._buf.position-6):this._buf.position=this._buf.position-4;try{return this._buf.getArray(n)}catch(e){throw new _.UnmarshalOutOfBoundsException}},getReadEncoding:function(){return null!==this._readEncapsStack?this._readEncapsStack.encoding:this._encoding},getReadEncapsSize:function(){return t.assert(null!==this._readEncapsStack),this._readEncapsStack.sz-6},skipEncaps:function(){var e=this.readInt();if(e<6)throw new _.UnmarshalOutOfBoundsException;var t=new _.EncodingVersion;t.__read(this);try{this._buf.position=this._buf.position+e-6}catch(e){throw new _.UnmarshalOutOfBoundsException}return t},startWriteSlice:function(e,n,i){t.assert(null!==this._writeEncapsStack&&null!==this._writeEncapsStack.encoder),this._writeEncapsStack.encoder.startSlice(e,n,i)},endWriteSlice:function(){t.assert(null!==this._writeEncapsStack&&null!==this._writeEncapsStack.encoder),this._writeEncapsStack.encoder.endSlice()},startReadSlice:function(){return t.assert(null!==this._readEncapsStack&&null!==this._readEncapsStack.decoder),this._readEncapsStack.decoder.startSlice()},endReadSlice:function(){t.assert(null!==this._readEncapsStack&&null!==this._readEncapsStack.decoder),this._readEncapsStack.decoder.endSlice()},skipSlice:function(){t.assert(null!==this._readEncapsStack&&null!==this._readEncapsStack.decoder),this._readEncapsStack.decoder.skipSlice()},readPendingObjects:function(){null!==this._readEncapsStack&&null!==this._readEncapsStack.decoder?this._readEncapsStack.decoder.readPendingObjects():(null!==this._readEncapsStack&&this._readEncapsStack.encoding_1_0||null===this._readEncapsStack&&this._encoding.equals(_.Encoding_1_0))&&this.skipSize()},writePendingObjects:function(){null!==this._writeEncapsStack&&null!==this._writeEncapsStack.encoder?this._writeEncapsStack.encoder.writePendingObjects():(null!==this._writeEncapsStack&&this._writeEncapsStack.encoding_1_0||null===this._writeEncapsStack&&this._encoding.equals(_.Encoding_1_0))&&this.writeSize(0)},writeSize:function(e){e>254?(this.expand(5),this._buf.put(255),this._buf.putInt(e)):(this.expand(1),this._buf.put(e))},readSize:function(){try{var e=this._buf.get();if(255===e){var t=this._buf.getInt();if(t<0)throw new _.UnmarshalOutOfBoundsException;return t}return e}catch(e){throw new _.UnmarshalOutOfBoundsException}},readAndCheckSeqSize:function(e){var t=this.readSize();if(0===t)return t;if(-1===this._startSeq||this._buf.position>this._startSeq+this._minSeqSize?(this._startSeq=this._buf.position,this._minSeqSize=t*e):this._minSeqSize+=t*e,this._startSeq+this._minSeqSize>this._buf.limit)throw new _.UnmarshalOutOfBoundsException;return t},startSize:function(){var e=this._buf.position;return this.writeInt(0),e},endSize:function(e){t.assert(e>=0),this.rewriteInt(this._buf.position-e-4,e)},writeBlob:function(e){null!==e&&(this.expand(e.length),this._buf.putArray(e))},readBlob:function(e){if(this._buf.remaining<e)throw new _.UnmarshalOutOfBoundsException;try{return this._buf.getArray(e)}catch(e){throw new _.UnmarshalOutOfBoundsException}},writeOpt:function(e,n){return t.assert(null!==this._writeEncapsStack),null!==this._writeEncapsStack.encoder?this._writeEncapsStack.encoder.writeOpt(e,n):this.writeOptImpl(e,n)},readOpt:function(e,n){return t.assert(null!==this._readEncapsStack),null!==this._readEncapsStack.decoder?this._readEncapsStack.decoder.readOpt(e,n):this.readOptImpl(e,n)},writeOptValue:function(e,t,n,i){void 0!==i&&this.writeOpt(e,t)&&n.call(this,i)},readOptValue:function(e,t,n){return this.readOpt(e,t)?n.call(this):void 0},writeByte:function(e){this.expand(1),this._buf.put(e)},rewriteByte:function(e,t){this._buf.putAt(t,e)},readByte:function(){try{return this._buf.get()}catch(e){throw new _.UnmarshalOutOfBoundsException}},writeByteSeq:function(e){null===e||0===e.length?this.writeSize(0):(this.writeSize(e.length),this.expand(e.length),this._buf.putArray(e))},readByteSeq:function(){return this._buf.getArray(this.readAndCheckSeqSize(1))},writeBool:function(e){this.expand(1),this._buf.put(e?1:0)},rewriteBool:function(e,t){this._buf.putAt(t,e?1:0)},readBool:function(){try{return 1===this._buf.get()}catch(e){throw new _.UnmarshalOutOfBoundsException}},writeShort:function(e){this.expand(2),this._buf.putShort(e)},readShort:function(){try{return this._buf.getShort()}catch(e){throw new _.UnmarshalOutOfBoundsException}},writeInt:function(e){this.expand(4),this._buf.putInt(e)},rewriteInt:function(e,t){this._buf.putIntAt(t,e)},readInt:function(){try{return this._buf.getInt()}catch(e){throw new _.UnmarshalOutOfBoundsException}},writeLong:function(e){this.expand(8),this._buf.putLong(e)},readLong:function(){try{return this._buf.getLong()}catch(e){throw new _.UnmarshalOutOfBoundsException}},writeFloat:function(e){this.expand(4),this._buf.putFloat(e)},readFloat:function(){try{return this._buf.getFloat()}catch(e){throw new _.UnmarshalOutOfBoundsException}},writeDouble:function(e){this.expand(8),this._buf.putDouble(e)},readDouble:function(){try{return this._buf.getDouble()}catch(e){throw new _.UnmarshalOutOfBoundsException}},writeString:function(e){null==e||0===e.length?this.writeSize(0):this._buf.writeString(this,e)},readString:function(){var e=this.readSize();if(0===e)return"";if(this._buf.remaining<e)throw new _.UnmarshalOutOfBoundsException;try{return this._buf.getString(e)}catch(e){throw new _.UnmarshalOutOfBoundsException}},writeProxy:function(e){this._instance.proxyFactory().proxyToStream(e,this)},writeOptProxy:function(e,t){if(void 0!==t&&this.writeOpt(e,s.FSize)){var n=this.startSize();this.writeProxy(t),this.endSize(n)}},readProxy:function(e){return this._instance.proxyFactory().streamToProxy(this,e)},readOptProxy:function(e,t){return this.readOpt(e,s.FSize)?(this.skip(4),this.readProxy(t)):void 0},writeEnum:function(e){this.isWriteEncoding_1_0()?e.maxValue<127?this.writeByte(e.value):e.maxValue<32767?this.writeShort(e.value):this.writeInt(e.value):this.writeSize(e.value)},readEnum:function(e){var t;t=this.getReadEncoding().equals(_.Encoding_1_0)?e.maxValue<127?this.readByte():e.maxValue<32767?this.readShort():this.readInt():this.readSize();var n=e.valueOf(t);if(void 0===n)throw new _.MarshalException("enumerator value "+t+" is out of range");return n},readOptEnum:function(e,t){return this.readOpt(e,s.Size)?this.readEnum(t):void 0},writeObject:function(e){this.initWriteEncaps(),this._writeEncapsStack.encoder.writeObject(e)},writeOptObject:function(e,t){void 0!==t&&this.writeOpt(e,s.Class)&&this.writeObject(t)},readObject:function(e,t){this.initReadEncaps(),this._readEncapsStack.decoder.readObject.call(this._readEncapsStack.decoder,(function(i){null===i||i.ice_instanceof(t)||n.throwUOE(t.ice_staticId(),i),e(i)}))},readOptObject:function(e,t,n){this.readOpt(e,s.Class)?this.readObject(t,n):t(void 0)},writeUserException:function(e){this.initWriteEncaps(),this._writeEncapsStack.encoder.writeUserException(e)},throwException:function(){this.initReadEncaps(),this._readEncapsStack.decoder.throwException()},sliceObjects:function(e){this._sliceObjects=e},readOptImpl:function(e,t){var n,i,r,o;if(this.isReadEncoding_1_0())return!1;for(;;){if(this._buf.position>=this._readEncapsStack.start+this._readEncapsStack.sz)return!1;if(255===(n=this.readByte()))return this._buf.position-=1,!1;if(i=s.valueOf(7&n),30==(r=n>>3)&&(r=this.readSize()),r>e)return o=r<30?1:r<255?2:6,this._buf.position-=o,!1;if(!(r<e)){if(i!==t)throw new _.MarshalException("invalid optional data member `"+r+"': unexpected format");return!0}this.skipOpt(i)}},writeOptImpl:function(e,t){if(this.isWriteEncoding_1_0())return!1;var n=t.value;return e<30?(n|=e<<3,this.writeByte(n)):(n|=240,this.writeByte(n),this.writeSize(e)),!0},skipOpt:function(e){switch(e){case s.F1:this.skip(1);break;case s.F2:this.skip(2);break;case s.F4:this.skip(4);break;case s.F8:this.skip(8);break;case s.Size:this.skipSize();break;case s.VSize:this.skip(this.readSize());break;case s.FSize:this.skip(this.readInt());break;case s.Class:this.readObject(null,_.Object)}},skipOpts:function(){for(var e,t,n;;){if(this._buf.position>=this._readEncapsStack.start+this._readEncapsStack.sz)return;if(255===(t=(e=this.readByte())<0?e+256:e))return;n=s.valueOf(7&t),t>>3==30&&this.skipSize(),this.skipOpt(n)}},skip:function(e){if(e>this._buf.remaining)throw new _.UnmarshalOutOfBoundsException;this._buf.position+=e},skipSize:function(){255===this.readByte()&&this.skip(4)},isEmpty:function(){return this._buf.empty()},expand:function(e){this._buf.expand(e)},createObject:function(t){var n,i=null;try{var r=t.length>2?t.substr(2).replace(/::/g,"."):"";void 0!==(n=e.type(r))&&(i=new n)}catch(e){throw new _.NoObjectFactoryException("no object factory",t,e)}return i},getTypeId:function(e){var t=_.CompactIdRegistry.get(e);return void 0===t?"":t},isReadEncoding_1_0:function(){return null!==this._readEncapsStack?this._readEncapsStack.encoding_1_0:this._encoding.equals(_.Encoding_1_0)},isWriteEncoding_1_0:function(){return this._writeEncapsStack?this._writeEncapsStack.encoding_1_0:this._encoding.equals(_.Encoding_1_0)},initReadEncaps:function(){if(null===this._readEncapsStack&&(this._readEncapsStack=this._readEncapsCache,null!==this._readEncapsStack?this._readEncapsCache=this._readEncapsCache.next:this._readEncapsStack=new I,this._readEncapsStack.setEncoding(this._encoding),this._readEncapsStack.sz=this._buf.limit),null===this._readEncapsStack.decoder){var e=this._instance.servantFactoryManager();this._readEncapsStack.encoding_1_0?this._readEncapsStack.decoder=new g(this,this._readEncapsStack,this._sliceObjects,e):this._readEncapsStack.decoder=new y(this,this._readEncapsStack,this._sliceObjects,e)}},initWriteEncaps:function(){this._writeEncapsStack||(this._writeEncapsStack=this._writeEncapsCache,this._writeEncapsStack?this._writeEncapsCache=this._writeEncapsCache.next:this._writeEncapsStack=new E,this._writeEncapsStack.setEncoding(this._encoding)),this._writeEncapsStack.format===i.DefaultFormat&&(this._writeEncapsStack.format=this._instance.defaultsAndOverrides().defaultFormat),this._writeEncapsStack.encoder||(this._writeEncapsStack.encoding_1_0?this._writeEncapsStack.encoder=new m(this,this._writeEncapsStack):this._writeEncapsStack.encoder=new S(this,this._writeEncapsStack))},createUserException:function(t){var n,i=null;try{var r=t.length>2?t.substr(2).replace(/::/g,"."):"";void 0!==(n=e.type(r))&&(i=new n)}catch(e){throw new _.MarshalException(e)}return i}}),R=Object.defineProperty;R(b.prototype,"pos",{get:function(){return this._buf.position},set:function(e){this._buf.position=e}}),R(b.prototype,"size",{get:function(){return this._buf.limit}}),R(b.prototype,"instance",{get:function(){return this._instance}}),R(b.prototype,"closure",{get:function(){return this._type},set:function(e){this._type=e}}),R(b.prototype,"buffer",{get:function(){return this._buf}});var w=function(e,t,n,i,r,o){var s={write:function(t,n){return e.call(t,n)},read:function(e){return t.call(e)},writeOpt:function(t,n,r){t.writeOptValue(n,i,e,r)},readOpt:function(e,n){return e.readOptValue(n,i,t)}};return void 0!==r&&void 0!==o&&(s.validate=function(e){return e>=r&&e<=o}),R(s,"minWireSize",{get:function(){return n}}),s},x=b.prototype;_.ByteHelper=w(x.writeByte,x.readByte,1,_.OptionalFormat.F1,0,255),_.ShortHelper=w(x.writeShort,x.readShort,2,_.OptionalFormat.F2,-32768,32767),_.IntHelper=w(x.writeInt,x.readInt,4,_.OptionalFormat.F4,-2147483648,2147483647),_.FloatHelper=w(x.writeFloat,x.readFloat,4,_.OptionalFormat.F4,-34028234664e28,34028234664e28),_.FloatHelper.validate=function(e){return Number.isNaN(e)||e==Number.POSITIVE_INFINITY||e==Number.NEGATIVE_INFINITY||e>=-34028234664e28&&e<=34028234664e28},_.DoubleHelper=w(x.writeDouble,x.readDouble,8,_.OptionalFormat.F8,-Number.MAX_VALUE,Number.MAX_VALUE),_.DoubleHelper.validate=function(e){return Number.isNaN(e)||e==Number.POSITIVE_INFINITY||e==Number.NEGATIVE_INFINITY||e>=-Number.MAX_VALUE&&e<=Number.MAX_VALUE},_.BoolHelper=w(x.writeBool,x.readBool,1,_.OptionalFormat.F1),_.LongHelper=w(x.writeLong,x.readLong,8,_.OptionalFormat.F8),_.LongHelper.validate=function(e){return e.low>=0&&e.low<=4294967295&&e.high>=0&&e.high<=4294967295},_.StringHelper=w(x.writeString,x.readString,1,_.OptionalFormat.VSize),_.ObjectHelper={write:function(e,t){e.writeObject(t)},read:function(e){var t;return e.readObject((function(e){t=e}),_.Object),t},writeOpt:function(e,t,n){e.writeOptValue(t,_.OptionalFormat.Class,x.writeObject,n)},readOpt:function(e,t){var n;return e.readOptObject(t,(function(e){n=e}),_.Object),n}},R(_.ObjectHelper,"minWireSize",{get:function(){return 1}}),_.BasicStream=b}(),_.SocketOperation={None:0,Read:1,Write:2,Connect:2},W=_.Class({__init__:function(e,t,n,i){this._instance=e,this._traceLevel=e.traceLevels().network,this._traceCategory=e.traceLevels().networkCat,this._logger=e.initializationData().logger,this._properties=e.initializationData().properties,this._type=t,this._protocol=n,this._secure=i},traceLevel:function(){return this._traceLevel},traceCategory:function(){return this._traceCategory},logger:function(){return this._logger},protocol:function(){return this._protocol},type:function(){return this._type},secure:function(){return this._secure},properties:function(){return this._properties},defaultHost:function(){return this._instance.defaultsAndOverrides().defaultHost},defaultSourceAddress:function(){return this._instance.defaultsAndOverrides().defaultSourceAddress},defaultEncoding:function(){return this._instance.defaultsAndOverrides().defaultEncoding},defaultTimeout:function(){return this._instance.defaultsAndOverrides().defaultTimeout},messageSizeMax:function(){return this._instance.messageSizeMax()}}),_.ProtocolInstance=W,g.defineSequence(_,"EndpointSeqHelper","Ice.ObjectHelper",!1,"Ice.Endpoint"),z=_.AsyncResultBase,G=_.Debug,_.Promise,K=_.Protocol,Q=_.UserException,Y=_.BasicStream,(J=_.Class(z,{__init__:function(e,t,n,i,r,o){z.call(this,e,t,n,i,r),void 0!==e&&(this._completed=o,this._is=null,this._os=null!==e?new Y(this._instance,K.currentProtocolEncoding):null,this._state=0,this._exception=null,this._sentSynchronously=!1)},cancel:function(){this.__cancel(new _.InvocationCanceledException)},isCompleted:function(){return(this._state&J.Done)>0},isSent:function(){return(this._state&J.Sent)>0},throwLocalException:function(){if(null!==this._exception)throw this._exception},sentSynchronously:function(){return this._sentSynchronously},__markSent:function(e){G.assert(0==(this._state&J.Done)),this._state|=J.Sent,e&&(this._state|=J.Done|J.OK,this._cancellationHandler=null,this.succeed(this))},__markFinished:function(e,t){G.assert(0==(this._state&J.Done)),this._state|=J.Done,e&&(this._state|=J.OK),this._cancellationHandler=null,t?t(this):this.succeed(this)},__markFinishedEx:function(e){G.assert(0==(this._state&J.Done)),this._exception=e,this._state|=J.Done,this._cancellationHandler=null,this.fail(e,this)},__cancel:function(e){this._cancellationException=e,this._cancellationHandler&&this._cancellationHandler.asyncRequestCanceled(this,e)},__cancelable:function(e){if(this._cancellationException)try{throw this._cancellationException}finally{this._cancellationException=null}this._cancellationHandler=e},__os:function(){return this._os},__is:function(){return this._is},__startReadParams:function(){return this._is.startReadEncaps(),this._is},__endReadParams:function(){this._is.endReadEncaps()},__readEmptyParams:function(){this._is.skipEmptyEncaps(null)},__readParamEncaps:function(){return this._is.readEncaps(null)},__throwUserException:function(){if(G.assert(0!=(this._state&J.Done)),0==(this._state&J.OK))try{this._is.startReadEncaps(),this._is.throwException()}catch(e){throw e instanceof Q&&this._is.endReadEncaps(),e}}})).OK=1,J.Done=2,J.Sent=4,_.AsyncResult=J,_.Address=function(e,t){this.host=e,this.port=t},function(){var e=_.BasicStream,t=_.Debug,n=(_.ExUtil,_.Class),i=_.Protocol,r=n({__init__:function(t,n){if(this._batchStreamInUse=!1,this._batchRequestNum=0,this._batchStream=new e(t,i.currentProtocolEncoding),this._batchStream.writeBlob(i.requestBatchHdr),this._batchMarker=this._batchStream.size,this._exception=null,this._maxSize=t.batchAutoFlushSize(),this._maxSize>0&&n){var r=t.initializationData().properties.getPropertyAsIntWithDefault("Ice.UDP.SndSize",65507);r<this._maxSize&&(this._maxSize=r)}},prepareBatchRequest:function(e){if(this._exception)throw this._exception;this._batchStream.swap(e)},finishBatchRequest:function(e,n,i){this._batchStream.swap(e);try{this._maxSize>0&&this._batchStream.size>=this._maxSize&&n.ice_flushBatchRequests(),t.assert(this._batchMarker<this._batchStream.size),this._batchMarker=this._batchStream.size,++this._batchRequestNum}finally{this._batchStream.resize(this._batchMarker)}},abortBatchRequest:function(e){this._batchStream.swap(e),this._batchStream.resize(this._batchMarker)},swap:function(e){if(0===this._batchRequestNum)return 0;var t=null;if(this._batchMarker<this._batchStream.size){var n=this._batchStream.size-this._batchMarker;this._batchStream.pos=this._batchMarker,t=this._batchStream.buffer.getArray(n),this._batchStream.resize(this._batchMarker)}var r=this._batchRequestNum;return this._batchStream.swap(e),this._batchRequestNum=0,this._batchStream.writeBlob(i.requestBatchHdr),this._batchMarker=this._batchStream.size,null!==t&&this._batchStream.writeBlob(t),r},destroy:function(e){this._exception=e},isEmpty:function(){return this._batchStream.size===i.requestBatchHdr.length}});_.BatchRequestQueue=r}(),function(){var e=_.HashMap,t=_.CommunicatorDestroyedException,n=_.Class({__init__:function(t){this._logger=t,this._destroyed=!1,this._tokenId=0,this._tokens=new e},destroy:function(){var e=this;this._tokens.forEach((function(t,n){e.cancel(t)})),this._destroyed=!0,this._tokens.clear()},schedule:function(e,i){if(this._destroyed)throw new t;var r=this._tokenId++,o=this,s=n.setTimeout((function(){o.handleTimeout(r)}),i);return this._tokens.set(r,{callback:e,id:s,isInterval:!1}),r},scheduleRepeated:function(e,i){if(this._destroyed)throw new t;var r=this._tokenId++,o=this,s=n.setInterval((function(){o.handleInterval(r)}),i);return this._tokens.set(r,{callback:e,id:s,isInterval:!0}),r},cancel:function(e){if(this._destroyed)return!1;var t=this._tokens.get(e);return void 0!==t&&(this._tokens.del(e),t.isInterval?n.clearInterval(t.id):n.clearTimeout(t.id),!0)},handleTimeout:function(e){if(!this._destroyed){var t=this._tokens.get(e);if(void 0!==t){this._tokens.del(e);try{t.callback()}catch(e){this._logger.warning("uncaught exception while executing timer:\n"+e)}}}},handleInterval:function(e){if(!this._destroyed){var t=this._tokens.get(e);if(void 0!==t)try{t.callback()}catch(e){this._logger.warning("uncaught exception while executing timer:\n"+e)}}}});n.setTimeout=_.Timer.setTimeout,n.clearTimeout=_.Timer.clearTimeout,n.setInterval=_.Timer.setInterval,n.clearInterval=_.Timer.clearInterval,n.setImmediate=_.Timer.setImmediate,_.Timer=n}(),function(){var e=_.Class,t=e({__init__:function(e){this._instance=e,this._requests=[]},add:function(e,t){if(null===this._instance)throw new _.CommunicatorDestroyedException;var i=new n(this._instance,this,e);e.__cancelable(i),i.token=this._instance.timer().schedule((function(){i.run()}),t),this._requests.push(i)},destroy:function(){for(var e=0;e<this._requests.length;++e)this._instance.timer().cancel(this._requests[e].token),this._requests[e].destroy();this._requests=[],this._instance=null},remove:function(e){var t=this._requests.indexOf(e);t>=0&&this._requests.splice(t,1)},cancel:function(e){var t=this._requests.indexOf(e);return t>=0&&(this._requests.splice(t,1),this._instance.timer().cancel(e.token))}});_.RetryQueue=t;var n=e({__init__:function(e,t,n,i){this._instance=e,this._queue=t,this._outAsync=n},run:function(){this._outAsync.__retry(),this._queue.remove(this)},destroy:function(){try{this._outAsync.__abort(new _.CommunicatorDestroyedException)}catch(e){}},asyncRequestCanceled:function(e,t){this._queue.cancel(this)&&(this._instance.traceLevels().retry>=1&&this._instance.initializationData().logger.trace(this._instance.traceLevels().retryCat,"operation retry canceled\n"+t.toString()),this._outAsync.__completedEx(t))}})}(),function(){var e=_.ArrayUtil,t=_.Debug,n=_.HashMap,i=_.Promise,r=_.Class({__init__:function(e){this._router=e,t.assert(null!==this._router),this._clientEndpoints=null,this._serverEndpoints=null,this._adapter=null,this._identities=new n(n.compareEquals),this._evictedIdentities=[]},destroy:function(){this._clientEndpoints=[],this._serverEndpoints=[],this._adapter=null,this._identities.clear()},equals:function(e){return this===e||e instanceof r&&this._router.equals(e._router)},hashCode:function(){return this._router.hashCode()},getRouter:function(){return this._router},getClientEndpoints:function(){var e=new i;if(null!==this._clientEndpoints)e.succeed(this._clientEndpoints);else{var t=this;this._router.getClientProxy().then((function(n){t.setClientEndpoints(n,e)})).exception((function(t){e.fail(t)}))}return e},getServerEndpoints:function(){if(null!==this._serverEndpoints)return(new i).succeed(this._serverEndpoints);var e=this;return this._router.getServerProxy().then((function(t){return e.setServerEndpoints(t)}))},addProxy:function(e){if(t.assert(null!==e),this._identities.has(e.ice_getIdentity()))return(new i).succeed();var n=this;return this._router.addProxies([e]).then((function(t){n.addAndEvictProxies(e,t)}))},setAdapter:function(e){this._adapter=e},getAdapter:function(){return this._adapter},clearCache:function(e){this._identities.del(e.getIdentity())},setClientEndpoints:function(e,t){if(null===this._clientEndpoints)if(null===e)this._clientEndpoints=this._router.__reference().getEndpoints(),t.succeed(this._clientEndpoints);else{e=e.ice_router(null);var n=this;this._router.ice_getConnection().then((function(i){var r=e.ice_timeout(i.timeout());n._clientEndpoints=r.__reference().getEndpoints(),t.succeed(n._clientEndpoints)})).exception((function(e){t.fail(e)}))}else t.succeed(this._clientEndpoints)},setServerEndpoints:function(e){if(null===e)throw new _.NoEndpointException;return e=e.ice_router(null),this._serverEndpoints=e.__reference().getEndpoints(),this._serverEndpoints},addAndEvictProxies:function(t,n){var i=e.indexOf(this._evictedIdentities,t.ice_getIdentity(),(function(e,t){return e.equals(t)}));i>=0?this._evictedIdentities.splice(i,1):this._identities.set(t.ice_getIdentity(),1);for(var r=0;r<n.length;++r)this._identities.del(n[r].ice_getIdentity())}});_.RouterInfo=r}(),function(){var e=_.AsyncStatus,t=_.AsyncResult,n=_.BasicStream,i=_.Debug,r=_.HashMap,o=_.RetryException,s=(_.OperationMode,_.Protocol),c=_.Identity,a=_.Class(t,{__init__:function(e,i,r,o,c){void 0!==e?(t.call(this,e,i,r,o,c),this._os=new n(this._instance,s.currentProtocolEncoding)):t.call(this)},__os:function(){return this._os},__sent:function(){this.__markSent(!0)},__completedEx:function(e){this.__markFinishedEx(e)}}),l=_.Class(a,{__init__:function(e,n){void 0!==e?(a.call(this,e.ice_getCommunicator(),n,null,e,null),this._mode=null,this._cnt=0,this._sent=!1,this._handler=null):t.call(this)},__completedEx:function(e){try{this._instance.retryQueue().add(this,this.__handleException(e))}catch(e){this.__markFinishedEx(e)}},__retryException:function(e){try{this._proxy.__updateRequestHandler(this._handler,null),this._instance.retryQueue().add(this,0)}catch(e){this.__completedEx(e)}},__retry:function(){this.__invokeImpl(!1)},__abort:function(e){this.__markFinishedEx(e)},__invokeImpl:function(t){try{if(t){var n=this._proxy.__reference().getInvocationTimeout();if(n>0){var i=this;this._timeoutToken=this._instance.timer().schedule((function(){i.__cancel(new _.InvocationTimeoutException)}),n)}}for(;;)try{return this._sent=!1,this._handler=this._proxy.__getRequestHandler(),void((this._handler.sendAsyncRequest(this)&e.Sent)>0&&t&&(this._sentSynchronously=!0))}catch(e){if(e instanceof o)this._proxy.__updateRequestHandler(this._handler,null);else{var r=this.__handleException(e);if(r>0)return void this._instance.retryQueue().add(this,r)}}}catch(e){this.__markFinishedEx(e)}},__markSent:function(e){this._sent=!0,e&&this._timeoutToken&&this._instance.timer().cancel(this._timeoutToken),a.prototype.__markSent.call(this,e)},__markFinishedEx:function(e){this._timeoutToken&&this._instance.timer().cancel(this._timeoutToken),a.prototype.__markFinishedEx.call(this,e)},__handleException:function(e){var t={value:0};return this._cnt=this._proxy.__handleException(e,this._handler,this._mode,this._sent,t,this._cnt),t.value}}),u=_.Class(l,{__init__:function(e,t,n){void 0!==e?(l.call(this,e,t),this._encoding=s.getCompatibleEncoding(this._proxy.__reference().getEncoding()),this._completed=n):l.call(this)},__prepare:function(e,t,n){s.checkSupportedProtocol(s.getCompatibleProtocol(this._proxy.__reference().getProtocol())),this._mode=t,null===n&&(n=u._emptyContext),this._proxy.ice_isBatchOneway()||this._proxy.ice_isBatchDatagram()?this._proxy.__getBatchRequestQueue().prepareBatchRequest(this._os):this._os.writeBlob(s.requestHdr);var i=this._proxy.__reference();i.getIdentity().__write(this._os);var o=i.getFacet();if(null===o||0===o.length?_.StringSeqHelper.write(this._os,null):_.StringSeqHelper.write(this._os,[o]),this._os.writeString(this._operation),this._os.writeByte(t.value),void 0!==n){if(null!==n&&!(n instanceof r))throw new Error("illegal context value, expecting null or HashMap");_.ContextHelper.write(this._os,n)}else{var c=i.getInstance().getImplicitContext(),a=i.getContext();null===c?_.ContextHelper.write(this._os,a):c.write(a,this._os)}},__sent:function(){this.__markSent(!this._proxy.ice_isTwoway())},__invokeRemote:function(e,t,n){return e.sendAsyncRequest(this,t,n,0)},__abort:function(e){(this._proxy.ice_isBatchOneway()||this._proxy.ice_isBatchDatagram())&&this._proxy.__getBatchRequestQueue().abortBatchRequest(this._os),l.prototype.__abort.call(this,e)},__invoke:function(){if(this._proxy.ice_isBatchOneway()||this._proxy.ice_isBatchDatagram())return this._sentSynchronously=!0,this._proxy.__getBatchRequestQueue().finishBatchRequest(this._os,this._proxy,this._operation),void this.__markFinished(!0);this.__invokeImpl(!0)},__completed:function(e){var t;i.assert(this._proxy.ice_isTwoway());try{switch(null===this._is&&(this._is=new n(this._instance,s.currentProtocolEncoding)),this._is.swap(e),t=this._is.readByte()){case s.replyOK:case s.replyUserException:break;case s.replyObjectNotExist:case s.replyFacetNotExist:case s.replyOperationNotExist:var r=new c;r.__read(this._is);var o,a=_.StringSeqHelper.read(this._is);if(a.length>0){if(a.length>1)throw new _.MarshalException;o=a[0]}else o="";var l=this._is.readString(),u=null;switch(t){case s.replyObjectNotExist:u=new _.ObjectNotExistException;break;case s.replyFacetNotExist:u=new _.FacetNotExistException;break;case s.replyOperationNotExist:u=new _.OperationNotExistException;break;default:i.assert(!1)}throw u.id=r,u.facet=o,u.operation=l,u;case s.replyUnknownException:case s.replyUnknownLocalException:case s.replyUnknownUserException:var d=this._is.readString(),h=null;switch(t){case s.replyUnknownException:h=new _.UnknownException;break;case s.replyUnknownLocalException:h=new _.UnknownLocalException;break;case s.replyUnknownUserException:h=new _.UnknownUserException;break;default:i.assert(!1)}throw h.unknown=d,h;default:throw new _.UnknownReplyStatusException}this.__markFinished(t==s.replyOK,this._completed)}catch(e){this.__completedEx(e)}},__startWriteParams:function(e){return this._os.startWriteEncaps(this._encoding,e),this._os},__endWriteParams:function(){this._os.endWriteEncaps()},__writeEmptyParams:function(){this._os.writeEmptyEncaps(this._encoding)},__writeParamEncaps:function(e){null===e||0===e.length?this._os.writeEmptyEncaps(this._encoding):this._os.writeEncaps(e)},__is:function(){return this._is},__startReadParams:function(){return this._is.startReadEncaps(),this._is},__endReadParams:function(){this._is.endReadEncaps()},__readEmptyParams:function(){this._is.skipEmptyEncaps(null)},__readParamEncaps:function(){return this._is.readEncaps(null)},__throwUserException:function(){if(i.assert(0!=(this._state&t.Done)),0==(this._state&t.OK))try{this._is.startReadEncaps(),this._is.throwException()}catch(e){throw e instanceof _.UserException&&this._is.endReadEncaps(),e}}});u._emptyContext=new r;var d=_.Class(l,{__init__:function(e,t){l.call(this,e,t),this._batchRequestNum=e.__getBatchRequestQueue().swap(this._os)},__invokeRemote:function(t,n,i){return 0===this._batchRequestNum?(this.__sent(),e.Sent):t.sendAsyncRequest(this,n,i,this._batchRequestNum)},__invoke:function(){s.checkSupportedProtocol(s.getCompatibleProtocol(this._proxy.__reference().getProtocol())),this.__invokeImpl(!0)}}),h=_.Class(l,{__init__:function(e,t){l.call(this,e,t)},__invokeRemote:function(t,n,i){return this.__markFinished(!0,(function(e){e.succeed(t)})),e.Sent},__invoke:function(){this.__invokeImpl(!0)}}),f=_.Class(a,{__init__:function(e,t,n){a.call(this,t,n,e,null,null)},__invoke:function(){try{var t,n=this._connection.getBatchRequestQueue().swap(this._os);0===n?(this.__sent(),t=e.Sent):t=this._connection.sendAsyncRequest(this,!1,!1,n),(t&e.Sent)>0&&(this._sentSynchronously=!0)}catch(e){this.__completedEx(e)}}});_.OutgoingAsync=u,_.ProxyFlushBatch=d,_.ProxyGetConnection=h,_.ConnectionFlushBatch=f}(),function(){var e=_.ArrayUtil,t=_.AsyncResultBase,n=(_.AsyncResult,_.Debug),i=(_.FormatType,_.HashMap),r=_.OutgoingAsync,o=_.ProxyFlushBatch,s=_.ProxyGetConnection,c=_.ReferenceMode,a=_.OperationMode,l=_.Class({__init__:function(){this._reference=null,this._requestHandler=null},hashCode:function(e){return this._reference.hashCode()},ice_getCommunicator:function(){return this._reference.getCommunicator()},toString:function(){return this._reference.toString()},ice_getIdentity:function(){return this._reference.getIdentity().clone()},ice_identity:function(e){if(null==e||0===e.name.length)throw new _.IllegalIdentityException;if(e.equals(this._reference.getIdentity()))return this;var t=new l;return t.__setup(this._reference.changeIdentity(e)),t},ice_getContext:function(){return new i(this._reference.getContext())},ice_context:function(e){return this.__newInstance(this._reference.changeContext(e))},ice_getFacet:function(){return this._reference.getFacet()},ice_facet:function(e){if(null==e&&(e=""),e===this._reference.getFacet())return this;var t=new l;return t.__setup(this._reference.changeFacet(e)),t},ice_getAdapterId:function(){return this._reference.getAdapterId()},ice_adapterId:function(e){return null==e&&(e=""),e===this._reference.getAdapterId()?this:this.__newInstance(this._reference.changeAdapterId(e))},ice_getEndpoints:function(){return e.clone(this._reference.getEndpoints())},ice_endpoints:function(t){return null==t&&(t=[]),e.equals(t,this._reference.getEndpoints())?this:this.__newInstance(this._reference.changeEndpoints(t))},ice_getLocatorCacheTimeout:function(){return this._reference.getLocatorCacheTimeout()},ice_locatorCacheTimeout:function(e){if(e<-1)throw new Error("invalid value passed to ice_locatorCacheTimeout: "+e);return e===this._reference.getLocatorCacheTimeout()?this:this.__newInstance(this._reference.changeLocatorCacheTimeout(e))},ice_getInvocationTimeout:function(){return this._reference.getInvocationTimeout()},ice_invocationTimeout:function(e){if(e<1&&-1!==e)throw new Error("invalid value passed to ice_invocationTimeout: "+e);return e===this._reference.getInvocationTimeout()?this:this.__newInstance(this._reference.changeInvocationTimeout(e))},ice_isConnectionCached:function(){return this._reference.getCacheConnection()},ice_connectionCached:function(e){return e===this._reference.getCacheConnection()?this:this.__newInstance(this._reference.changeCacheConnection(e))},ice_getEndpointSelection:function(){return this._reference.getEndpointSelection()},ice_endpointSelection:function(e){return e===this._reference.getEndpointSelection()?this:this.__newInstance(this._reference.changeEndpointSelection(e))},ice_isSecure:function(){return this._reference.getSecure()},ice_secure:function(e){return e===this._reference.getSecure()?this:this.__newInstance(this._reference.changeSecure(e))},ice_getEncodingVersion:function(){return this._reference.getEncoding().clone()},ice_encodingVersion:function(e){return e.equals(this._reference.getEncoding())?this:this.__newInstance(this._reference.changeEncoding(e))},ice_isPreferSecure:function(){return this._reference.getPreferSecure()},ice_preferSecure:function(e){return e===this._reference.getPreferSecure()?this:this.__newInstance(this._reference.changePreferSecure(e))},ice_getRouter:function(){var e=this._reference.getRouterInfo();return null!==e?e.getRouter():null},ice_router:function(e){var t=this._reference.changeRouter(e);return t.equals(this._reference)?this:this.__newInstance(t)},ice_getLocator:function(){var e=this._reference.getLocatorInfo();return null!==e?e.getLocator():null},ice_locator:function(e){var t=this._reference.changeLocator(e);return t.equals(this._reference)?this:this.__newInstance(t)},ice_isTwoway:function(){return this._reference.getMode()===c.ModeTwoway},ice_twoway:function(){return this._reference.getMode()===c.ModeTwoway?this:this.__newInstance(this._reference.changeMode(c.ModeTwoway))},ice_isOneway:function(){return this._reference.getMode()===c.ModeOneway},ice_oneway:function(){return this._reference.getMode()===c.ModeOneway?this:this.__newInstance(this._reference.changeMode(c.ModeOneway))},ice_isBatchOneway:function(){return this._reference.getMode()===c.ModeBatchOneway},ice_batchOneway:function(){return this._reference.getMode()===c.ModeBatchOneway?this:this.__newInstance(this._reference.changeMode(c.ModeBatchOneway))},ice_isDatagram:function(){return this._reference.getMode()===c.ModeDatagram},ice_datagram:function(){return this._reference.getMode()===c.ModeDatagram?this:this.__newInstance(this._reference.changeMode(c.ModeDatagram))},ice_isBatchDatagram:function(){return this._reference.getMode()===c.ModeBatchDatagram},ice_batchDatagram:function(){return this._reference.getMode()===c.ModeBatchDatagram?this:this.__newInstance(this._reference.changeMode(c.ModeBatchDatagram))},ice_compress:function(e){var t=this._reference.changeCompress(e);return t.equals(this._reference)?this:this.__newInstance(t)},ice_timeout:function(e){if(e<1&&-1!==e)throw new Error("invalid value passed to ice_timeout: "+e);var t=this._reference.changeTimeout(e);return t.equals(this._reference)?this:this.__newInstance(t)},ice_getConnectionId:function(){return this._reference.getConnectionId()},ice_connectionId:function(e){var t=this._reference.changeConnectionId(e);return t.equals(this._reference)?this:this.__newInstance(t)},ice_getConnection:function(){var e=new s(this,"ice_getConnection");try{e.__invoke()}catch(t){e.__abort(t)}return e},ice_getCachedConnection:function(){return this._requestHandler?this._requestHandler.getConnection():null},ice_flushBatchRequests:function(){var e=new o(this,"ice_flushBatchRequests");try{e.__invoke()}catch(t){e.__abort(t)}return e},equals:function(e){return this===e||e instanceof l&&this._reference.equals(e._reference)},__reference:function(){return this._reference},__copyFrom:function(e){n.assert(null===this._reference),n.assert(null===this._requestHandler),this._reference=e._reference,this._requestHandler=e._requestHandler},__handleException:function(e,t,n,i,r,o){if(this.__updateRequestHandler(t,null),!(e instanceof _.LocalException&&(!i||n==a.Nonmutating||n==a.Idempotent||e instanceof _.CloseConnectionException||e instanceof _.ObjectNotExistException)))throw e;try{return this._reference.getInstance().proxyFactory().checkRetryAfterException(e,this._reference,r,o)}catch(t){throw t instanceof _.CommunicatorDestroyedException?e:t}},__checkAsyncTwowayOnly:function(e){if(!this.ice_isTwoway())throw new Error("`"+e+"' can only be called with a twoway proxy")},__getRequestHandler:function(){return this._reference.getCacheConnection()&&this._requestHandler?this._requestHandler:this._reference.getRequestHandler(this)},__getBatchRequestQueue:function(){return this._batchRequestQueue||(this._batchRequestQueue=this._reference.getBatchRequestQueue()),this._batchRequestQueue},__setRequestHandler:function(e){return this._reference.getCacheConnection()?(this._requestHandler||(this._requestHandler=e),this._requestHandler):e},__updateRequestHandler:function(e,t){this._reference.getCacheConnection()&&null!==e&&this._requestHandler&&this._requestHandler!==t&&(this._requestHandler=this._requestHandler.update(e,t))},__setup:function(e){n.assert(null===this._reference),this._reference=e},__newInstance:function(e){var t=new this.constructor;return t.__setup(e),t},ice_instanceof:function(e){return!!e&&(this instanceof e||this.constructor.__instanceof(e))}});l.__invoke=function(e,t,n,i,o,s,c,a,u){(null!==c||a.length>0)&&e.__checkAsyncTwowayOnly(t);var d=new r(e,t,(function(e){l.__completed(e,c,a)}));try{if(d.__prepare(t,n,o),null===s)d.__writeEmptyParams();else{var h=d.__startWriteParams(i);s.call(null,h,u),d.__endWriteParams()}d.__invoke()}catch(e){d.__abort(e)}return d},l.__completed=function(e,t,n){if(l.__check(e,n))try{if(null===t)e.__readEmptyParams(),e.succeed(e);else{var i=t(e);e.succeed.apply(e,i)}}catch(t){return void l.__dispatchLocalException(e,t)}},l.__returns_bool=function(e,t){t.push(e.readBool())},l.__returns_byte=function(e,t){t.push(e.readByte())},l.__returns_short=function(e,t){t.push(e.readShort())},l.__returns_int=function(e,t){t.push(e.readInt())},l.__returns_long=function(e,t){t.push(e.readLong())},l.__returns_float=function(e,t){t.push(e.readFloat())},l.__returns_double=function(e,t){t.push(e.readDouble())},l.__returns_string=function(e,t){t.push(e.readString())},l.__returns_ObjectPrx=function(e,t){t.push(e.readProxy())},l.__returns_Object=function(e,t){e.readObject((function(e){t.push(e)}),_.Object),e.readPendingObjects()},l.__check=function(e,t){try{e.__throwUserException()}catch(i){if(i instanceof _.UserException){if(null!==t)for(var n=0;n<t.length;++n)if(i instanceof t[n])return e.fail(i,e),!1;return e.fail(new _.UnknownUserException(i.ice_name()),e),!1}return e.fail(i,e),!1}return!0},l.__dispatchLocalException=function(e,t){e.fail(t,e)},l.ice_staticId=_.Object.ice_staticId,l.checkedCast=function(e,n,i){var r=null;if(null==e)(r=new t(null,"checkedCast",null,null,null)).succeed(null,r);else{void 0!==n&&(e=e.ice_facet(n));var o=this;r=new t(e.ice_getCommunicator(),"checkedCast",null,e,null),e.ice_isA(this.ice_staticId(),i).then((function(t,n){if(n){var i=new o;i.__copyFrom(e),r.succeed(i,r)}else r.succeed(null,r)})).exception((function(e){e instanceof _.FacetNotExistException?r.succeed(null,r):r.fail(e,r)}))}return r},l.uncheckedCast=function(e,t){var n=null;return null!=e&&(n=new this,void 0!==t&&(e=e.ice_facet(t)),n.__copyFrom(e)),n},Object.defineProperty(l,"minWireSize",{get:function(){return 2}}),l.write=function(e,t){e.writeProxy(t)},l.read=function(e){return e.readProxy(this)},l.writeOpt=function(e,t,n){e.writeOptProxy(t,n)},l.readOpt=function(e,t){return e.readOptProxy(t,this)},l.__instanceof=function(e){if(e===this)return!0;for(var t in this.__implements)if(this.__implements[t].__instanceof(e))return!0;return!!this.__parent&&this.__parent.__instanceof(e)},_.Slice.defineProxy=function(e,t,n){var i=function(){e.call(this)};return i.__parent=e,i.__implements=n,(i.prototype=new e).constructor=i,i.ice_staticId=t,i.checkedCast=l.checkedCast,i.uncheckedCast=l.uncheckedCast,i.write=l.write,i.writeOpt=l.writeOpt,i.read=l.read,i.readOpt=l.readOpt,i.__instanceof=l.__instanceof,Object.defineProperty(i,"minWireSize",{get:function(){return 2}}),i},_.ObjectPrx=l}(),Object.defineProperty(_,"TCPEndpointType",{value:1}),Object.defineProperty(_,"SSLEndpointType",{value:2}),Object.defineProperty(_,"UDPEndpointType",{value:3}),Object.defineProperty(_,"WSEndpointType",{value:4}),Object.defineProperty(_,"WSSEndpointType",{value:5}),_.EndpointInfo=g.defineLocalObject((function(e,t){this.timeout=void 0!==e?e:0,this.compress=void 0!==t&&t})),_.Endpoint=g.defineLocalObject(),_.IPEndpointInfo=g.defineLocalObject((function(e,t,n,i,r){_.EndpointInfo.call(this,e,t),this.host=void 0!==n?n:"",this.port=void 0!==i?i:0,this.sourceAddress=void 0!==r?r:""}),_.EndpointInfo),_.TCPEndpointInfo=g.defineLocalObject((function(e,t,n,i,r){_.IPEndpointInfo.call(this,e,t,n,i,r)}),_.IPEndpointInfo),_.UDPEndpointInfo=g.defineLocalObject((function(e,t,n,i,r,o,s){_.IPEndpointInfo.call(this,e,t,n,i,r),this.mcastInterface=void 0!==o?o:"",this.mcastTtl=void 0!==s?s:0}),_.IPEndpointInfo),_.WSEndpointInfo=g.defineLocalObject((function(e,t,n,i,r,o){_.TCPEndpointInfo.call(this,e,t,n,i,r),this.resource=void 0!==o?o:""}),_.TCPEndpointInfo),_.OpaqueEndpointInfo=g.defineLocalObject((function(e,t,n,i){_.EndpointInfo.call(this,e,t),this.rawEncoding=void 0!==n?n:new _.EncodingVersion,this.rawBytes=void 0!==i?i:null}),_.EndpointInfo),X=(0,_.Class)(_.Endpoint,{toString:function(){return this.protocol()+this.options()},initWithOptions:function(e){var t,n=[],i="`"+this.protocol();for(t=0;t<e.length;++t)-1!==e[t].search(/[ \t\n\r]+/)?i+=' "'+e[t]+'"':i+=" "+e[t];for(i+="'",t=0;t<e.length;){var r=e[t++];if(r.length<2||"-"!=r.charAt(0))n.push(r);else{var o=null;t<e.length&&"-"!=e[t].charAt(0)&&(o=e[t++]),this.checkOption(r,o,i)||(n.push(r),null!==o&&n.push(o))}}for(e.length=0,t=0;t<n.length;t++)e.push(n[t])},equals:function(e){return e instanceof X&&0===this.compareTo(e)},checkOption:function(){return!1}}),_.EndpointI=X,function(){var e=_.__M,t=_.Class,n=[_.ByteHelper,_.BoolHelper,_.ShortHelper,_.IntHelper,_.LongHelper,_.FloatHelper,_.DoubleHelper,_.StringHelper,_.Object,_.ObjectPrx];function i(t){var i=t[0],r=s(i);return"number"===r?i=n[t[0]]:"string"===r&&(i=e.type(i)),{type:i,isObject:!0===t[1],tag:t[2]}}function r(e,t){var n,r,o,s={};s.name=e,s.mode=t[1]?_.OperationMode.valueOf(t[1]):_.OperationMode.Normal,s.sendMode=t[2]?_.OperationMode.valueOf(t[2]):_.OperationMode.Normal,s.amd=!!t[3],s.format=t[4]?_.FormatType.valueOf(t[4]):_.FormatType.DefaultFormat,s.amd?s.servantMethod=e+"_async":s.servantMethod=t[0]?t[0]:e,t[5]&&((o=i(t[5])).pos=0),s.returns=o;var c=[],a=[];if(t[6])for(n=0;n<t[6].length;++n)(r=i(t[6][n])).pos=n,c.push(r),r.tag&&a.push(r);a.sort((function(e,t){return e.tag-t.tag})),s.inParams=c,s.inParamsOpt=a;var l=[],u=[];if(t[7]){var d=o?1:0;for(n=0;n<t[7].length;++n)(r=i(t[7][n])).pos=n+d,l.push(r),r.tag&&u.push(r)}o&&o.tag&&u.push(o),u.sort((function(e,t){return e.tag-t.tag})),s.outParams=l,s.outParamsOpt=u;var h=[];if(t[8])for(n=0;n<t[8].length;++n)h.push(t[8][n]);return s.exceptions=h,s.sendsClasses=!0===t[9],s.returnsClasses=!0===t[10],s}var o=t({__init__:function(e){this.raw=e,this.parsed={}},find:function(e){var t=this.parsed[e];return void 0===t&&void 0!==this.raw[e]&&(t=r(e,this.raw[e]),this.parsed[e]=t),t}});function c(e,t,n,i,r,o,s){var c,a,l;for(c=0;c<n.length;++c)(a=n[c]).tag||(l=a.type.read(e),o[a.pos+s]=l);for(t&&(l=t.type.read(e),o[t.pos+s]=l),c=0;c<i.length;++c)l=(a=i[c]).type.readOpt(e,a.tag),o[a.pos+s]=l;r&&e.readPendingObjects()}function a(e,t,n,i,r,o){var s,c;for(s=0;s<i.length;++s)(c=i[s]).tag||c.type.write(e,t[c.pos]);for(n&&n.type.write(e,t[n.pos]),s=0;s<r.length;++s)(c=r[s]).type.writeOpt(e,c.tag,t[c.pos]);o&&e.writePendingObjects()}var l=t({__init__:function(e,t){this.incomingAsync=e,this.op=t},ice_response:function(){var e=arguments;if(this.incomingAsync.__validateResponse(!0))try{this.__sendResponse(e),this.incomingAsync.__response()}catch(e){this.incomingAsync.__exception(e)}},ice_exception:function(e){this.__checkException(e)?this.incomingAsync.__validateResponse(!1)&&(this.__sendException(e),this.incomingAsync.__response()):this.incomingAsync.ice_exception(e)},__sendResponse:function(e){if(void 0===this.op.returns&&0===this.op.outParams.length){if(e&&e.length>0)throw new Error("ice_response called with invalid arguments");this.incomingAsync.__writeEmptyParams()}else{var t,n=this.incomingAsync.__startWriteParams(this.op.format);this.op.returns&&!this.op.returns.tag&&(t=this.op.returns),a(n,e,t,this.op.outParams,this.op.outParamsOpt,this.op.returnsClasses),this.incomingAsync.__endWriteParams(!0)}},__checkException:function(e){for(var t=0;t<this.op.exceptions.length;++t)if(e instanceof this.op.exceptions[t])return!0;return!1},__sendException:function(e){this.incomingAsync.__writeUserException(e,this.op.format)}});function u(e,t,n){for(var i,r=0;void 0===i&&r<e.length;++r){var o=e[r];void 0===(i=o[t])&&(-1===n.indexOf(o)&&n.push(o),o.__implements&&(i=u(o.__implements,t,n)))}return i}function d(e,t){var n,i="__op_"+t,r=e[i];if(void 0===r){n=[];for(var o=e;o&&void 0===r;)o.__implements&&(r=u(o.__implements,i,n)),o=o.__parent;void 0!==r&&(e[i]=r)}if(void 0===r){var s,a;if(e.__ops&&(s=e.__ops.find(t)),void 0===s){for(var d=e.__parent;void 0===s&&d;)d.__ops&&void 0!==(s=d.__ops.find(t))&&(a=d),d=d.__parent;for(var h=0;void 0===s&&h<n.length;++h){var f=n[h];f.__ops&&void 0!==(s=f.__ops.find(t))&&(a=f)}}void 0!==s&&(r=function(e,t,n){return function(e,t,n,i){var r=e[t.servantMethod];if(void 0===r||"function"!=typeof r){var o="servant for identity "+i.adapter.getCommunicator().identityToString(i.id)+" does not define operation `"+t.servantMethod+"'";throw new _.UnknownException(o)}var s=new l(n,t);try{var a=t.amd?[null]:[];if(0===t.inParams.length)n.readEmptyParams();else{var u=n.startReadParams(),d=t.amd?1:0;if(c(u,void 0,t.inParams,t.inParamsOpt,t.sendsClasses,a,d),n.endReadParams(),t.inParams.length>0&&(t.sendsClasses||t.inParamsOpt.length>0))for(var h=0;h<t.inParams.length;++h){var f=t.inParams[h];f.isObject&&void 0!==a[f.pos+d]&&(a[f.pos+d]=a[f.pos+d].value)}}if(a.push(i),t.amd){a[0]=s;try{r.apply(e,a)}catch(e){s.ice_exception(e)}return _.DispatchStatus.DispatchAsync}var p=t.outParams.length;t.returns&&++p;var g=r.apply(e,a);if(p>1&&!(g instanceof Array))throw new _.MarshalException("operation `"+t.servantMethod+"' should return an array of length "+p);return 1===p&&(g=[g]),s.__sendResponse(g),_.DispatchStatus.DispatchOK}catch(e){if(s.__checkException(e))return s.__sendException(e),_.DispatchStatus.DispatchUserException;throw e}}(e,s,t,n)},e[i]=r,a&&(a[i]=r))}return r}function h(e,t,n){var i=n[0]?n[0]:t,o=null;e.prototype[i]=function(){var e=arguments;null===o&&(o=r(t,n));var i=e[o.inParams.length],s=null;o.inParams.length>0&&(s=function(e,t){var n,i,r;for(n=0;n<o.inParams.length;++n)if(r=t[(i=o.inParams[n]).pos],!(i.tag&&void 0===r||"function"!=typeof i.type.validate||i.type.validate(r)))throw new _.MarshalException("invalid value for argument "+(n+1)+" in operation `"+o.servantMethod+"'");a(e,t,void 0,o.inParams,o.inParamsOpt,o.sendsClasses)});var l=null;return(o.returns||o.outParams.length>0)&&(l=function(e){var t,n=[],i=e.__startReadParams();if(o.returns&&!o.returns.tag&&(t=o.returns),c(i,t,o.outParams,o.outParamsOpt,o.returnsClasses,n,0),e.__endReadParams(),o.returnsClasses||o.outParamsOpt.length>0){o.returns&&o.returns.isObject&&void 0!==n[o.returns.pos+0]&&(n[o.returns.pos+0]=n[o.returns.pos+0].value);for(var r=0;r<o.outParams.length;++r){var s=o.outParams[r];s.isObject&&void 0!==n[s.pos+0]&&(n[s.pos+0]=n[s.pos+0].value)}}return n.push(e),n}),_.ObjectPrx.__invoke(this,o.name,o.sendMode,o.format,i,s,l,o.exceptions,Array.prototype.slice.call(e))}}var f=_.Slice;f.defineOperations=function(e,t,n){if(n&&(e.__ops=new o(n)),e.prototype.__dispatch=function(t,n){var i=d(e,n.operation);if(void 0===i||"function"!=typeof i)throw new _.OperationNotExistException(n.id,n.facet,n.operation);return i.call(i,this,t,n)},n)for(var i in n)h(t,i,n[i]);if(t.__implements)for(var r in t.__implements){var s=t.__implements[r].prototype;for(var c in s)"function"==typeof s[c]&&void 0===t.prototype[c]&&(t.prototype[c]=s[c])}},f.defineOperations(_.Object,_.ObjectPrx,{ice_ping:[,1,1,,,,,,],ice_isA:[,1,1,,,[1],[[7]],,],ice_id:[,1,1,,,[7],,,],ice_ids:[,1,1,,,["Ice.StringSeqHelper"],,,]})}(),function(){var e=_.Address,t=_.HashUtil,n=_.StringUtil,i=_.Class,r=_.EndpointParseException,o=i(_.EndpointI,{__init__:function(e,t,n,i,r){this._instance=e,this._host=void 0===t?null:t,this._port=void 0===n?null:n,this._sourceAddr=void 0===i?null:i,this._connectionId=void 0===r?"":r},streamWrite:function(e){e.startWriteEncaps(),this.streamWriteImpl(e),e.endWriteEncaps()},getInfo:function(){var e=new _.IPEndpointInfo;return this.fillEndpointInfo(e),e},type:function(){return this._instance.type()},protocol:function(){return this._instance.protocol()},secure:function(){return this._instance.secure()},connectionId:function(){return this._connectionId},changeConnectionId:function(e){return e===this._connectionId?this:this.createEndpoint(this._host,this._port,e)},hashCode:function(){return void 0===this._hashCode&&(this._hashCode=this.hashInit(5381)),this._hashCode},options:function(){var e="";if(null!==this._host&&this._host.length>0){e+=" -h ";var t=-1!=this._host.indexOf(":");t&&(e+='"'),e+=this._host,t&&(e+='"')}return e+=" -p "+this._port,null!==this._sourceAddr&&this._sourceAddr.length>0&&(e+=" --sourceAddr "+this._sourceAddr),e},compareTo:function(e){return this===e?0:null===e?1:e instanceof o?this._port<e._port?-1:e._port<this._port?1:this._host!=e._host?this._host<e._host?-1:1:this._sourceAddr!=e._sourceAddr?this._sourceAddr<e._sourceAddr?-1:1:this._connectionId!=e._connectionId?this._connectionId<e._connectionId?-1:1:0:this.type()<e.type()?-1:1},getAddress:function(){return new e(this._host,this._port)},toConnectorString:function(){return this._host+":"+this._port},streamWriteImpl:function(e){e.writeString(this._host),e.writeInt(this._port)},hashInit:function(e){return e=t.addNumber(e,this.type()),e=t.addString(e,this._host),e=t.addNumber(e,this._port),e=t.addString(e,this._sourceAddr),e=t.addString(e,this._connectionId)},fillEndpointInfo:function(e){var t=this;e.type=function(){return t.type()},e.datagram=function(){return t.datagram()},e.secure=function(){return t.secure()},e.host=this._host,e.port=this._port,e.sourceAddress=this._sourceAddr},initWithOptions:function(e,t){if(_.EndpointI.prototype.initWithOptions.call(this,e),null===this._host||0===this._host.length)this._host=this._instance.defaultHost();else if("*"==this._host){if(!t)throw new r("`-h *' not valid for proxy endpoint `"+this+"'");this._host=""}if(null===this._host&&(this._host=""),null===this._sourceAddr)t||(this._sourceAddr=this._instance.defaultSourceAddress());else if(t)throw new r("`--sourceAddress not valid for object adapter endpoint `"+this+"'")},initWithStream:function(e){this._host=e.readString(),this._port=e.readInt()},checkOption:function(e,t,i){if("-h"===e){if(null===t)throw new r("no argument provided for -h option in endpoint "+i);this._host=t}else if("-p"===e){if(null===t)throw new r("no argument provided for -p option in endpoint "+i);try{this._port=n.toInt(t)}catch(e){throw new r("invalid port value `"+t+"' in endpoint "+i)}if(this._port<0||this._port>65535)throw new r("port value `"+t+"' out of range in endpoint "+i)}else{if("--sourceAddress"!==e)return!1;if(null===t)throw new r("no argument provided for --sourceAddress option in endpoint "+i);this._sourceAddr=t}return!0}});_.IPEndpointI=o}(),Object.defineProperty(y,"EndpointType",{value:_.SSLEndpointType}),y.EndpointInfo=g.defineLocalObject((function(e,t,n,i,r){_.IPEndpointInfo.call(this,e,t,n,i,r)}),_.IPEndpointInfo),y.WSSEndpointInfo=g.defineLocalObject((function(e,t,n,i,r,o){y.EndpointInfo.call(this,e,t,n,i,r),this.resource=void 0!==o?o:""}),y.EndpointInfo),_.ConnectionInfo=g.defineLocalObject((function(e,t,n,i,r){this.incoming=void 0!==e&&e,this.adapterName=void 0!==t?t:"",this.connectionId=void 0!==n?n:"",this.rcvSize=void 0!==i?i:0,this.sndSize=void 0!==r?r:0})),_.ConnectionCallback=g.defineLocalObject(),_.ACMClose=g.defineEnum([["CloseOff",0],["CloseOnIdle",1],["CloseOnInvocation",2],["CloseOnInvocationAndIdle",3],["CloseOnIdleForceful",4]]),_.ACMHeartbeat=g.defineEnum([["HeartbeatOff",0],["HeartbeatOnInvocation",1],["HeartbeatOnIdle",2],["HeartbeatAlways",3]]),_.ACM=g.defineStruct((function(e,t,n){this.timeout=void 0!==e?e:0,this.close=void 0!==t?t:_.ACMClose.CloseOff,this.heartbeat=void 0!==n?n:_.ACMHeartbeat.HeartbeatOff}),!0),_.Connection=g.defineLocalObject(),_.IPConnectionInfo=g.defineLocalObject((function(e,t,n,i,r,o,s,c,a){_.ConnectionInfo.call(this,e,t,n,i,r),this.localAddress=void 0!==o?o:"",this.localPort=void 0!==s?s:-1,this.remoteAddress=void 0!==c?c:"",this.remotePort=void 0!==a?a:-1}),_.ConnectionInfo),_.TCPConnectionInfo=g.defineLocalObject((function(e,t,n,i,r,o,s,c,a){_.IPConnectionInfo.call(this,e,t,n,i,r,o,s,c,a)}),_.IPConnectionInfo),_.UDPConnectionInfo=g.defineLocalObject((function(e,t,n,i,r,o,s,c,a,l,u){_.IPConnectionInfo.call(this,e,t,n,i,r,o,s,c,a),this.mcastAddress=void 0!==l?l:"",this.mcastPort=void 0!==u?u:-1}),_.IPConnectionInfo),g.defineDictionary(_,"HeaderDict","HeaderDictHelper","Ice.StringHelper","Ice.StringHelper",!1,void 0,void 0),_.WSConnectionInfo=g.defineLocalObject((function(e,t,n,i,r,o,s,c,a,l){_.TCPConnectionInfo.call(this,e,t,n,i,r,o,s,c,a),this.headers=void 0!==l?l:null}),_.TCPConnectionInfo),_.TraceLevels=function(e){var t="Ice.Trace.",n=e.getPropertyAsInt(t+"Network"),i=e.getPropertyAsInt(t+"Protocol"),r=e.getPropertyAsInt(t+"Retry"),o=e.getPropertyAsInt(t+"Locator"),s=e.getPropertyAsInt(t+"Slicing");return e.getPropertyAsInt(t+"ThreadPool"),Object.create(null,{network:{get:function(){return n}},networkCat:{get:function(){return"Network"}},protocol:{get:function(){return i}},protocolCat:{get:function(){return"Protocol"}},retry:{get:function(){return r}},retryCat:{get:function(){return"Retry"}},location:{get:function(){return o}},locationCat:{get:function(){return"Locator"}},slicing:{get:function(){return s}},slicingCat:{get:function(){return"Slicing"}}})},function(){var e=_.Base64,t=_.Debug,n=_.HashUtil,i=(_.Protocol,_.StringUtil),r=_.EndpointParseException,o=_.Class,s=o(_.EndpointI,{__init__:function(e){this._rawEncoding=_.Encoding_1_0,this._type=void 0===e?-1:e,this._rawBytes=null},streamWrite:function(e){e.startWriteEncaps(this._rawEncoding,_.FormatType.DefaultFormat),e.writeBlob(this._rawBytes),e.endWriteEncaps()},getInfo:function(){return new c(-1,!1,this._rawEncoding,this._rawBytes,this._type)},type:function(){return this._type},protocol:function(){return"opaque"},timeout:function(){return-1},changeTimeout:function(e){return this},changeConnectionId:function(e){return this},compress:function(){return!1},changeCompress:function(e){return this},datagram:function(){return!1},secure:function(){return!1},rawBytes:function(){return this._rawBytes},transceiver:function(e){return e.value=null,null},acceptor:function(e,t){return e.value=this,null},connect:function(){return null},hashCode:function(){if(void 0===this._hashCode){var e=5381;e=n.addNumber(e,this._type),e=n.addHashable(e,this._rawEncoding),e=n.addArray(e,this._rawBytes,n.addNumber),this._hashCode=e}return this._hashCode},options:function(){var t="";return t+=" -t "+this._type,t+=" -e "+_.encodingVersionToString(this._rawEncoding),t+=" -v "+e.encode(this._rawBytes)},equals:function(e){if(!(e instanceof s))return!1;if(this===e)return!0;if(this._type!==e._type)return!1;if(!this._rawEncoding.equals(e._rawEncoding))return!1;if(this._rawBytes.length!==e._rawBytes.length)return!1;for(var t=0;t<this._rawBytes.length;t++)if(this._rawBytes[t]!==e._rawBytes[t])return!1;return!0},compareTo:function(e){if(this===e)return 0;if(null===e)return 1;if(!(e instanceof s))return this.type()<e.type()?-1:1;if(this._type<e._type)return-1;if(e._type<this._type)return 1;if(this._rawEncoding.major<e._rawEncoding.major)return-1;if(e._rawEncoding.major<this._rawEncoding.major)return 1;if(this._rawEncoding.minor<e._rawEncoding.minor)return-1;if(e._rawEncoding.minor<this._rawEncoding.minor)return 1;if(this._rawBytes.length<e._rawBytes.length)return-1;if(e._rawBytes.length<this._rawBytes.length)return 1;for(var t=0;t<this._rawBytes.length;t++){if(this._rawBytes[t]<e._rawBytes[t])return-1;if(e._rawBytes[t]<this._rawBytes[t])return 1}return 0},checkOption:function(t,n,o){switch(t.charAt(1)){case"t":if(this._type>-1)throw new r("multiple -t options in endpoint "+o);if(null===n)throw new r("no argument provided for -t option in endpoint "+o);var s;try{s=i.toInt(n)}catch(e){throw new r("invalid type value `"+n+"' in endpoint "+o)}if(s<0||s>65535)throw new r("type value `"+n+"' out of range in endpoint "+o);return this._type=s,!0;case"v":if(this._rawBytes)throw new r("multiple -v options in endpoint "+o);if(null===n||0===n.length)throw new r("no argument provided for -v option in endpoint "+o);for(var c=0;c<n.length;++c)if(!e.isBase64(n.charAt(c)))throw new r("invalid base64 character `"+n.charAt(c)+"' (ordinal "+n.charCodeAt(c)+") in endpoint "+o);return this._rawBytes=e.decode(n),!0;case"e":if(null===n)throw new r("no argument provided for -e option in endpoint "+o);try{this._rawEncoding=_.stringToEncodingVersion(n)}catch(e){throw new r("invalid encoding version `"+n+"' in endpoint "+o+":\n"+e.str)}return!0;default:return!1}},initWithOptions:function(e){if(_.EndpointI.prototype.initWithOptions.call(this,e),t.assert(this._rawEncoding),this._type<0)throw new r("no -t option in endpoint `"+this+"'");if(null===this._rawBytes||0===this._rawBytes.length)throw new r("no -v option in endpoint `"+this+"'")},initWithStream:function(e){this._rawEncoding=e.getReadEncoding();var t=e.getReadEncapsSize();this._rawBytes=e.readBlob(t)}}),c=o(_.OpaqueEndpointInfo,{__init__:function(e,t,n,i,r){_.OpaqueEndpointInfo.call(this,-1,!1,n,i),this._type=r},type:function(){return this._type},datagram:function(){return!1},secure:function(){return!1}});_.OpaqueEndpointI=s}(),function(){var e=_.BasicStream,t=_.Current,n=_.Debug,i=_.FormatType,r=_.Context,o=_.Identity,s=_.Protocol,c=_.StringUtil,a=_.Class({__init__:function(n,i,r,c,a,l){this._instance=n,this._response=c,this._compress=a,this._response&&(this._os=new e(n,s.currentProtocolEncoding)),this._connection=i,this._current=new t,this._current.id=new o,this._current.adapter=r,this._current.con=this._connection,this._current.requestId=l,this._servant=null,this._locator=null,this._cookie={value:null},c&&(this._os.writeBlob(s.replyHdr),this._os.writeInt(l)),this._is=null,this._cb=null,this._active=!0},__startWriteParams:function(e){if(!this._response)throw new _.MarshalException("can't marshal out parameters for oneway dispatch");return n.assert(this._os.size==s.headerSize+4),n.assert(null!==this._current.encoding),this._os.writeByte(0),this._os.startWriteEncaps(this._current.encoding,e),this._os},__endWriteParams:function(e){if(this._response){var t=this._os.pos;this._os.pos=s.headerSize+4,this._os.writeByte(e?s.replyOK:s.replyUserException),this._os.pos=t,this._os.endWriteEncaps()}},__writeEmptyParams:function(){this._response&&(n.assert(this._os.size===s.headerSize+4),n.assert(null!==this._current.encoding),this._os.writeByte(s.replyOK),this._os.writeEmptyEncaps(this._current.encoding))},__writeParamEncaps:function(e,t){this._response&&(n.assert(this._os.size===s.headerSize+4),n.assert(null!==this._current.encoding),this._os.writeByte(t?s.replyOK:s.replyUserException),null===e||0===e.length?this._os.writeEmptyEncaps(this._current.encoding):this._os.writeEncaps(e))},__writeUserException:function(e,t){this.__startWriteParams(t).writeUserException(e),this.__endWriteParams(!1)},__warning:function(e){n.assert(null!==this._instance);var t=[];if(t.push("dispatch exception:"),t.push("\nidentity: "+this._instance.identityToString(this._current.id)),t.push("\nfacet: "+c.escapeString(this._current.facet,"")),t.push("\noperation: "+this._current.operation),null!==this._connection){var i=this._connection.getInfo();if(i instanceof _.IPConnectionInfo){var r=i;t.push("\nremote host: "+r.remoteAddress+" remote port: "+r.remotePort)}}e.stack&&(t.push("\n"),t.push(e.stack)),this._instance.initializationData().logger.warning(t.join(""))},__servantLocatorFinished:function(){n.assert(null!==this._locator&&null!==this._servant);try{return this._locator.finished(this._current,this._servant,this._cookie.value),!0}catch(e){return e instanceof _.UserException?(n.assert(null!==this._connection),this._response?(this._os.resize(s.headerSize+4),this._os.writeByte(s.replyUserException),this._os.startWriteEncaps(),this._os.writeUserException(e),this._os.endWriteEncaps(),this._connection.sendResponse(this._os,this._compress)):this._connection.sendNoResponse(),this._connection=null):this.__handleException(e),!1}},__handleException:function(e){n.assert(null!==this._connection);var t,i=this._instance.initializationData().properties;e instanceof _.RequestFailedException?(null===e.id&&(e.id=this._current.id),null===e.facet&&(e.facet=this._current.facet),null!==e.operation&&0!==e.operation.length||(e.operation=this._current.operation),i.getPropertyAsIntWithDefault("Ice.Warn.Dispatch",1)>1&&this.__warning(e),this._response?(this._os.resize(s.headerSize+4),e instanceof _.ObjectNotExistException?this._os.writeByte(s.replyObjectNotExist):e instanceof _.FacetNotExistException?this._os.writeByte(s.replyFacetNotExist):e instanceof _.OperationNotExistException?this._os.writeByte(s.replyOperationNotExist):n.assert(!1),e.id.__write(this._os),null===e.facet||0===e.facet.length?_.StringSeqHelper.write(this._os,null):_.StringSeqHelper.write(this._os,[e.facet]),this._os.writeString(e.operation),this._connection.sendResponse(this._os,this._compress)):this._connection.sendNoResponse()):e instanceof _.UnknownLocalException?(i.getPropertyAsIntWithDefault("Ice.Warn.Dispatch",1)>0&&this.__warning(e),this._response?(this._os.resize(s.headerSize+4),this._os.writeByte(s.replyUnknownLocalException),this._os.writeString(e.unknown),this._connection.sendResponse(this._os,this._compress)):this._connection.sendNoResponse()):e instanceof _.UnknownUserException?(i.getPropertyAsIntWithDefault("Ice.Warn.Dispatch",1)>0&&this.__warning(e),this._response?(this._os.resize(s.headerSize+4),this._os.writeByte(s.replyUnknownUserException),this._os.writeString(e.unknown),this._connection.sendResponse(this._os,this._compress)):this._connection.sendNoResponse()):e instanceof _.UnknownException?(i.getPropertyAsIntWithDefault("Ice.Warn.Dispatch",1)>0&&this.__warning(e),this._response?(this._os.resize(s.headerSize+4),this._os.writeByte(s.replyUnknownException),this._os.writeString(e.unknown),this._connection.sendResponse(this._os,this._compress)):this._connection.sendNoResponse()):e instanceof _.LocalException?(i.getPropertyAsIntWithDefault("Ice.Warn.Dispatch",1)>0&&this.__warning(e),this._response?(this._os.resize(s.headerSize+4),this._os.writeByte(s.replyUnknownLocalException),t=[e.ice_name()],e.stack&&(t.push("\n"),t.push(e.stack)),this._os.writeString(t.join("")),this._connection.sendResponse(this._os,this._compress)):this._connection.sendNoResponse()):e instanceof _.UserException?(i.getPropertyAsIntWithDefault("Ice.Warn.Dispatch",1)>0&&this.__warning(e),this._response?(this._os.resize(s.headerSize+4),this._os.writeByte(s.replyUnknownUserException),t=[e.ice_name()],e.stack&&(t.push("\n"),t.push(e.stack)),this._os.writeString(t.join("")),this._connection.sendResponse(this._os,this._compress)):this._connection.sendNoResponse()):(i.getPropertyAsIntWithDefault("Ice.Warn.Dispatch",1)>0&&this.__warning(e),this._response?(this._os.resize(s.headerSize+4),this._os.writeByte(s.replyUnknownException),this._os.writeString(e.stack?e.stack:""),this._connection.sendResponse(this._os,this._compress)):this._connection.sendNoResponse()),this._connection=null},invoke:function(e,t){this._is=t,this._is.pos,this._current.id.__read(this._is);var o=_.StringSeqHelper.read(this._is);if(o.length>0){if(o.length>1)throw new _.MarshalException;this._current.facet=o[0]}else this._current.facet="";this._current.operation=this._is.readString(),this._current.mode=_.OperationMode.valueOf(this._is.readByte()),this._current.ctx=new r;for(var c=this._is.readSize();c-- >0;){var a=this._is.readString(),l=this._is.readString();this._current.ctx.set(a,l)}if(null!==e&&(this._servant=e.findServant(this._current.id,this._current.facet),null===this._servant&&(this._locator=e.findServantLocator(this._current.id.category),null===this._locator&&this._current.id.category.length>0&&(this._locator=e.findServantLocator("")),null!==this._locator)))try{this._servant=this._locator.locate(this._current,this._cookie)}catch(e){if(e instanceof _.UserException){var u=this._is.skipEncaps();return this._response?(this._os.writeByte(s.replyUserException),this._os.startWriteEncaps(u,i.DefaultFormat),this._os.writeUserException(e),this._os.endWriteEncaps(),this._connection.sendResponse(this._os,this._compress)):this._connection.sendNoResponse(),void(this._connection=null)}return this._is.skipEncaps(),void this.__handleException(e)}try{if(null===this._servant)throw this._is.skipEncaps(),null!==e&&e.hasServant(this._current.id)?new _.FacetNotExistException(this._current.id,this._current.facet,this._current.operation):new _.ObjectNotExistException(this._current.id,this._current.facet,this._current.operation);if(this._servant.__dispatch(this,this._current)===_.DispatchStatus.DispatchAsync)return;if(null!==this._locator&&!this.__servantLocatorFinished())return}catch(e){if(null!==this._servant&&null!==this._locator&&!this.__servantLocatorFinished())return;return void this.__handleException(e)}n.assert(null!==this._connection),this._response?this._connection.sendResponse(this._os,this._compress):this._connection.sendNoResponse(),this._connection=null},startReadParams:function(){return this._current.encoding=this._is.startReadEncaps(),this._is},endReadParams:function(){this._is.endReadEncaps()},readEmptyParams:function(){this._current.encoding=new _.EncodingVersion,this._is.skipEmptyEncaps(this._current.encoding)},readParamEncaps:function(){return this._current.encoding=new _.EncodingVersion,this._is.readEncaps(this._current.encoding)},__response:function(){try{if(null!==this._locator&&!this.__servantLocatorFinished())return;n.assert(null!==this._connection),this._response?this._connection.sendResponse(this._os,this._compress):this._connection.sendNoResponse(),this._connection=null}catch(e){this._connection.invokeException(e,1)}},__exception:function(e){try{if(null!==this._locator&&!this.__servantLocatorFinished())return;this.__handleException(e)}catch(e){this._connection.invokeException(e,1)}},__validateResponse:function(e){return!!this._active&&(this._active=!1,!0)},ice_exception:function(e){this._active&&(this._active=!1,null!==this._connection?this.__exception(e):this._instance.initializationData().properties.getPropertyAsIntWithDefault("Ice.Warn.Dispatch",1)>0&&this.__warning(e))}});_.IncomingAsync=a}(),function(){_.AsyncResult;var e=_.AsyncStatus,t=(_.BasicStream,_.ConnectionRequestHandler),n=_.Debug,i=(_.ExUtil,_.RetryException),r=(_.OutgoingAsync,_.Protocol,_.ReferenceMode),o=_.LocalException,s=(_.Promise,_.Class({__init__:function(e,t){this._reference=e,this._response=e.getMode()===r.ModeTwoway,this._proxy=t,this._proxies=[],this._initialized=!1,this._connection=null,this._compress=!1,this._exception=null,this._requests=[]},connect:function(e){return this.initialized()||this._proxies.push(e),this._requestHandler?this._requestHandler:this},update:function(e,t){return e===this?t:this},sendAsyncRequest:function(t){return this._initialized||t.__cancelable(this),this.initialized()?t.__invokeRemote(this._connection,this._compress,this._response):(this._requests.push(t),e.Queued)},asyncRequestCanceled:function(e,t){if(null===this._exception){if(!this.initialized()){for(var i=0;i<this._requests.length;i++)if(this._requests[i]===e)return e.__completedEx(t),void this._requests.splice(i,1);n.assert(!1)}this._connection.asyncRequestCanceled(e,t)}},getReference:function(){return this._reference},getConnection:function(){if(null!==this._exception)throw this._exception;return this._connection},setConnection:function(e,t){n.assert(null===this._exception&&null===this._connection),this._connection=e,this._compress=t;var i=this._reference.getRouterInfo();if(null===i)this.flushRequests();else{var r=this;i.addProxy(this._proxy).then((function(){r.flushRequests()}),(function(e){r.setException(e)}))}},setException:function(e){n.assert(!this._initialized&&null===this._exception),this._exception=e,this._proxies.length=0,this._proxy=null;try{this._reference.getInstance().requestHandlerFactory().removeRequestHandler(this._reference,this)}catch(e){}for(var t=0;t<this._requests.length;++t){var i=this._requests[t];null!==i&&i.__completedEx(this._exception)}this._requests.length=0},initialized:function(){if(this._initialized)return n.assert(null!==this._connection),!0;if(null!==this._exception){if(null!==this._connection)return!0;throw this._exception}return this._initialized},flushRequests:function(){n.assert(null!==this._connection&&!this._initialized);for(var e=null,r=0;r<this._requests.length;++r){var s=this._requests[r];try{s.__invokeRemote(this._connection,this._compress,this._response)}catch(t){t instanceof i?(e=t.inner,this._reference.getInstance().requestHandlerFactory().removeRequestHandler(this._reference,this),s.__retryException(t.inner)):(n.assert(t instanceof o),e=t,s.out.__completedEx(t))}}if(this._requests.length=0,this._reference.getCacheConnection()&&null===e){this._requestHandler=new t(this._reference,this._connection,this._compress);for(var c=0;c<this._proxies.length;++c)this._proxies[c].__updateRequestHandler(this,this._requestHandler)}n.assert(!this._initialized),this._exception=e,this._initialized=null===this._exception,this._reference.getInstance().requestHandlerFactory().removeRequestHandler(this._reference,this),this._proxies.length=0,this._proxy=null}}));_.ConnectRequestHandler=s}(),y.ConnectionInfo=g.defineLocalObject((function(e,t,n,i,r,o,s,c,a,l,u,d){_.IPConnectionInfo.call(this,e,t,n,i,r,o,s,c,a),this.cipher=void 0!==l?l:"",this.certs=void 0!==u?u:null,this.verified=void 0!==d&&d}),_.IPConnectionInfo),y.WSSConnectionInfo=g.defineLocalObject((function(e,t,n,i,r,o,s,c,a,l,u,d,h){y.ConnectionInfo.call(this,e,t,n,i,r,o,s,c,a,l,u,d),this.headers=void 0!==h?h:null}),y.ConnectionInfo),function(){var e,t=_.__M.module("IceSSL");e=!c&&-1===navigator.userAgent.indexOf("Edge/")&&-1!==navigator.userAgent.indexOf("Chrome/");var n=_.Debug,i=(_.ExUtil,_.Network,_.SocketOperation),r=(_.Connection,_.LocalException,_.SocketException,_.Timer),o=_.Class({__init__:function(e){this._logger=e.logger(),this._readBuffers=[],this._readPosition=0,this._maxSendPacketSize=e.properties().getPropertyAsIntWithDefault("Ice.TCP.SndSize",524288),this._writeReadyTimeout=0},writeReadyTimeout:function(){var e=Math.round(this._writeReadyTimeout);return this._writeReadyTimeout+=this._writeReadyTimeout>=5?5:.2,Math.min(e,25)},setCallbacks:function(e,t,n){this._connectedCallback=e,this._bytesAvailableCallback=t,this._bytesWrittenCallback=n},initialize:function(e,t){try{if(this._exception)throw this._exception;if(0===this._state){if(c){o=this,this._state=1,this._fd=wx.connectSocket({url:this._url});var r=_.generateUUID();return this._fd.onOpen((function(e){console.crlog("[RTC] WebSocket connect open... "+o._url),o.socketConnected(e),ce.execute(r)})),this._fd.onMessage((function(e){ce.isConnect(r)?o.socketBytesAvailable(e.data):ce.add(r,(function(){o.socketBytesAvailable(e.data)}))})),this._fd.onClose((function(e){console.crlog("[RTC] socket closed,url: ".concat(o._url," ,event: ").concat(JSON.stringify(e))),o.socketClosed(e),ce.del(r)})),this._fd.onError((function(e){console.crlog("[RTC] socket onerror... ",e),console.crlog(e),o.socketClosed(e)})),i.Connect}this._state=1,this._fd=new WebSocket(this._url,"ice.zeroc.com"),this._fd.binaryType="arraybuffer";var o=this;return this._fd.onopen=function(e){console.crlog("[RTC] Websocket is opened. is: "+o._url),o.socketConnected(e)},this._fd.onmessage=function(e){o.socketBytesAvailable(e.data)},this._fd.onclose=function(e){console.crlog("[RTC] Websocket is close. is: "+o._url),o.socketClosed(e)},i.Connect}1===this._state&&(this._desc="local address = <not available>\nremote address = "+(a=this._addr).host+":"+a.port,this._state=2)}catch(e){throw this._exception||(this._exception=s(this._state,e)),this._exception}var a;return n.assert(2===this._state),i.None},register:function(){this._registered=!0,(this._hasBytesAvailable||this._exception)&&(this._bytesAvailableCallback(),this._hasBytesAvailable=!1)},unregister:function(){this._registered=!1},close:function(){if(null!==this._fd)if(e&&this._fd.readyState===WebSocket.CONNECTING)this._state=3;else{n.assert(null!==this._fd);try{this._state=4,this._fd.close()}catch(e){throw s(this._state,e)}finally{this._fd=null}}else n.assert(this._exception)},write:function(e){if(this._exception)throw this._exception;if(0===e.remaining)return!0;for(n.assert(this._fd),e.position;;){var t=this._maxSendPacketSize>0&&e.remaining>this._maxSendPacketSize?this._maxSendPacketSize:e.remaining;if(0===e.remaining)break;if(n.assert(t>0),this._fd.bufferedAmount+t>this._maxSendPacketSize){var i=this;return r.setTimeout((function(){i._fd&&i._fd.bufferedAmount+t<=i._maxSendPacketSize&&i._bytesWrittenCallback(0,0)}),this.writeReadyTimeout()),!1}this._writeReadyTimeout=0;var o=e.b.slice(e.position,e.position+t);c?this._fd.send({data:o,success:function(e){},fail:function(e){console.crlog("[RTC] Send message fail: ".concat(JSON.stringify(e)," "))}}):this._fd.send(o),e.position=e.position+t}return!0},read:function(e,t){if(this._exception)throw this._exception;if(t.value=!1,0===this._readBuffers.length)return!1;var i=this._readBuffers[0].byteLength-this._readPosition;for(n.assert(i>0),e.remaining;e.remaining>0;)if(i>e.remaining&&(i=e.remaining),new Uint8Array(e.b).set(new Uint8Array(this._readBuffers[0],this._readPosition,i),e.position),e.position+=i,this._readPosition+=i,this._readPosition===this._readBuffers[0].byteLength){if(this._readPosition=0,this._readBuffers.shift(),0===this._readBuffers.length)break;i=this._readBuffers[0].byteLength}return t.value=this._readBuffers.byteLength>0,0===e.remaining},type:function(){return this._secure?"wss":"ws"},getInfo:function(){n.assert(null!==this._fd);var e=this._secure?new t.WSSConnectionInfo:new _.WSConnectionInfo;return e.localAddress="",e.localPort=-1,e.remoteAddress=this._addr.host,e.remotePort=this._addr.port,e.rcvSize=-1,e.sndSize=this._maxSendPacketSize,e.headers={},e},checkSendSize:function(e){},setBufferSize:function(e,t){this._maxSendPacketSize=t},toString:function(){return this._desc},socketConnected:function(e){3!=this._state?(n.assert(null!==this._connectedCallback),this._connectedCallback()):this.close()},socketBytesAvailable:function(e){if(n.assert(null!==this._bytesAvailableCallback),e.byteLength>0)if(this._readBuffers.push(e),this._registered)for(;this._readBuffers.length>0;)this._bytesAvailableCallback();else this._hasBytesAvailable||(this._hasBytesAvailable=!0)},socketClosed:function(e){3!=this._state?(this._exception=s(this._state,e),this._state<2?this._connectedCallback():this._registered&&this._bytesAvailableCallback()):this.close()}});function s(e,t){return e<2?new _.ConnectFailedException(t.code,t):1e3===t.code||1006===t.code?new _.ConnectionLostException:new _.SocketException(t.code,t)}o.createOutgoing=function(e,t,n,i){var r=new o(e),s=t?"wss":"ws";return s+="://"+n.host,80!==n.port&&(s+=":"+n.port),s+=i||"/",r._url=s,r._fd=null,r._addr=n,r._desc="local address = <not available>\nremote address = "+n.host+":"+n.port,r._state=0,r._secure=t,r._exception=null,r},_.WSTransceiver=o}(),_.Router=g.defineObject(void 0,_.Object,void 0,1,["::Ice::Object","::Ice::Router"],-1,void 0,void 0,!1),_.RouterPrx=g.defineProxy(_.ObjectPrx,_.Router.ice_staticId,void 0),g.defineOperations(_.Router,_.RouterPrx,{getClientProxy:[,2,1,,,[9],,,,,],getServerProxy:[,2,1,,,[9],,,,,],addProxies:[,2,2,,,["Ice.ObjectProxySeqHelper"],[["Ice.ObjectProxySeqHelper"]],,,,]}),_.RouterFinder=g.defineObject(void 0,_.Object,void 0,1,["::Ice::Object","::Ice::RouterFinder"],-1,void 0,void 0,!1),_.RouterFinderPrx=g.defineProxy(_.ObjectPrx,_.RouterFinder.ice_staticId,void 0),g.defineOperations(_.RouterFinder,_.RouterFinderPrx,{getRouter:[,,,,,["Ice.RouterPrx"],,,,,]}),_.AdapterNotFoundException=g.defineUserException((function(e){_.UserException.call(this,e)}),_.UserException,"Ice::AdapterNotFoundException",void 0,void 0,!1,!1),_.InvalidReplicaGroupIdException=g.defineUserException((function(e){_.UserException.call(this,e)}),_.UserException,"Ice::InvalidReplicaGroupIdException",void 0,void 0,!1,!1),_.AdapterAlreadyActiveException=g.defineUserException((function(e){_.UserException.call(this,e)}),_.UserException,"Ice::AdapterAlreadyActiveException",void 0,void 0,!1,!1),_.ObjectNotFoundException=g.defineUserException((function(e){_.UserException.call(this,e)}),_.UserException,"Ice::ObjectNotFoundException",void 0,void 0,!1,!1),_.ServerNotFoundException=g.defineUserException((function(e){_.UserException.call(this,e)}),_.UserException,"Ice::ServerNotFoundException",void 0,void 0,!1,!1),_.Locator=g.defineObject(void 0,_.Object,void 0,0,["::Ice::Locator","::Ice::Object"],-1,void 0,void 0,!1),_.LocatorPrx=g.defineProxy(_.ObjectPrx,_.Locator.ice_staticId,void 0),g.defineOperations(_.Locator,_.LocatorPrx,{findObjectById:[,2,1,1,,[9],[[_.Identity]],,[_.ObjectNotFoundException],,],findAdapterById:[,2,1,1,,[9],[[7]],,[_.AdapterNotFoundException],,],getRegistry:[,2,1,,,["Ice.LocatorRegistryPrx"],,,,,]}),_.LocatorRegistry=g.defineObject(void 0,_.Object,void 0,0,["::Ice::LocatorRegistry","::Ice::Object"],-1,void 0,void 0,!1),_.LocatorRegistryPrx=g.defineProxy(_.ObjectPrx,_.LocatorRegistry.ice_staticId,void 0),g.defineOperations(_.LocatorRegistry,_.LocatorRegistryPrx,{setAdapterDirectProxy:[,2,2,1,,,[[7],[9]],,[_.AdapterAlreadyActiveException,_.AdapterNotFoundException],,],setReplicatedAdapterDirectProxy:[,2,2,1,,,[[7],[7],[9]],,[_.AdapterAlreadyActiveException,_.AdapterNotFoundException,_.InvalidReplicaGroupIdException],,],setServerProcessProxy:[,2,2,1,,,[[7],["Ice.ProcessPrx"]],,[_.ServerNotFoundException],,]}),_.LocatorFinder=g.defineObject(void 0,_.Object,void 0,0,["::Ice::LocatorFinder","::Ice::Object"],-1,void 0,void 0,!1),_.LocatorFinderPrx=g.defineProxy(_.ObjectPrx,_.LocatorFinder.ice_staticId,void 0),g.defineOperations(_.LocatorFinder,_.LocatorFinderPrx,{getLocator:[,,,,,["Ice.LocatorPrx"],,,,,]}),function(){var e=_.Debug,t=_.HashUtil,n=_.StringUtil,i=void 0!==_.TcpTransceiver?_.TcpTransceiver:null,r=(0,_.Class)(_.IPEndpointI,{__init__:function(e,t,n,i,r,o,s){_.IPEndpointI.call(this,e,t,n,i,o),this._timeout=void 0===r?e?e.defaultTimeout():void 0:r,this._compress=void 0!==s&&s},getInfo:function(){var e=this.secure()?new y.EndpointInfo:new _.TCPEndpointInfo;return this.fillEndpointInfo(e),e},timeout:function(){return this._timeout},changeTimeout:function(e){return e===this._timeout?this:new r(this._instance,this._host,this._port,this._sourceAddr,e,this._connectionId,this._compress)},changeConnectionId:function(e){return e===this._connectionId?this:new r(this._instance,this._host,this._port,this._sourceAddr,this._timeout,e,this._compress)},compress:function(){return this._compress},changeCompress:function(e){return e===this._compress?this:new r(this._instance,this._host,this._port,this._sourceAddr,this._timeout,this._connectionId,e)},datagram:function(){return!1},connectable:function(){return null!==i&&!this.secure()},connect:function(){return e.assert(!this.secure()),i.createOutgoing(this._instance,this.getAddress(),this._sourceAddr)},options:function(){var e=_.IPEndpointI.prototype.options.call(this);return-1==this._timeout?e+=" -t infinite":e+=" -t "+this._timeout,this._compress&&(e+=" -z"),e},compareTo:function(e){return this===e?0:null===e?1:e instanceof r?this._timeout<e._timeout?-1:e._timeout<this._timeout?1:!this._compress&&e._compress?-1:!e._compress&&this._compress?1:_.IPEndpointI.prototype.compareTo.call(this,e):this.type()<e.type()?-1:1},streamWriteImpl:function(e){_.IPEndpointI.prototype.streamWriteImpl.call(this,e),e.writeInt(this._timeout),e.writeBool(this._compress)},hashInit:function(e){return e=_.IPEndpointI.prototype.hashInit.call(this,e),e=t.addNumber(e,this._timeout),e=t.addBoolean(e,this._compress)},fillEndpointInfo:function(e){_.IPEndpointI.prototype.fillEndpointInfo.call(this,e),e.timeout=this._timeout,e.compress=this._compress},initWithStream:function(e){_.IPEndpointI.prototype.initWithStream.call(this,e),this._timeout=e.readInt(),this._compress=e.readBool()},checkOption:function(e,t,i){if(_.IPEndpointI.prototype.checkOption.call(this,e,t,i))return!0;if("-t"===e){if(null===t)throw new _.EndpointParseException("no argument provided for -t option in endpoint "+i);if("infinite"==t)this._timeout=-1;else{var r=!1;try{this._timeout=n.toInt(t)}catch(e){r=!0}if(r||this._timeout<1)throw new _.EndpointParseException("invalid timeout value `"+t+"' in endpoint "+i)}}else{if("-z"!==e)return!1;if(null!==t)throw new _.EndpointParseException("unexpected argument `"+t+"' provided for -z option in "+i);this._compress=!0}return!0},createEndpoint:function(e,t,n){return new r(this._instance,e,t,this._sourceAddr,this._timeout,n,this._compress)}});_.TcpEndpointI=r}(),function(){var e=_.AsyncStatus,t=_.AsyncResultBase,n=_.BasicStream,i=_.BatchRequestQueue,r=_.ConnectionFlushBatch,o=_.Debug,s=_.ExUtil,c=_.HashMap,a=_.IncomingAsync,l=_.RetryException,u=_.Promise,d=_.Protocol,h=_.SocketOperation,f=_.Timer,p=_.TraceUtil,g=_.ProtocolVersion,y=_.EncodingVersion,C=_.ACM,v=_.ACMClose,m=_.ACMHeartbeat,S=function(e){this.stream=new n(e,d.currentProtocolEncoding),this.invokeNum=0,this.requestId=0,this.compress=!1,this.servantManager=null,this.adapter=null,this.outAsync=null,this.heartbeatCallback=null},I=_.Class,E=I({__init__:function(e,t,r,o,s,a,l){this._communicator=e,this._instance=t,this._monitor=r,this._transceiver=o,this._desc=o.toString(),this._type=o.type(),this._endpoint=s,this._incoming=a,this._adapter=l;var u=t.initializationData();this._logger=u.logger,this._traceLevels=t.traceLevels(),this._timer=t.timer(),this._writeTimeoutId=0,this._writeTimeoutScheduled=!1,this._readTimeoutId=0,this._readTimeoutScheduled=!1,this._hasMoreData={value:!1},this._warn=u.properties.getPropertyAsInt("Ice.Warn.Connections")>0,this._warnUdp=t.initializationData().properties.getPropertyAsInt("Ice.Warn.Datagrams")>0,this._acmLastActivity=null!==this._monitor&&this._monitor.getACM().timeout>0?Date.now():-1,this._nextRequestId=1,this._messageSizeMax=l?l.messageSizeMax():t.messageSizeMax(),this._batchRequestQueue=new i(t,s.datagram()),this._sendStreams=[],this._readStream=new n(t,d.currentProtocolEncoding),this._readHeader=!1,this._writeStream=new n(t,d.currentProtocolEncoding),this._readStreamPos=-1,this._writeStreamPos=-1,this._dispatchCount=0,this._state=0,this._shutdownInitiated=!1,this._initialized=!1,this._validated=!1,this._readProtocol=new g,this._readProtocolEncoding=new y,this._asyncRequests=new c,this._exception=null,this._startPromise=null,this._closePromises=[],this._holdPromises=[],this._finishedPromises=[],null!==this._adapter?this._servantManager=this._adapter.getServantManager():this._servantManager=null,this._callback=null},start:function(){o.assert(null===this._startPromise);try{if(this._state>=5)return o.assert(null!==this._exception),(new u).fail(this._exception);this._startPromise=new u;var e=this;this._transceiver.setCallbacks((function(){e.message(h.Write)}),(function(){e.message(h.Read)}),(function(t,n){if(e.message(h.Write),e._instance.traceLevels().network>=3&&t>0){var i=[];i.push("sent "),i.push(t),e._endpoint.datagram()||(i.push(" of "),i.push(n)),i.push(" bytes via "),i.push(e._endpoint.protocol()),i.push("\n"),i.push(this.toString()),e._instance.initializationData().logger.trace(e._instance.traceLevels().networkCat,i.join(""))}})),this.initialize()}catch(e){return e instanceof _.LocalException&&this.exception(e),(new u).fail(e)}return this._startPromise},activate:function(){this._state<=1||(this._acmLastActivity>0&&(this._acmLastActivity=Date.now()),this.setState(2))},hold:function(){this._state<=1||this.setState(3)},destroy:function(e){switch(e){case E.ObjectAdapterDeactivated:this.setState(4,new _.ObjectAdapterDeactivatedException);break;case E.CommunicatorDestroyed:this.setState(4,new _.CommunicatorDestroyedException)}},close:function(e){var n=new t(this._communicator,"close",this,null,null);return e?(this.setState(5,new _.ForcedCloseConnectionException),n.succeed(n)):(this._closePromises.push(n),this.checkClose()),n},checkClose:function(){if(0===this._asyncRequests.size&&this._closePromises.length>0){this.setState(4,new _.CloseConnectionException);for(var e=0;e<this._closePromises.length;++e)this._closePromises[e].succeed(this._closePromises[e]);this._closePromises=[]}},isActiveOrHolding:function(){return this._state>1&&this._state<4},isFinished:function(){return 6===this._state&&0===this._dispatchCount&&(o.assert(6===this._state),!0)},throwException:function(){if(null!==this._exception)throw o.assert(this._state>=4),this._exception},waitUntilHolding:function(){var e=new u;return this._holdPromises.push(e),this.checkState(),e},waitUntilFinished:function(){var e=new u;return this._finishedPromises.push(e),this.checkState(),e},monitor:function(e,t){2===this._state&&((t.heartbeat==_.ACMHeartbeat.HeartbeatAlways||t.heartbeat!=_.ACMHeartbeat.HeartbeatOff&&this._writeStream.isEmpty()&&e>=this._acmLastActivity+t.timeout/4)&&(t.heartbeat!=_.ACMHeartbeat.HeartbeatOnInvocation||this._dispatchCount>0)&&this.heartbeat(),this._readStream.size>d.headerSize||!this._writeStream.isEmpty()||t.close!=_.ACMClose.CloseOff&&e>=this._acmLastActivity+t.timeout&&(t.close==_.ACMClose.CloseOnIdleForceful||t.close!=_.ACMClose.CloseOnIdle&&this._asyncRequests.size>0?this.setState(5,new _.ConnectionTimeoutException):t.close!=_.ACMClose.CloseOnInvocation&&0===this._dispatchCount&&this._batchRequestQueue.isEmpty()&&0===this._asyncRequests.size&&this.setState(4,new _.ConnectionTimeoutException)))},sendAsyncRequest:function(e,t,n,i){var r,s=0,c=e.__os();if(null!==this._exception)throw new l(this._exception);o.assert(this._state>1),o.assert(this._state<4),this._transceiver.checkSendSize(c),e.__cancelable(this),n?((s=this._nextRequestId++)<=0&&(this._nextRequestId=1,s=this._nextRequestId++),c.pos=d.headerSize,c.writeInt(s)):i>0&&(c.pos=d.headerSize,c.writeInt(i));try{r=this.sendMessage(b.create(e,e.__os(),t,s))}catch(e){throw e instanceof _.LocalException?(this.setState(5,e),o.assert(null!==this._exception),this._exception):e}return n&&this._asyncRequests.set(s,e),r},getBatchRequestQueue:function(){return this._batchRequestQueue},flushBatchRequests:function(){var e=new r(this,this._communicator,"flushBatchRequests");return e.__invoke(),e},setCallback:function(e){if(this._state>=5){if(null!==e){var t=this;f.setImmediate((function(){try{e.closed(this)}catch(e){t._logger.error("connection callback exception:\n"+e+"\n"+t._desc)}}))}}else this._callback=e},setACM:function(e,t,n){null===this._monitor||this._state>=5||(2==this._state&&this._monitor.remove(this),this._monitor=this._monitor.acm(e,t,n),2==this._state&&this._monitor.add(this),this._monitor.getACM().timeout<=0?this._acmLastActivity=-1:2==this._state&&-1==this._acmLastActivity&&(this._acmLastActivity=Date.now()))},getACM:function(){return null!==this._monitor?this._monitor.getACM():new C(0,v.CloseOff,m.HeartbeatOff)},asyncRequestCanceled:function(e,t){for(var n=0;n<this._sendStreams.length;n++){var i=this._sendStreams[n];if(i.outAsync===e)return i.requestId>0&&this._asyncRequests.del(i.requestId),i.canceled(),0!==n&&this._sendStreams.splice(n,1),void e.__completedEx(t)}if(e instanceof _.OutgoingAsync)for(var r=this._asyncRequests.entries;null!==r;r=r.next)if(r.value===e)return this._asyncRequests.del(r.key),void e.__completedEx(t)},sendResponse:function(e,t){o.assert(this._state>1);try{if(0==--this._dispatchCount&&(6===this._state&&this.reap(),this.checkState()),this._state>=5)throw o.assert(null!==this._exception),this._exception;this.sendMessage(b.createForStream(e,0!==t,!0)),4===this._state&&0===this._dispatchCount&&this.initiateShutdown()}catch(e){if(!(e instanceof _.LocalException))throw e;this.setState(5,e)}},sendNoResponse:function(){o.assert(this._state>1);try{if(0==--this._dispatchCount&&(6===this._state&&this.reap(),this.checkState()),this._state>=5)throw o.assert(null!==this._exception),this._exception;4===this._state&&0===this._dispatchCount&&this.initiateShutdown()}catch(e){if(!(e instanceof _.LocalException))throw e;this.setState(5,e)}},endpoint:function(){return this._endpoint},setAdapter:function(e){this._state<=1||this._state>=4||(o.assert(this._state<4),this._adapter=e,null!==this._adapter?(this._servantManager=this._adapter.getServantManager(),null===this._servantManager&&(this._adapter=null)):this._servantManager=null)},getAdapter:function(){return this._adapter},getEndpoint:function(){return this._endpoint},createProxy:function(e){return this._instance.proxyFactory().referenceToProxy(this._instance.referenceFactory().createFixed(e,this))},message:function(e){if(!(this._state>=5)){this.unscheduleTimeout(e),this._hasMoreData.value=0!=(e&h.Read);var t=null;try{if(0!=(e&h.Write)&&this._writeStream.buffer.remaining>0){if(!this.write(this._writeStream.buffer))return o.assert(!this._writeStream.isEmpty()),void this.scheduleTimeout(h.Write,this._endpoint.timeout());o.assert(0===this._writeStream.buffer.remaining)}if(0!=(e&h.Read)&&!this._readStream.isEmpty()){if(this._readHeader){if(!this.read(this._readStream.buffer))return;o.assert(0===this._readStream.buffer.remaining),this._readHeader=!1;var n=this._readStream.pos;if(n<d.headerSize)throw new _.IllegalMessageSizeException;this._readStream.pos=0;var i=this._readStream.readByte(),r=this._readStream.readByte(),c=this._readStream.readByte(),a=this._readStream.readByte();if(i!==d.magic[0]||r!==d.magic[1]||c!==d.magic[2]||a!==d.magic[3]){var l=new _.BadMagicException;throw l.badMagic=_.Buffer.createNative([i,r,c,a]),l}this._readProtocol.__read(this._readStream),d.checkSupportedProtocol(this._readProtocol),this._readProtocolEncoding.__read(this._readStream),d.checkSupportedProtocolEncoding(this._readProtocolEncoding),this._readStream.readByte(),this._readStream.readByte();var u=this._readStream.readInt();if(u<d.headerSize)throw new _.IllegalMessageSizeException;u>this._messageSizeMax&&s.throwMemoryLimitException(u,this._messageSizeMax),u>this._readStream.size&&this._readStream.resize(u),this._readStream.pos=n}if(this._readStream.pos!=this._readStream.size){if(this._endpoint.datagram())throw new _.DatagramLimitException;if(!this.read(this._readStream.buffer))return o.assert(!this._readStream.isEmpty()),void this.scheduleTimeout(h.Read,this._endpoint.timeout());o.assert(0===this._readStream.buffer.remaining)}}if(this._state<=1){if(0===this._state&&!this.initialize())return;if(this._state<=1&&!this.validate())return;this._transceiver.unregister(),this.setState(3),null!==this._startPromise&&++this._dispatchCount}else o.assert(this._state<=4),0!=(e&h.Read)&&(t=this.parseMessage()),0!=(e&h.Write)&&this.sendNextMessage()}catch(e){if(e instanceof _.DatagramLimitException)return this._warnUdp&&this._logger.warning("maximum datagram size of "+this._readStream.pos+" exceeded"),this._readStream.resize(d.headerSize),this._readStream.pos=0,void(this._readHeader=!0);if(e instanceof _.SocketException)return void this.setState(5,e);if(e instanceof _.LocalException)return void(this._endpoint.datagram()?(this._warn&&this._logger.warning("datagram connection exception:\n"+e+"\n"+this._desc),this._readStream.resize(d.headerSize),this._readStream.pos=0,this._readHeader=!0):this.setState(5,e));throw e}if(this._acmLastActivity>0&&(this._acmLastActivity=Date.now()),this.dispatch(t),this._hasMoreData.value){var p=this;f.setImmediate((function(){p.message(h.Read)}))}}},dispatch:function(e){var t=0;if(null!==this._startPromise&&(this._startPromise.succeed(),this._startPromise=null,++t),null!==e&&(null!==e.outAsync&&(e.outAsync.__completed(e.stream),++t),e.invokeNum>0&&this.invokeAll(e.stream,e.invokeNum,e.requestId,e.compress,e.servantManager,e.adapter),e.heartbeatCallback)){try{e.heartbeatCallback.heartbeat(this)}catch(e){this._logger.error("connection callback exception:\n"+e+"\n"+this._desc)}e.heartbeatCallback=null,++t}if(t>0&&(this._dispatchCount-=t,0===this._dispatchCount)){if(4!==this._state||this._shutdownInitiated)6===this._state&&this.reap();else try{this.initiateShutdown()}catch(e){if(!(e instanceof _.LocalException))throw e;this.setState(5,e)}this.checkState()}},finish:function(){var e;o.assert(5===this._state),this.unscheduleTimeout(h.Read|h.Write|h.Connect);var t=this._instance.traceLevels();if(this._initialized?t.network>=1&&((e=[]).push("closed "),e.push(this._endpoint.protocol()),e.push(" connection\n"),e.push(this.toString()),this._exception instanceof _.CloseConnectionException||this._exception instanceof _.ForcedCloseConnectionException||this._exception instanceof _.ConnectionTimeoutException||this._exception instanceof _.CommunicatorDestroyedException||this._exception instanceof _.ObjectAdapterDeactivatedException||(e.push("\n"),e.push(this._exception.toString())),this._instance.initializationData().logger.trace(t.networkCat,e.join(""))):t.network>=2&&((e=[]).push("failed to establish "),e.push(this._endpoint.protocol()),e.push(" connection\n"),e.push(this.toString()),e.push("\n"),e.push(this._exception.toString()),this._instance.initializationData().logger.trace(t.networkCat,e.join(""))),null!==this._startPromise&&(this._startPromise.fail(this._exception),this._startPromise=null),this._sendStreams.length>0){if(!this._writeStream.isEmpty()){var n=this._sendStreams[0];this._writeStream.swap(n.stream)}for(var i=0;i<this._sendStreams.length;++i){var r=this._sendStreams[i];r.requestId>0&&this._asyncRequests.del(r.requestId),r.completed(this._exception)}this._sendStreams=[]}for(var s=this._asyncRequests.entries;null!==s;s=s.next)s.value.__completedEx(this._exception);if(this._asyncRequests.clear(),this._readStream.clear(),this._readStream.buffer.clear(),this._writeStream.clear(),this._writeStream.buffer.clear(),null!==this._callback){try{this._callback.closed(this)}catch(e){this._logger.error("connection callback exception:\n"+e+"\n"+this._desc)}this._callback=null}0===this._dispatchCount&&this.reap(),this.setState(6)},toString:function(){return this._desc},timedOut:function(e){this._state<=1?this.setState(5,new _.ConnectTimeoutException):this._state<4?this.setState(5,new _.TimeoutException):4===this._state&&this.setState(5,new _.CloseTimeoutException)},type:function(){return this._type},timeout:function(){return this._endpoint.timeout()},getInfo:function(){if(this._state>=5)throw this._exception;var e=this._transceiver.getInfo();return e.adapterName=null!==this._adapter?this._adapter.getName():"",e.incoming=this._incoming,e},setBufferSize:function(e,t){if(this._state>=5)throw this._exception;this._transceiver.setBufferSize(e,t)},exception:function(e){this.setState(5,e)},invokeException:function(e,t){this.setState(5,e),t>0&&(o.assert(this._dispatchCount>0),this._dispatchCount-=t,o.assert(this._dispatchCount>=0),0===this._dispatchCount&&(6===this._state&&this.reap(),this.checkState()))},setState:function(e,t){if(void 0!==t){if(o.assert(t instanceof _.LocalException),o.assert(e>=4),this._state===e)return;null===this._exception&&(this._exception=t,this._warn&&this._validated&&(this._exception instanceof _.CloseConnectionException||this._exception instanceof _.ForcedCloseConnectionException||this._exception instanceof _.ConnectionTimeoutException||this._exception instanceof _.CommunicatorDestroyedException||this._exception instanceof _.ObjectAdapterDeactivatedException||this._exception instanceof _.ConnectionLostException&&4===this._state||this.warning("connection exception",this._exception)))}if(this._endpoint.datagram()&&4===e&&(e=5),this._state<=1&&4===e&&(e=5),this._state!==e){try{switch(e){case 0:o.assert(!1);break;case 1:if(0!==this._state)return void o.assert(5===this._state);this._endpoint.datagram()||this._incoming||this._transceiver.register();break;case 2:if(3!==this._state&&1!==this._state)return;this._transceiver.register();break;case 3:if(2!==this._state&&1!==this._state)return;2===this._state&&this._transceiver.unregister();break;case 4:if(this._state>=5)return;3===this._state&&this._transceiver.register();break;case 5:if(6===this._state)return;this._batchRequestQueue.destroy(this._exception),this._transceiver.unregister();break;case 6:o.assert(5===this._state),this._transceiver.close(),this._communicator=null}}catch(t){if(!(t instanceof _.LocalException))throw t;var n="unexpected connection exception:\n "+this._desc+"\n"+t.toString();this._instance.initializationData().logger.error(n)}if(null!==this._monitor&&(2===e?(this._monitor.add(this),this._acmLastActivity>0&&(this._acmLastActivity=Date.now())):2===this._state&&this._monitor.remove(this)),this._state=e,4===this._state&&0===this._dispatchCount)try{this.initiateShutdown()}catch(t){if(!(t instanceof _.LocalException))throw t;this.setState(5,t)}else 5===this._state&&this.finish();this.checkState()}},initiateShutdown:function(){if(o.assert(4===this._state),o.assert(0===this._dispatchCount),o.assert(!this._shutdownInitiated),!this._endpoint.datagram()){var t=new n(this._instance,d.currentProtocolEncoding);t.writeBlob(d.magic),d.currentProtocol.__write(t),d.currentProtocolEncoding.__write(t),t.writeByte(d.closeConnectionMsg),t.writeByte(0),t.writeInt(d.headerSize),(this.sendMessage(b.createForStream(t,!1,!1))&e.Sent)>0&&this.scheduleTimeout(h.Write,this.closeTimeout())}},heartbeat:function(){if(o.assert(2===this._state),!this._endpoint.datagram()){var e=new n(this._instance,d.currentProtocolEncoding);e.writeBlob(d.magic),d.currentProtocol.__write(e),d.currentProtocolEncoding.__write(e),e.writeByte(d.validateConnectionMsg),e.writeByte(0),e.writeInt(d.headerSize);try{this.sendMessage(b.createForStream(e,!1,!1))}catch(e){this.setState(5,e),o.assert(null!==this._exception)}}},initialize:function(){var e=this._transceiver.initialize(this._readStream.buffer,this._writeStream.buffer);return e!=h.None?(this.scheduleTimeout(e,this.connectTimeout()),!1):(this._desc=this._transceiver.toString(),this._initialized=!0,this.setState(1),!0)},validate:function(){if(!this._endpoint.datagram())if(null!==this._adapter){if(0===this._writeStream.size&&(this._writeStream.writeBlob(d.magic),d.currentProtocol.__write(this._writeStream),d.currentProtocolEncoding.__write(this._writeStream),this._writeStream.writeByte(d.validateConnectionMsg),this._writeStream.writeByte(0),this._writeStream.writeInt(d.headerSize),p.traceSend(this._writeStream,this._logger,this._traceLevels),this._writeStream.prepareWrite()),this._writeStream.pos!=this._writeStream.size&&!this.write(this._writeStream.buffer))return this.scheduleTimeout(h.Write,this.connectTimeout()),!1}else{if(0===this._readStream.size&&(this._readStream.resize(d.headerSize),this._readStream.pos=0),this._readStream.pos!==this._readStream.size&&!this.read(this._readStream.buffer))return this.scheduleTimeout(h.Read,this.connectTimeout()),!1;o.assert(this._readStream.pos===d.headerSize),this._readStream.pos=0;var e=this._readStream.readBlob(4);if(e[0]!==d.magic[0]||e[1]!==d.magic[1]||e[2]!==d.magic[2]||e[3]!==d.magic[3]){var t=new _.BadMagicException;throw t.badMagic=e,t}if(this._readProtocol.__read(this._readStream),d.checkSupportedProtocol(this._readProtocol),this._readProtocolEncoding.__read(this._readStream),d.checkSupportedProtocolEncoding(this._readProtocolEncoding),this._readStream.readByte()!==d.validateConnectionMsg)throw new _.ConnectionNotValidatedException;if(this._readStream.readByte(),this._readStream.readInt()!==d.headerSize)throw new _.IllegalMessageSizeException;p.traceRecv(this._readStream,this._logger,this._traceLevels),this._validated=!0}this._writeStream.resize(0),this._writeStream.pos=0,this._readStream.resize(d.headerSize),this._readHeader=!0,this._readStream.pos=0;var n=this._instance.traceLevels();if(n.network>=1){var i=[];this._endpoint.datagram()?(i.push("starting to send "),i.push(this._endpoint.protocol()),i.push(" messages\n"),i.push(this._transceiver.toDetailedString())):((i=[]).push("established "),i.push(this._endpoint.protocol()),i.push(" connection\n"),i.push(this.toString())),this._instance.initializationData().logger.trace(n.networkCat,i.join(""))}return!0},sendNextMessage:function(){if(0!==this._sendStreams.length){o.assert(!this._writeStream.isEmpty()&&this._writeStream.pos===this._writeStream.size);try{for(;;){var e=this._sendStreams.shift();if(this._writeStream.swap(e.stream),e.sent(),0===this._sendStreams.length)break;if(this._state>=5)return;e=this._sendStreams[0],o.assert(!e.prepared);var t=e.stream;if(t.pos=10,t.writeInt(t.size),t.prepareWrite(),e.prepared=!0,null!==e.outAsync?p.trace("sending asynchronous request",t,this._logger,this._traceLevels):p.traceSend(t,this._logger,this._traceLevels),this._writeStream.swap(e.stream),this._writeStream.pos!=this._writeStream.size&&!this.write(this._writeStream.buffer))return o.assert(!this._writeStream.isEmpty()),void this.scheduleTimeout(h.Write,this._endpoint.timeout())}}catch(e){if(e instanceof _.LocalException)return void this.setState(5,e);throw e}o.assert(this._writeStream.isEmpty()),4===this._state&&this.scheduleTimeout(h.Write,this.closeTimeout())}},sendMessage:function(t){if(this._sendStreams.length>0)return t.doAdopt(),this._sendStreams.push(t),e.Queued;o.assert(this._state<5),o.assert(!t.prepared);var n=t.stream;return n.pos=10,n.writeInt(n.size),n.prepareWrite(),t.prepared=!0,t.outAsync?p.trace("sending asynchronous request",t.stream,this._logger,this._traceLevels):p.traceSend(t.stream,this._logger,this._traceLevels),this.write(t.stream.buffer)?(t.sent(),this._acmLastActivity>0&&(this._acmLastActivity=Date.now()),e.Sent):(t.doAdopt(),this._writeStream.swap(t.stream),this._sendStreams.push(t),this.scheduleTimeout(h.Write,this._endpoint.timeout()),e.Queued)},parseMessage:function(){o.assert(this._state>1&&this._state<5);var e=new S(this._instance);this._readStream.swap(e.stream),this._readStream.resize(d.headerSize),this._readStream.pos=0,this._readHeader=!0,this._validated=!0,o.assert(e.stream.pos===e.stream.size);try{e.stream.pos=8;var t=e.stream.readByte();if(e.compress=e.stream.readByte(),2===e.compress){var n=new _.FeatureNotSupportedException;throw n.unsupportedFeature="Cannot uncompress compressed message",n}switch(e.stream.pos=d.headerSize,t){case d.closeConnectionMsg:p.traceRecv(e.stream,this._logger,this._traceLevels),this._endpoint.datagram()?this._warn&&this._logger.warning("ignoring close connection message for datagram connection:\n"+this._desc):this.setState(5,new _.CloseConnectionException);break;case d.requestMsg:4===this._state?p.trace("received request during closing\n(ignored by server, client will retry)",e.stream,this._logger,this._traceLevels):(p.traceRecv(e.stream,this._logger,this._traceLevels),e.requestId=e.stream.readInt(),e.invokeNum=1,e.servantManager=this._servantManager,e.adapter=this._adapter,++this._dispatchCount);break;case d.requestBatchMsg:if(4===this._state)p.trace("received batch request during closing\n(ignored by server, client will retry)",e.stream,this._logger,this._traceLevels);else{if(p.traceRecv(e.stream,this._logger,this._traceLevels),e.invokeNum=e.stream.readInt(),e.invokeNum<0)throw e.invokeNum=0,new _.UnmarshalOutOfBoundsException;e.servantManager=this._servantManager,e.adapter=this._adapter,this._dispatchCount+=e.invokeNum}break;case d.replyMsg:p.traceRecv(e.stream,this._logger,this._traceLevels),e.requestId=e.stream.readInt(),e.outAsync=this._asyncRequests.get(e.requestId),e.outAsync?(this._asyncRequests.del(e.requestId),++this._dispatchCount):e=null,this.checkClose();break;case d.validateConnectionMsg:p.traceRecv(e.stream,this._logger,this._traceLevels),null!==this._callback&&(e.heartbeatCallback=this._callback,++this._dispatchCount);break;default:throw p.trace("received unknown message\n(invalid, closing connection)",e.stream,this._logger,this._traceLevels),new _.UnknownMessageException}}catch(n){if(!(n instanceof _.LocalException))throw n;this._endpoint.datagram()?this._warn&&this._logger.warning("datagram connection exception:\n"+n+"\n"+this._desc):this.setState(5,n)}return e},invokeAll:function(e,t,n,i,r,o){try{for(;t>0;){var s=!this._endpoint.datagram()&&0!==n;new a(this._instance,this,o,s,i,n).invoke(r,e),--t}e.clear()}catch(e){if(!(e instanceof _.LocalException))throw e;this.invokeException(e,t)}},scheduleTimeout:function(e,t){if(!(t<0)){var n=this;0!=(e&h.Read)&&(this._readTimeoutId=this._timer.schedule((function(){n.timedOut()}),t),this._readTimeoutScheduled=!0),0!=(e&(h.Write|h.Connect))&&(this._writeTimeoutId=this._timer.schedule((function(){n.timedOut()}),t),this._writeTimeoutScheduled=!0)}},unscheduleTimeout:function(e){0!=(e&h.Read)&&this._readTimeoutScheduled&&(this._timer.cancel(this._readTimeoutId),this._readTimeoutScheduled=!1),0!=(e&(h.Write|h.Connect))&&this._writeTimeoutScheduled&&(this._timer.cancel(this._writeTimeoutId),this._writeTimeoutScheduled=!1)},connectTimeout:function(){var e=this._instance.defaultsAndOverrides();return e.overrideConnectTimeout?e.overrideConnectTimeoutValue:this._endpoint.timeout()},closeTimeout:function(){var e=this._instance.defaultsAndOverrides();return e.overrideCloseTimeout?e.overrideCloseTimeoutValue:this._endpoint.timeout()},warning:function(e,t){this._logger.warning(e+":\n"+this._desc+"\n"+t.toString())},checkState:function(){if(!(this._state<3||this._dispatchCount>0)){var e;if(this._holdPromises.length>0){for(e=0;e<this._holdPromises.length;++e)this._holdPromises[e].succeed();this._holdPromises=[]}if(6===this._state&&this._finishedPromises.length>0){for(this._adapter=null,e=0;e<this._finishedPromises.length;++e)this._finishedPromises[e].succeed();this._finishedPromises=[]}}},reap:function(){null!==this._monitor&&this._monitor.reap(this)},read:function(e){var t=e.position,n=this._transceiver.read(e,this._hasMoreData);if(this._instance.traceLevels().network>=3&&e.position!=t){var i=[];i.push("received "),this._endpoint.datagram()?i.push(e.limit):(i.push(e.position-t),i.push(" of "),i.push(e.limit-t)),i.push(" bytes via "),i.push(this._endpoint.protocol()),i.push("\n"),i.push(this.toString()),this._instance.initializationData().logger.trace(this._instance.traceLevels().networkCat,i.join(""))}return n},write:function(e){var t=e.position,n=this._transceiver.write(e);if(this._instance.traceLevels().network>=3&&e.position!=t){var i=[];i.push("sent "),i.push(e.position-t),this._endpoint.datagram()||(i.push(" of "),i.push(e.limit-t)),i.push(" bytes via "),i.push(this._endpoint.protocol()),i.push("\n"),i.push(this.toString()),this._instance.initializationData().logger.trace(this._instance.traceLevels().networkCat,i.join(""))}return n}});E.ObjectAdapterDeactivated=0,E.CommunicatorDestroyed=1,_.ConnectionI=E;var b=I({__init__:function(){this.stream=null,this.outAsync=null,this.compress=!1,this.requestId=0,this.prepared=!1},canceled:function(){o.assert(null!==this.outAsync),this.outAsync=null},doAdopt:function(){if(this.adopt){var e=new n(this.stream.instance,d.currentProtocolEncoding);e.swap(this.stream),this.stream=e,this.adopt=!1}},sent:function(){null!==this.outAsync&&this.outAsync.__sent()},completed:function(e){null!==this.outAsync&&this.outAsync.__completedEx(e)}});b.createForStream=function(e,t,n){var i=new b;return i.stream=e,i.compress=t,i.adopt=n,i.isSent=!1,i.requestId=0,i.outAsync=null,i},b.create=function(e,t,n,i){var r=new b;return r.stream=t,r.compress=n,r.outAsync=e,r.requestId=i,r.isSent=!1,r.adopt=!1,r}}(),function(){var e=_.__M.module("IceSSL"),t=_.HashUtil,n=(_.StringUtil,_.EndpointI),i=(0,_.Class)(n,{__init__:function(e,t,n){this._instance=e,this._delegate=t,this._resource=n||"/"},getInfo:function(){var t=this._delegate.secure()?new e.WSSEndpointInfo:new _.WSEndpointInfo;return t.resource=this._resource,this._delegate.fillEndpointInfo(t),t},type:function(){return this._delegate.type()},protocol:function(){return this._delegate.protocol()},streamWrite:function(e){e.startWriteEncaps(),this._delegate.streamWriteImpl(e),e.writeString(this._resource),e.endWriteEncaps()},timeout:function(){return this._delegate.timeout()},changeTimeout:function(e){return e===this._delegate.timeout()?this:new i(this._instance,this._delegate.changeTimeout(e),this._resource)},changeConnectionId:function(e){return e===this._delegate.connectionId()?this:new i(this._instance,this._delegate.changeConnectionId(e),this._resource)},compress:function(){return this._delegate.compress()},changeCompress:function(e){return e===this._delegate.compress()?this:new i(this._instance,this._delegate.changeCompress(e),this._resource)},datagram:function(){return this._delegate.datagram()},secure:function(){return this._delegate.secure()},connect:function(){return _.WSTransceiver.createOutgoing(this._instance,this._delegate.secure(),this._delegate.getAddress(),this._resource)},hashCode:function(){return void 0===this._hashCode&&(this._hashCode=this._delegate.hashCode(),this._hashCode=t.addString(this._hashCode,this._resource)),this._hashCode},compareTo:function(e){if(this===e)return 0;if(null===e)return 1;if(!(e instanceof i))return this.type()<e.type()?-1:1;var t=this._delegate.compareTo(e._delegate);return 0!==t?t:this._resource!==e._resource?this._resource<e._resource?-1:1:0},options:function(){var e=this._delegate.options();return null!==this._resource&&this._resource.length>0&&(e+=" -r ",e+=-1!==this._resource.indexOf(":")?'"'+this._resource+'"':this._resource),e},toConnectorString:function(){return this._delegate.toConnectorString()},initWithStream:function(e){this._resource=e.readString()},checkOption:function(e,t,n){if("-r"!==e)return!1;if(null===t)throw new _.EndpointParseException("no argument provided for -r option in endpoint "+n);return this._resource=t,!0}});void 0!==_.WSTransceiver?i.prototype.connectable=function(){return!0}:i.prototype.connectable=function(){return!1},_.WSEndpoint=i}(),function(){var e=_.HashMap,t=_.RouterInfo,n=_.RouterPrx,i=_.Class({__init__:function(){this._table=new e(e.compareEquals)},destroy:function(){for(var e=this._table.entries;null!==e;e=e.next)e.value.destroy();this._table.clear()},find:function(e){if(null===e)return null;var i=n.uncheckedCast(e.ice_router(null)),r=this._table.get(i);return void 0===r&&(r=new t(i),this._table.set(i,r)),r},erase:function(e){var t=null;if(null!==e){var i=n.uncheckedCast(e.ice_router(null));t=this._table.get(i),this._table.del(i)}return t}});_.RouterManager=i}(),function(){var e=_.Class,t=_.Debug,n=e({__init__:function(e,t,n,i){if(void 0===e)return this.timeout=6e4,this.heartbeat=_.ACMHeartbeat.HeartbeatOnInvocation,void(this.close=_.ACMClose.CloseOnInvocationAndIdle);var r;r="Ice.ACM.Client"!=n&&"Ice.ACM.Server"!=n||0!==e.getProperty(n+".Timeout").length?n+".Timeout":n,this.timeout=1e3*e.getPropertyAsIntWithDefault(r,i.timeout/1e3);var o=e.getPropertyAsIntWithDefault(n+".Heartbeat",i.heartbeat.value);o>=0&&o<=_.ACMHeartbeat.maxValue?this.heartbeat=_.ACMHeartbeat.valueOf(o):(t.warning("invalid value for property `"+n+".Heartbeat', default value will be used instead"),this.heartbeat=i.heartbeat);var s=e.getPropertyAsIntWithDefault(n+".Close",i.close.value);s>=0&&s<=_.ACMClose.maxValue?this.close=_.ACMClose.valueOf(s):(t.warning("invalid value for property `"+n+".Close', default value will be used instead"),this.close=i.close)}}),i=e({add:function(e){t.assert(!1)},remove:function(e){t.assert(!1)},reap:function(e){t.assert(!1)},acm:function(e){return t.assert(!1),null},getACM:function(){return t.assert(!1),0}}),r=e(i,{__init__:function(e,t){this._instance=e,this._config=t,this._reapedConnections=[],this._connections=[]},destroy:function(){null!==this._instance&&(this._instance=null,this._connections=null)},add:function(e){if(0!==this._config.timeout&&(this._connections.push(e),1==this._connections.length)){var t=this;this._timerToken=this._instance.timer().scheduleRepeated((function(){t.runTimerTask()}),this._config.timeout/2)}},remove:function(e){if(0!==this._config.timeout){var n=this._connections.indexOf(e);t.assert(n>=0),this._connections.splice(n,1),0!==this._connections.length||this._instance.timer().cancel(this._timerToken)}},reap:function(e){this._reapedConnections.push(e)},acm:function(e,i,r){t.assert(null!==this._instance);var s=new n;return s.timeout=this._config.timeout,s.close=this._config.close,s.heartbeat=this._config.heartbeat,void 0!==e&&(s.timeout=1e3*e),void 0!==i&&(s.close=i),void 0!==r&&(s.heartbeat=r),new o(this,this._instance.timer(),s)},getACM:function(){return new _.ACM(this._config.timeout/1e3,this._config.close,this._config.heartbeat)},swapReapedConnections:function(){if(0===this._reapedConnections.length)return null;var e=this._reapedConnections;return this._reapedConnections=[],e},runTimerTask:function(){if(null!==this._instance)for(var e=Date.now(),t=0;t<this._connections.length;t++)try{this._connections[t].monitor(e,this._config)}catch(e){this.handleException(e)}},handleException:function(e){null!==this._instance&&this._instance.initializationData().logger.error("exception in connection monitor:\n"+e)}}),o=e(i,{__init__:function(e,t,n){this._parent=e,this._timer=t,this._config=n,this._connection=null},add:function(e){if(t.assert(null===this._connection),this._connection=e,this._config.timeout>0){var n=this;this._timerToken=this._timer.scheduleRepeated((function(){n.runTimerTask()}),this._config.timeout/2)}},remove:function(e){t.assert(this._connection===e),this._connection=null,this._config.timeout>0&&this._timer.cancel(this._timerToken)},reap:function(e){this._parent.reap(e)},acm:function(e,t,n){return this._parent.acm(e,t,n)},getACM:function(){return new _.ACM(this._config.timeout/1e3,this._config.close,this._config.heartbeat)},runTimerTask:function(){try{this._connection.monitor(Date.now(),this._config)}catch(e){this._parent.handleException(e)}}});_.FactoryACMMonitor=r,_.ACMConfig=n}(),Z=_.Context,$=_.InitializationException,(ee=_.Class({__init__:function(){this._context=new Z},getContext:function(){return new Z(this._context)},setContext:function(e){null!==e&&e.size>0?this._context=new Z(e):this._context.clear()},containsKey:function(e){return null===e&&(e=""),this._context.has(e)},get:function(e){null===e&&(e="");var t=this._context.get(e);return null===t&&(t=""),t},put:function(e,t){null===e&&(e=""),null===t&&(t="");var n=this._context.get(e);return null===n&&(n=""),this._context.set(e,t),n},remove:function(e){null===e&&(e="");var t=this._context.get(e);return this._context.del(e),null===t&&(t=""),t},write:function(e,t){if(0===e.size)_.ContextHelper.write(t,this._context);else{var n=null;0===this._context.size?n=e:(n=new Z(this._context)).merge(e),_.ContextHelper.write(t,n)}}})).create=function(e){if(0===e.length||"None"===e)return null;if("Shared"===e)return new ee;throw new $("'"+e+"' is not a valid value for Ice.ImplicitContext")},_.ImplicitContextI=ee,function(){var e=_.ArrayUtil,t=_.Debug,n=_.BatchRequestQueue,i=_.HashMap,r=_.HashUtil,o=_.OpaqueEndpointI,s=_.Promise,c=(_.Protocol,_.ReferenceMode),a=_.StringUtil,l=_.StringSeqHelper,u=_.EndpointSelectionType,d=_.Identity,h=_.RouterPrx,f=_.LocatorPrx,p=_.PropertyNames,g=_.ConnectionRequestHandler,y=_.Class,C=["EndpointSelection","ConnectionCached","PreferSecure","EncodingVersion","LocatorCacheTimeout","InvocationTimeout","Locator","Router","CollocationOptimized"],v=y({__init__:function(e,t){this._instance=e,this._communicator=t,this._defaultRouter=null,this._defaultLocator=null},create:function(e,t,n,i){return 0===e.name.length&&0===e.category.length?null:this.createImpl(e,t,n.getMode(),n.getSecure(),n.getProtocol(),n.getEncoding(),i,null,null)},createWithAdapterId:function(e,t,n,i){return 0===e.name.length&&0===e.category.length?null:this.createImpl(e,t,n.getMode(),n.getSecure(),n.getProtocol(),n.getEncoding(),null,i,null)},createFixed:function(e,t){return 0===e.name.length&&0===e.category.length?null:new S(this._instance,this._communicator,e,"",t.endpoint().datagram()?c.ModeDatagram:c.ModeTwoway,t.endpoint().secure(),this._instance.defaultsAndOverrides().defaultEncoding,t)},copy:function(e){var t=e.getIdentity();return 0===t.name.length&&0===t.category.length?null:e.clone()},createFromString:function(e,n){if(null==e||0===e.length)return null;var i,r=0;if(-1==(i=a.findFirstNotOf(e," \t\n\r",r)))throw new _.ProxyParseException("no non-whitespace characters found in `"+e+"'");var o=null;if(-1===(r=a.checkQuote(e,i)))throw new _.ProxyParseException("mismatched quotes around identity in `"+e+"'");if(0===r?(-1===(r=a.findFirstOf(e," \t\n\r:@",i))&&(r=e.length),o=e.substring(i,r)):(i++,o=e.substring(i,r),r++),i===r)throw new _.ProxyParseException("no identity in `"+e+"'");var s=this._instance.stringToIdentity(o);if(0===s.name.length){if(s.category.length>0)throw new _.IllegalIdentityException(s);if(-1!=a.findFirstNotOf(e," \t\n\r",r))throw new _.ProxyParseException("invalid characters after identity in `"+e+"'");return null}for(var l="",u=c.ModeTwoway,d=!1,h=this._instance.defaultsAndOverrides().defaultEncoding,f=_.Protocol_1_0,p="";-1!==(i=a.findFirstNotOf(e," \t\n\r",r))&&":"!=e.charAt(i)&&"@"!=e.charAt(i)&&(-1==(r=a.findFirstOf(e," \t\n\r:@",i))&&(r=e.length),i!=r);){var g=e.substring(i,r);if(2!=g.length||"-"!=g.charAt(0))throw new _.ProxyParseException("expected a proxy option but found `"+g+"' in `"+e+"'");var y=null,C=a.findFirstNotOf(e," \t\n\r",r);if(-1!=C){var v=e.charAt(C);if("@"!=v&&":"!=v&&"-"!=v){if(i=C,-1==(r=a.checkQuote(e,i)))throw new _.ProxyParseException("mismatched quotes around value for "+g+" option in `"+e+"'");0===r?(-1===(r=a.findFirstOf(e," \t\n\r:@",i))&&(r=e.length),y=e.substring(i,r)):(i++,y=e.substring(i,r),r++)}}switch(g.charAt(1)){case"f":if(null===y)throw new _.ProxyParseException("no argument provided for -f option in `"+e+"'");try{l=a.unescapeString(y,0,y.length)}catch(t){throw new _.ProxyParseException("invalid facet in `"+e+"': "+t.message)}break;case"t":if(null!==y)throw new _.ProxyParseException("unexpected argument `"+y+"' provided for -t option in `"+e+"'");u=c.ModeTwoway;break;case"o":if(null!==y)throw new _.ProxyParseException("unexpected argument `"+y+"' provided for -o option in `"+e+"'");u=c.ModeOneway;break;case"O":if(null!==y)throw new _.ProxyParseException("unexpected argument `"+y+"' provided for -O option in `"+e+"'");u=c.ModeBatchOneway;break;case"d":if(null!==y)throw new _.ProxyParseException("unexpected argument `"+y+"' provided for -d option in `"+e+"'");u=c.ModeDatagram;break;case"D":if(null!==y)throw new _.ProxyParseException("unexpected argument `"+y+"' provided for -D option in `"+e+"'");u=c.ModeBatchDatagram;break;case"s":if(null!==y)throw new _.ProxyParseException("unexpected argument `"+y+"' provided for -s option in `"+e+"'");d=!0;break;case"e":if(null===y)throw new _.ProxyParseException("no argument provided for -e option in `"+e+"'");try{h=_.stringToEncodingVersion(y)}catch(t){throw new _.ProxyParseException("invalid encoding version `"+y+"' in `"+e+"':\n"+t.str)}break;case"p":if(null===y)throw new _.ProxyParseException("no argument provided for -p option in `"+e+"'");try{f=_.stringToProtocolVersion(y)}catch(t){throw new _.ProxyParseException("invalid protocol version `"+y+"' in `"+e+"':\n"+t.str)}break;default:throw new _.ProxyParseException("unknown option `"+g+"' in `"+e+"'")}}if(-1===i)return this.createImpl(s,l,u,d,f,h,null,null,n);var m=[];if(":"==e.charAt(i)){var S=[];for(r=i;r<e.length&&":"==e.charAt(r);){for(r=i=r+1;;){if(-1==(r=e.indexOf(":",r))){r=e.length;break}for(var I=!1,E=i;!(-1==(E=e.indexOf('"',E))||r<E)&&-1!=(E=e.indexOf('"',++E));){if(r<E){I=!0;break}++E}if(!I)break;++r}var b=e.substring(i,r),R=this._instance.endpointFactoryManager().create(b,!1);null!==R?m.push(R):S.push(b)}if(0===m.length)throw t.assert(S.length>0),new _.EndpointParseException("invalid endpoint `"+S[0]+"' in `"+e+"'");if(0!==S.length&&this._instance.initializationData().properties.getPropertyAsIntWithDefault("Ice.Warn.Endpoints",1)>0){var w=[];w.push("Proxy contains unknown endpoints:");for(var x=0;x<S.length;++x)w.push(" `"),w.push(S[x]),w.push("'");this._instance.initializationData().logger.warning(w.join(""))}return this.createImpl(s,l,u,d,f,h,m,null,n)}if("@"==e.charAt(i)){if(-1==(i=a.findFirstNotOf(e," \t\n\r",i+1)))throw new _.ProxyParseException("missing adapter id in `"+e+"'");var P=null;if(-1===(r=a.checkQuote(e,i)))throw new _.ProxyParseException("mismatched quotes around adapter id in `"+e+"'");if(0===r?(-1===(r=a.findFirstOf(e," \t\n\r",i))&&(r=e.length),P=e.substring(i,r)):(i++,P=e.substring(i,r),r++),r!==e.length&&-1!==a.findFirstNotOf(e," \t\n\r",r))throw new _.ProxyParseException("invalid trailing characters after `"+e.substring(0,r+1)+"' in `"+e+"'");try{p=a.unescapeString(P,0,P.length)}catch(t){throw new _.ProxyParseException("invalid adapter id in `"+e+"': "+t.message)}if(0===p.length)throw new _.ProxyParseException("empty adapter id in `"+e+"'");return this.createImpl(s,l,u,d,f,h,null,p,n)}throw new _.ProxyParseException("malformed proxy `"+e+"'")},createFromStream:function(e,t){if(0===e.name.length&&0===e.category.length)return null;var n,i=l.read(t);if(i.length>0){if(i.length>1)throw new _.ProxyUnmarshalException;n=i[0]}else n="";var r=t.readByte();if(r<0||r>c.ModeLast)throw new _.ProxyUnmarshalException;var o=t.readBool(),s=null,a=null;t.getReadEncoding().equals(_.Encoding_1_0)?(s=_.Protocol_1_0,a=_.Encoding_1_0):((s=new _.ProtocolVersion).__read(t),(a=new _.EncodingVersion).__read(t));var u=null,d=null,h=t.readSize();if(h>0){u=[];for(var f=0;f<h;f++)u[f]=this._instance.endpointFactoryManager().read(t)}else d=t.readString();return this.createImpl(e,n,r,o,s,a,u,d,null)},setDefaultRouter:function(e){if(null===this._defaultRouter?null===e:this._defaultRouter.equals(e))return this;var t=new v(this._instance,this._communicator);return t._defaultLocator=this._defaultLocator,t._defaultRouter=e,t},getDefaultRouter:function(){return this._defaultRouter},setDefaultLocator:function(e){if(null===this._defaultLocator?null===e:this._defaultLocator.equals(e))return this;var t=new v(this._instance,this._communicator);return t._defaultRouter=this._defaultRouter,t._defaultLocator=e,t},getDefaultLocator:function(){return this._defaultLocator},checkForUnknownProperties:function(e){var t,n,i=[];for(t=0;t<p.clPropNames.length;++t)if(0===e.indexOf(p.clPropNames[t]+"."))return;for(var r=this._instance.initializationData().properties.getPropertiesForPrefix(e+".").entries;null!==r;r=r.next){var o=!1;for(t=0,n=C.length;t<n;++t)if(r.key===e+"."+C[t]){o=!0;break}o||i.push(r.key)}if(i.length>0){var s=[];for(s.push("found unknown properties for proxy '"),s.push(e),s.push("':"),t=0,n=i.length;t<n;++t)s.push("\n    "),s.push(i[t]);this._instance.initializationData().logger.warning(s.join(""))}},createImpl:function(e,t,n,i,r,o,s,c,a){var l=this._instance.defaultsAndOverrides(),d=null;null!==this._defaultLocator&&(d=this._defaultLocator.__reference().getEncoding().equals(o)?this._instance.locatorManager().find(this._defaultLocator):this._instance.locatorManager().find(this._defaultLocator.ice_encodingVersion(o)));var p=this._instance.routerManager().find(this._defaultRouter),g=!0,y=l.defaultPreferSecure,C=l.defaultEndpointSelection,v=l.defaultLocatorCacheTimeout,m=l.defaultInvocationTimeout;if(null!==a&&a.length>0){var S,E=this._instance.initializationData().properties;E.getPropertyAsIntWithDefault("Ice.Warn.UnknownProperties",1)>0&&this.checkForUnknownProperties(a),S=a+".Locator";var b=f.uncheckedCast(this._communicator.propertyToProxy(S));null!==b&&(d=b.__reference().getEncoding().equals(o)?this._instance.locatorManager().find(b):this._instance.locatorManager().find(b.ice_encodingVersion(o))),S=a+".Router";var R=h.uncheckedCast(this._communicator.propertyToProxy(S));if(null!==R)if(a.lastIndexOf(".Router")==a.length-".Router".length){var w="`"+S+"="+E.getProperty(S)+"': cannot set a router on a router; setting ignored";this._instance.initializationData().logger.warning(w)}else p=this._instance.routerManager().find(R);if(S=a+".ConnectionCached",g=E.getPropertyAsIntWithDefault(S,g?1:0)>0,S=a+".PreferSecure",y=E.getPropertyAsIntWithDefault(S,y?1:0)>0,S=a+".EndpointSelection",E.getProperty(S).length>0){var x=E.getProperty(S);if("Random"==x)C=u.Random;else{if("Ordered"!=x)throw new _.EndpointSelectionTypeParseException("illegal value `"+x+"'; expected `Random' or `Ordered'");C=u.Ordered}}S=a+".LocatorCacheTimeout";var P=E.getProperty(S);0!==P.length&&(v=E.getPropertyAsIntWithDefault(S,v))<-1&&(v=-1,this._instance.initializationData().logger.warning("invalid value for"+S+"`"+E.getProperty(S)+"': defaulting to -1")),S=a+".InvocationTimeout",0!==(P=E.getProperty(S)).length&&(m=E.getPropertyAsIntWithDefault(S,m))<1&&-1!==m&&(m=-1,this._instance.initializationData().logger.warning("invalid value for"+S+"`"+E.getProperty(S)+"': defaulting to -1"))}return new I(this._instance,this._communicator,e,t,n,i,r,o,s,c,d,p,g,y,C,v,m)}});_.ReferenceFactory=v;var m=y({__init__:function(e,n,i,r,o,s,c,a,l){t.assert(void 0===i||null!==i.name),t.assert(void 0===i||null!==i.category),t.assert(void 0===r||null!==r),this._instance=e,this._communicator=n,this._mode=o,this._secure=s,this._identity=i,this._context=m._emptyContext,this._facet=r,this._protocol=c,this._encoding=a,this._invocationTimeout=l,this._hashInitialized=!1,this._overrideCompress=!1,this._compress=!1},getMode:function(){return this._mode},getSecure:function(){return this._secure},getProtocol:function(){return this._protocol},getEncoding:function(){return this._encoding},getIdentity:function(){return this._identity},getFacet:function(){return this._facet},getInstance:function(){return this._instance},getContext:function(){return this._context},getInvocationTimeout:function(){return this._invocationTimeout},getCommunicator:function(){return this._communicator},getEndpoints:function(){return t.assert(!1),null},getAdapterId:function(){return t.assert(!1),""},getRouterInfo:function(){return t.assert(!1),null},getLocatorInfo:function(){return t.assert(!1),null},getCacheConnection:function(){return t.assert(!1),!1},getPreferSecure:function(){return t.assert(!1),!1},getEndpointSelection:function(){return t.assert(!1),null},getLocatorCacheTimeout:function(){return t.assert(!1),0},getConnectionId:function(){return t.assert(!1),""},changeContext:function(e){null==e&&(e=m._emptyContext);var t=this._instance.referenceFactory().copy(this);return 0===e.size?t._context=m._emptyContext:t._context=new i(e),t},changeMode:function(e){if(e===this._mode)return this;var t=this._instance.referenceFactory().copy(this);return t._mode=e,t},changeSecure:function(e){if(e===this._secure)return this;var t=this._instance.referenceFactory().copy(this);return t._secure=e,t},changeIdentity:function(e){if(e.equals(this._identity))return this;var t=this._instance.referenceFactory().copy(this);return t._identity=new d(e.name,e.category),t},changeFacet:function(e){if(e===this._facet)return this;var t=this._instance.referenceFactory().copy(this);return t._facet=e,t},changeInvocationTimeout:function(e){if(e===this._invocationTimeout)return this;var t=this._instance.referenceFactory().copy(this);return t._invocationTimeout=e,t},changeEncoding:function(e){if(e.equals(this._encoding))return this;var t=this._instance.referenceFactory().copy(this);return t._encoding=e,t},changeCompress:function(e){if(this._overrideCompress&&this._compress===e)return this;var t=this._instance.referenceFactory().copy(this);return t._compress=e,t._overrideCompress=!0,t},changeAdapterId:function(e){return t.assert(!1),null},changeEndpoints:function(e){return t.assert(!1),null},changeLocator:function(e){return t.assert(!1),null},changeRouter:function(e){return t.assert(!1),null},changeCacheConnection:function(e){return t.assert(!1),null},changePreferSecure:function(e){return t.assert(!1),null},changeEndpointSelection:function(e){return t.assert(!1),null},changeLocatorCacheTimeout:function(e){return t.assert(!1),null},changeTimeout:function(e){return t.assert(!1),null},changeConnectionId:function(e){return t.assert(!1),null},hashCode:function(){if(this._hashInitialized)return this._hashValue;var e=5381;if(e=r.addNumber(e,this._mode),e=r.addBoolean(e,this._secure),e=r.addHashable(e,this._identity),null!==this._context&&void 0!==this._context)for(var t=this._context.entries;null!==t;t=t.next)e=r.addString(e,t.key),e=r.addString(e,t.value);return e=r.addString(e,this._facet),e=r.addBoolean(e,this._overrideCompress),this._overrideCompress&&(e=r.addBoolean(e,this._compress)),e=r.addHashable(e,this._protocol),e=r.addHashable(e,this._encoding),e=r.addNumber(e,this._invocationTimeout),this._hashValue=e,this._hashInitialized=!0,this._hashValue},isIndirect:function(){return t.assert(!1),!1},isWellKnown:function(){return t.assert(!1),!1},streamWrite:function(e){0===this._facet.length?e.writeSize(0):(e.writeSize(1),e.writeString(this._facet)),e.writeByte(this._mode),e.writeBool(this._secure),e.getWriteEncoding().equals(_.Encoding_1_0)||(this._protocol.__write(e),this._encoding.__write(e))},toString:function(){var e=[],t=this._instance.identityToString(this._identity);if(-1!=t.search(/[ :@]/)?(e.push('"'),e.push(t),e.push('"')):e.push(t),this._facet.length>0){e.push(" -f ");var n=a.escapeString(this._facet,"");-1!=n.search(/[ :@]/)?(e.push('"'),e.push(n),e.push('"')):e.push(n)}switch(this._mode){case c.ModeTwoway:e.push(" -t");break;case c.ModeOneway:e.push(" -o");break;case c.ModeBatchOneway:e.push(" -O");break;case c.ModeDatagram:e.push(" -d");break;case c.ModeBatchDatagram:e.push(" -D")}return this._secure&&e.push(" -s"),this._protocol.equals(_.Protocol_1_0)||(e.push(" -p "),e.push(_.protocolVersionToString(this._protocol))),e.push(" -e "),e.push(_.encodingVersionToString(this._encoding)),e.join("")},toProperty:function(e){return t.assert(!1),null},getRequestHandler:function(e){t.assert(!1)},getBatchRequestQueue:function(){t.assert(!1)},equals:function(e){return!(this._mode!==e._mode||this._secure!==e._secure||!this._identity.equals(e._identity)||!this._context.equals(e._context)||this._facet!==e._facet||this._overrideCompress!==e._overrideCompress||this._overrideCompress&&this._compress!==e._compress||!this._protocol.equals(e._protocol)||!this._encoding.equals(e._encoding)||this._invocationTimeout!==e._invocationTimeout)},clone:function(){return t.assert(!1),null},copyMembers:function(e){e._context=this._context,e._overrideCompress=this._overrideCompress,e._compress=this._compress}});m._emptyContext=new i,m._emptyEndpoints=[],_.Reference=m;var S=y(m,{__init__:function(e,t,n,i,r,o,s,c){m.call(this,e,t,n,i,r,o,_.Protocol_1_0,s),this._fixedConnection=c},getEndpoints:function(){return m._emptyEndpoints},getAdapterId:function(){return""},getRouterInfo:function(){return null},getLocatorInfo:function(){return null},getCacheConnection:function(){return!0},getPreferSecure:function(){return!1},getEndpointSelection:function(){return u.Random},getLocatorCacheTimeout:function(){return 0},getConnectionId:function(){return""},changeAdapterId:function(e){throw new _.FixedProxyException},changeEndpoints:function(e){throw new _.FixedProxyException},changeLocator:function(e){throw new _.FixedProxyException},changeRouter:function(e){throw new _.FixedProxyException},changeCacheConnection:function(e){throw new _.FixedProxyException},changePreferSecure:function(e){throw new _.FixedProxyException},changeEndpointSelection:function(e){throw new _.FixedProxyException},changeLocatorCacheTimeout:function(e){throw new _.FixedProxyException},changeTimeout:function(e){throw new _.FixedProxyException},changeConnectionId:function(e){throw new _.FixedProxyException},isIndirect:function(){return!1},isWellKnown:function(){return!1},streamWrite:function(e){throw new _.FixedProxyException},toString:function(){throw new _.FixedProxyException},toProperty:function(e){throw new _.FixedProxyException},clone:function(){var e=new S(this.getInstance(),this.getCommunicator(),this.getIdentity(),this.getFacet(),this.getMode(),this.getSecure(),this.getEncoding(),this._fixedConnection);return this.copyMembers(e),e},getRequestHandler:function(e){switch(this.getMode()){case c.ModeTwoway:case c.ModeOneway:case c.ModeBatchOneway:if(this._fixedConnection.endpoint().datagram())throw new _.NoEndpointException("");break;case c.ModeDatagram:case c.ModeBatchDatagram:if(!this._fixedConnection.endpoint().datagram())throw new _.NoEndpointException("")}var t,n=this.getInstance().defaultsAndOverrides();if((n.overrideSecure?n.overrideSecureValue:this.getSecure())&&!this._fixedConnection.endpoint().secure())throw new _.NoEndpointException("");return this._fixedConnection.throwException(),t=n.overrideCompress?n.overrideCompressValue:this._overrideCompress?this._compress:this._fixedConnection.endpoint().compress(),e.__setRequestHandler(new g(this,this._fixedConnection,t))},getBatchRequestQueue:function(){return this._fixedConnection.getBatchRequestQueue()},equals:function(e){return this===e||e instanceof S&&!!m.prototype.equals.call(this,e)&&this._fixedConnection.equals(e._fixedConnection)}});_.FixedReference=S;var I=y(m,{__init__:function(e,n,i,r,o,s,c,a,l,u,d,h,f,p,_,g,y){m.call(this,e,n,i,r,o,s,c,a,y),this._endpoints=l,this._adapterId=u,this._locatorInfo=d,this._routerInfo=h,this._cacheConnection=f,this._preferSecure=p,this._endpointSelection=_,this._locatorCacheTimeout=g,this._overrideTimeout=!1,this._timeout=-1,null===this._endpoints&&(this._endpoints=m._emptyEndpoints),null===this._adapterId&&(this._adapterId=""),this._connectionId="",t.assert(0===this._adapterId.length||0===this._endpoints.length)},getEndpoints:function(){return this._endpoints},getAdapterId:function(){return this._adapterId},getRouterInfo:function(){return this._routerInfo},getLocatorInfo:function(){return this._locatorInfo},getCacheConnection:function(){return this._cacheConnection},getPreferSecure:function(){return this._preferSecure},getEndpointSelection:function(){return this._endpointSelection},getLocatorCacheTimeout:function(){return this._locatorCacheTimeout},getConnectionId:function(){return this._connectionId},changeEncoding:function(e){var t=m.prototype.changeEncoding.call(this,e);if(t!==this){var n=t._locatorInfo;null===n||n.getLocator().ice_getEncodingVersion().equals(e)||(t._locatorInfo=this.getInstance().locatorManager().find(n.getLocator().ice_encodingVersion(e)))}return t},changeCompress:function(e){var t=m.prototype.changeCompress.call(this,e);if(t!==this&&this._endpoints.length>0){for(var n=[],i=0;i<this._endpoints.length;i++)n[i]=this._endpoints[i].changeCompress(e);t._endpoints=n}return t},changeAdapterId:function(e){if(this._adapterId===e)return this;var t=this.getInstance().referenceFactory().copy(this);return t._adapterId=e,t._endpoints=m._emptyEndpoints,t},changeEndpoints:function(t){if(e.equals(t,this._endpoints,(function(e,t){return e.equals(t)})))return this;var n=this.getInstance().referenceFactory().copy(this);return n._endpoints=t,n._adapterId="",n.applyOverrides(n._endpoints),n},changeLocator:function(e){var t=this.getInstance().locatorManager().find(e);if(null!==t&&null!==this._locatorInfo&&t.equals(this._locatorInfo))return this;var n=this.getInstance().referenceFactory().copy(this);return n._locatorInfo=t,n},changeRouter:function(e){var t=this.getInstance().routerManager().find(e);if(null!==t&&null!==this._routerInfo&&t.equals(this._routerInfo))return this;var n=this.getInstance().referenceFactory().copy(this);return n._routerInfo=t,n},changeCacheConnection:function(e){if(e===this._cacheConnection)return this;var t=this.getInstance().referenceFactory().copy(this);return t._cacheConnection=e,t},changePreferSecure:function(e){if(e===this._preferSecure)return this;var t=this.getInstance().referenceFactory().copy(this);return t._preferSecure=e,t},changeEndpointSelection:function(e){if(e===this._endpointSelection)return this;var t=this.getInstance().referenceFactory().copy(this);return t._endpointSelection=e,t},changeLocatorCacheTimeout:function(e){if(this._locatorCacheTimeout===e)return this;var t=this.getInstance().referenceFactory().copy(this);return t._locatorCacheTimeout=e,t},changeTimeout:function(e){if(this._overrideTimeout&&this._timeout===e)return this;var t=this.getInstance().referenceFactory().copy(this);if(t._timeout=e,t._overrideTimeout=!0,this._endpoints.length>0){for(var n=[],i=0;i<this._endpoints.length;i++)n[i]=this._endpoints[i].changeTimeout(e);t._endpoints=n}return t},changeConnectionId:function(e){if(this._connectionId===e)return this;var t=this.getInstance().referenceFactory().copy(this);if(t._connectionId=e,this._endpoints.length>0){for(var n=[],i=0;i<this._endpoints.length;i++)n[i]=this._endpoints[i].changeConnectionId(e);t._endpoints=n}return t},isIndirect:function(){return 0===this._endpoints.length},isWellKnown:function(){return 0===this._endpoints.length&&0===this._adapterId.length},streamWrite:function(e){if(m.prototype.streamWrite.call(this,e),e.writeSize(this._endpoints.length),this._endpoints.length>0){t.assert(0===this._adapterId.length);for(var n=0;n<this._endpoints.length;++n)e.writeShort(this._endpoints[n].type()),this._endpoints[n].streamWrite(e)}else e.writeString(this._adapterId)},toString:function(){var e=[];if(e.push(m.prototype.toString.call(this)),this._endpoints.length>0)for(var t=0;t<this._endpoints.length;++t){var n=this._endpoints[t].toString();null!==n&&n.length>0&&(e.push(":"),e.push(n))}else if(this._adapterId.length>0){e.push(" @ ");var i=a.escapeString(this._adapterId,null);-1!=i.search(/[ :@]/)?(e.push('"'),e.push(i),e.push('"')):e.push(i)}return e.join("")},toProperty:function(e){var t,n=new i;if(n.set(e,this.toString()),n.set(e+".CollocationOptimized","0"),n.set(e+".ConnectionCached",this._cacheConnection?"1":"0"),n.set(e+".PreferSecure",this._preferSecure?"1":"0"),n.set(e+".EndpointSelection",this._endpointSelection===u.Random?"Random":"Ordered"),n.set(e+".LocatorCacheTimeout",""+this._locatorCacheTimeout),n.set(e+".InvocationTimeout",""+this.getInvocationTimeout()),null!==this._routerInfo)for(t=this._routerInfo.getRouter().__reference().toProperty(e+".Router").entries;null!==t;t=t.next)n.set(t.key,t.value);if(null!==this._locatorInfo)for(t=this._locatorInfo.getLocator().__reference().toProperty(e+".Locator").entries;null!==t;t=t.next)n.set(t.key,t.value);return n},hashCode:function(){return this._hashInitialized||(m.prototype.hashCode.call(this),this._hashValue=r.addString(this._hashValue,this._adapterId)),this._hashValue},equals:function(t){return this===t||t instanceof I&&!!m.prototype.equals.call(this,t)&&!!(null===this._locatorInfo?null===t._locatorInfo:this._locatorInfo.equals(t._locatorInfo))&&!!(null===this._routerInfo?null===t._routerInfo:this._routerInfo.equals(t._routerInfo))&&this._cacheConnection===t._cacheConnection&&this._preferSecure===t._preferSecure&&this._endpointSelection===t._endpointSelection&&this._locatorCacheTimeout===t._locatorCacheTimeout&&this._connectionId===t._connectionId&&this._overrideTimeout===t._overrideTimeout&&(!this._overrideTimeout||this._timeout===t._timeout)&&!!e.equals(this._endpoints,t._endpoints,(function(e,t){return e.equals(t)}))&&this._adapterId===t._adapterId},getRequestHandler:function(e){return this._instance.requestHandlerFactory().getRequestHandler(this,e)},getBatchRequestQueue:function(){return new n(this._instance,this._mode===c.ModeBatchDatagram)},getConnection:function(){var e=new s;if(null!==this._routerInfo){var t=this;this._routerInfo.getClientEndpoints().then((function(n){n.length>0?(t.applyOverrides(n),t.createConnection(n).then((function(t,n){e.succeed(t,n)}),(function(t){e.fail(t)}))):t.getConnectionNoRouterInfo(e)})).exception((function(t){e.fail(t)}))}else this.getConnectionNoRouterInfo(e);return e},getConnectionNoRouterInfo:function(e){if(this._endpoints.length>0)this.createConnection(this._endpoints).then((function(t,n){e.succeed(t,n)})).exception((function(t){e.fail(t)}));else{var n=this;null!==this._locatorInfo?this._locatorInfo.getEndpoints(this,null,this._locatorCacheTimeout).then((function(i,r){0!==i.length?(n.applyOverrides(i),n.createConnection(i).then((function(t,n){e.succeed(t,n)}),(function(i){if(i instanceof _.NoEndpointException)e.fail(i);else{if(t.assert(null!==n._locatorInfo),n.getLocatorInfo().clearCache(n),r){var o=n.getInstance().traceLevels();if(o.retry>=2){var s="connection to cached endpoints failed\nremoving endpoints from cache and trying one more time\n"+i.toString();n.getInstance().initializationData().logger.trace(o.retryCat,s)}return void n.getConnectionNoRouterInfo(e)}e.fail(i)}}))):e.fail(new _.NoEndpointException(n.toString()))})).exception((function(t){e.fail(t)})):e.fail(new _.NoEndpointException(this.toString()))}},clone:function(){var e=new I(this.getInstance(),this.getCommunicator(),this.getIdentity(),this.getFacet(),this.getMode(),this.getSecure(),this.getProtocol(),this.getEncoding(),this._endpoints,this._adapterId,this._locatorInfo,this._routerInfo,this._cacheConnection,this._preferSecure,this._endpointSelection,this._locatorCacheTimeout,this._invocationTimeout);return this.copyMembers(e),e},copyMembers:function(e){m.prototype.copyMembers.call(this,e),e._overrideTimeout=this._overrideTimeout,e._timeout=this._timeout,e._connectionId=this._connectionId},applyOverrides:function(e){for(var t=0;t<e.length;++t)e[t]=e[t].changeConnectionId(this._connectionId),this._overrideCompress&&(e[t]=e[t].changeCompress(this._compress)),this._overrideTimeout&&(e[t]=e[t].changeTimeout(this._timeout))},filterEndpoints:function(n){for(var i=[],r=0;r<n.length;++r)n[r]instanceof o||!n[r].connectable()||i.push(n[r]);switch(this.getMode()){case c.ModeTwoway:case c.ModeOneway:case c.ModeBatchOneway:i=e.filter(i,(function(e,t,n){return!e.datagram()}));break;case c.ModeDatagram:case c.ModeBatchDatagram:i=e.filter(i,(function(e,t,n){return e.datagram()}))}switch(this.getEndpointSelection()){case u.Random:e.shuffle(i);break;case u.Ordered:break;default:t.assert(!1)}var s=this.getInstance().defaultsAndOverrides();if(s.overrideSecure?s.overrideSecureValue:this.getSecure())i=e.filter(i,(function(e,t,n){return e.secure()}));else{var a=this.getPreferSecure();i.sort((function(e,t){var n=e.secure(),i=t.secure();return n&&i||!n&&!i?0:!n&&i?a?1:-1:a?-1:1}))}return i},createConnection:function(e){var t=this.filterEndpoints(e);if(0===t.length)return(new s).fail(new _.NoEndpointException(this.toString()));var n,i=new s,r=this.getInstance().outgoingConnectionFactory();if(this.getCacheConnection()||1==t.length)n=new E(this,null,i),r.create(t,!1,this.getEndpointSelection()).then((function(e,t){n.setConnection(e,t)})).exception((function(e){n.setException(e)}));else{var o=[t[0]];n=new E(this,t,i),r.create(o,!0,this.getEndpointSelection()).then((function(e,t){n.setConnection(e,t)})).exception((function(e){n.setException(e)}))}return i}});_.RoutableReference=I;var E=y({__init__:function(e,t,n){this.ref=e,this.endpoints=t,this.promise=n,this.i=0,this.exception=null},setConnection:function(e,t){null!==this.ref.getRouterInfo()&&null!==this.ref.getRouterInfo().getAdapter()&&e.setAdapter(this.ref.getRouterInfo().getAdapter()),this.promise.succeed(e,t)},setException:function(e){if(null===this.exception&&(this.exception=e),null!==this.endpoints&&++this.i!==this.endpoints.length){var t=this.i!=this.endpoints.length-1,n=[this.endpoints[this.i]],i=this;this.ref.getInstance().outgoingConnectionFactory().create(n,t,this.ref.getEndpointSelection()).then((function(e,t){i.setConnection(e,t)})).exception((function(e){i.setException(e)}))}else this.promise.fail(this.exception)}})}(),function(){var e=_.Debug,t=_.BasicStream,n=_.EndpointParseException,i=_.OpaqueEndpointI,r=_.Protocol,o=_.StringUtil,s=_.Class({__init__:function(e){this._instance=e,this._factories=[]},add:function(t){for(var n=0;n<this._factories.length;++n)e.assert(this._factories[n].type()!=t.type());this._factories.push(t)},get:function(e){for(var t=0;t<this._factories.length;++t)if(this._factories[t].type()===e)return this._factories[t];return null},create:function(e,s){var c=e.trim();if(0===c.length)throw new n("value has no non-whitespace characters");var a=o.splitString(c," \t\n\r");if(0===a.length)throw new n("value has no non-whitespace characters");var l=a[0];a.splice(0,1),"default"===l&&(l=this._instance.defaultsAndOverrides().defaultProtocol);for(var u=0,d=this._factories.length;u<d;++u)if(this._factories[u].protocol()===l){var h=this._factories[u].create(a,s);if(a.length>0)throw new n("unrecognized argument `"+a[0]+"' in endpoint `"+e+"'");return h}if("opaque"===l){var f=new i;if(f.initWithOptions(a),a.length>0)throw new n("unrecognized argument `"+a[0]+"' in endpoint `"+e+"'");for(u=0,d=this._factories.length;u<d;++u)if(this._factories[u].type()==f.type()){var p=new t(this._instance,r.currentProtocolEncoding);p.writeShort(f.type()),f.streamWrite(p),p.pos=0,p.readShort(),p.startReadEncaps();var _=this._factories[u].read(p);return p.endReadEncaps(),_}return f}return null},read:function(e){for(var t,n=e.readShort(),r=0;r<this._factories.length;++r)if(this._factories[r].type()==n)return e.startReadEncaps(),t=this._factories[r].read(e),e.endReadEncaps(),t;return e.startReadEncaps(),(t=new i(n)).initWithStream(e),e.endReadEncaps(),t},destroy:function(){for(var e=0;e<this._factories.length;++e)this._factories[e].destroy();this._factories=[]}});_.EndpointFactoryManager=s}(),function(){var e=_.Debug,t=_.HashMap,n=_.ObjectPrx,i=_.StringUtil,r=_.Identity,o=_.Class({__init__:function(e){this._instance=e;var t=this._instance.initializationData().properties.getPropertyAsList("Ice.RetryIntervals");if(t.length>0){this._retryIntervals=[];for(var n=0;n<t.length;n++){var r;try{r=i.toInt(t[n])}catch(e){r=0}if(0===n&&-1===r)break;this._retryIntervals[n]=r>0?r:0}}else this._retryIntervals=[0]},stringToProxy:function(e){var t=this._instance.referenceFactory().createFromString(e,null);return this.referenceToProxy(t)},proxyToString:function(e){return null!==e?e.__reference().toString():""},propertyToProxy:function(e){var t=this._instance.initializationData().properties.getProperty(e),n=this._instance.referenceFactory().createFromString(t,e);return this.referenceToProxy(n)},proxyToProperty:function(e,n){return null!==e?e.__reference().toProperty(n):new t},streamToProxy:function(e,t){var n=new r;n.__read(e);var i=this._instance.referenceFactory().createFromStream(n,e);return this.referenceToProxy(i,t)},referenceToProxy:function(e,t){if(null!==e){var i=t?new t:new n;return i.__setup(e),i}return null},proxyToStream:function(e,t){if(null!==e){var n=e.__reference();n.getIdentity().__write(t),n.streamWrite(t)}else new r("","").__write(t)},checkRetryAfterException:function(t,n,i,r){var o,s=this._instance.traceLevels(),c=this._instance.initializationData().logger;if(n.getMode()===_.Reference.ModeBatchOneway||n.getMode()===_.Reference.ModeBatchDatagram)throw t;if(t instanceof _.ObjectNotExistException){var a=t;if(null!==n.getRouterInfo()&&"ice_add_proxy"===a.operation)return n.getRouterInfo().clearCache(n),s.retry>=1&&c.trace(s.retryCat,"retrying operation call to add proxy to router\n"+t.toString()),null!==i&&(i.value=0),r;if(!n.isIndirect())throw t;if(n.isWellKnown()){var l=n.getLocatorInfo();null!==l&&l.clearCache(n)}}else if(t instanceof _.RequestFailedException)throw t;if(t instanceof _.MarshalException)throw t;if(t instanceof _.CommunicatorDestroyedException||t instanceof _.ObjectAdapterDeactivatedException)throw t;if(t instanceof _.InvocationTimeoutException||t instanceof _.InvocationCanceledException)throw t;if(++r,e.assert(r>0),r===this._retryIntervals.length+1&&t instanceof _.CloseConnectionException)o=0;else{if(r>this._retryIntervals.length)throw s.retry>=1&&c.trace(s.retryCat,"cannot retry operation call because retry limit has been exceeded\n"+t.toString()),t;o=this._retryIntervals[r-1]}if(s.retry>=1){var u="retrying operation call";o>0&&(u+=" in "+o+"ms"),u+=" because of exception\n"+t.toString(),c.trace(s.retryCat,u)}return e.assert(null!==i),i.value=o,r}});_.ProxyFactory=o}(),function(){var e=_.FormatType,t=_.EndpointSelectionType,n=_.Protocol;_.DefaultsAndOverrides=function(i,r){this.defaultProtocol=i.getPropertyWithDefault("Ice.Default.Protocol",void 0!==_.TcpEndpointFactory?"tcp":"ws");var o=i.getProperty("Ice.Default.Host");if(this.defaultHost=o.length>0?o:null,o=i.getProperty("Ice.Default.SourceAddress"),this.defaultSourceAddress=o.length>0?o:null,(o=i.getProperty("Ice.Override.Timeout")).length>0?(this.overrideTimeout=!0,this.overrideTimeoutValue=i.getPropertyAsInt("Ice.Override.Timeout"),this.overrideTimeoutValue<1&&-1!==this.overrideTimeoutValue&&(this.overrideTimeoutValue=-1,r.warning("invalid value for Ice.Override.Timeout `"+i.getProperty("Ice.Override.Timeout")+"': defaulting to -1"))):(this.overrideTimeout=!1,this.overrideTimeoutValue=-1),(o=i.getProperty("Ice.Override.ConnectTimeout")).length>0?(this.overrideConnectTimeout=!0,this.overrideConnectTimeoutValue=i.getPropertyAsInt("Ice.Override.ConnectTimeout"),this.overrideConnectTimeoutValue<1&&-1!==this.overrideConnectTimeoutValue&&(this.overrideConnectTimeoutValue=-1,r.warning("invalid value for Ice.Override.ConnectTimeout `"+i.getProperty("Ice.Override.ConnectTimeout")+"': defaulting to -1"))):(this.overrideConnectTimeout=!1,this.overrideConnectTimeoutValue=-1),(o=i.getProperty("Ice.Override.CloseTimeout")).length>0?(this.overrideCloseTimeout=!0,this.overrideCloseTimeoutValue=i.getPropertyAsInt("Ice.Override.CloseTimeout"),this.overrideCloseTimeoutValue<1&&-1!==this.overrideCloseTimeoutValue&&(this.overrideCloseTimeoutValue=-1,r.warning("invalid value for Ice.Override.CloseTimeout `"+i.getProperty("Ice.Override.CloseTimeout")+"': defaulting to -1"))):(this.overrideCloseTimeout=!1,this.overrideCloseTimeoutValue=-1),this.overrideCompress=!1,this.overrideSecure=!1,"Random"===(o=i.getPropertyWithDefault("Ice.Default.EndpointSelection","Random")))this.defaultEndpointSelection=t.Random;else{if("Ordered"!==o){var s=new _.EndpointSelectionTypeParseException;throw s.str="illegal value `"+o+"'; expected `Random' or `Ordered'",s}this.defaultEndpointSelection=t.Ordered}this.defaultTimeout=i.getPropertyAsIntWithDefault("Ice.Default.Timeout",6e4),this.defaultTimeout<1&&-1!==this.defaultTimeout&&(this.defaultTimeout=6e4,r.warning("invalid value for Ice.Default.Timeout `"+i.getProperty("Ice.Default.Timeout")+"': defaulting to 60000")),this.defaultLocatorCacheTimeout=i.getPropertyAsIntWithDefault("Ice.Default.LocatorCacheTimeout",-1),this.defaultLocatorCacheTimeout<-1&&(this.defaultLocatorCacheTimeout=-1,r.warning("invalid value for Ice.Default.LocatorCacheTimeout `"+i.getProperty("Ice.Default.LocatorCacheTimeout")+"': defaulting to -1")),this.defaultInvocationTimeout=i.getPropertyAsIntWithDefault("Ice.Default.InvocationTimeout",-1),this.defaultInvocationTimeout<1&&-1!==this.defaultInvocationTimeout&&(this.defaultInvocationTimeout=-1,r.warning("invalid value for Ice.Default.InvocationTimeout `"+i.getProperty("Ice.Default.InvocationTimeout")+"': defaulting to -1")),this.defaultPreferSecure=i.getPropertyAsIntWithDefault("Ice.Default.PreferSecure",0)>0,o=i.getPropertyWithDefault("Ice.Default.EncodingVersion",_.encodingVersionToString(n.currentEncoding)),this.defaultEncoding=_.stringToEncodingVersion(o),n.checkSupportedEncoding(this.defaultEncoding);var c=i.getPropertyAsIntWithDefault("Ice.Default.SlicedFormat",0)>0;this.defaultFormat=c?e.SlicedFormat:e.CompactFormat}}(),function(){var e=_.StringUtil,t=_.Identity,n=_.IdentityParseException;_.stringToIdentity=function(i){for(var r=new t,o=-1,s=0;-1!==(s=i.indexOf("/",s));){for(var c=0;s-c>0&&"\\"==i.charAt(s-c-1);)c++;if(c%2==0){if(-1!=o)throw(a=new n).str="unescaped backslash in identity `"+i+"'",a;o=s}s++}if(-1==o){r.category="";try{r.name=e.unescapeString(i)}catch(e){throw(a=new n).str="invalid identity name `"+i+"': "+a.toString(),a}}else{try{r.category=e.unescapeString(i,0,o)}catch(e){throw(a=new n).str="invalid category in identity `"+i+"': "+a.toString(),a}if(o+1<i.length)try{r.name=e.unescapeString(i,o+1,i.length)}catch(e){var a;throw(a=new n).str="invalid name in identity `"+i+"': "+a.toString(),a}else r.name=""}return r},_.identityToString=function(t){return null===t.category||0===t.category.length?e.escapeString(t.name,"/"):e.escapeString(t.category,"/")+"/"+e.escapeString(t.name,"/")},_.proxyIdentityCompare=function(e,t){if(e===t)return 0;if(null===e&&null!==t)return-1;if(null!==e&&null===t)return 1;var n,i=e.ice_getIdentity(),r=t.ice_getIdentity();return 0!==(n=i.name.localeCompare(r.name))?n:i.category.localeCompare(r.category)},_.proxyIdentityAndFacetCompare=function(e,t){if(e===t)return 0;if(null===e&&null!==t)return-1;if(null!==e&&null===t)return 1;var n,i=e.ice_getIdentity(),r=t.ice_getIdentity();if(0!==(n=i.name.localeCompare(r.name)))return n;if(0!==(n=i.category.localeCompare(r.category)))return n;var o=e.ice_getFacet(),s=t.ice_getFacet();return null===o&&null===s?0:null===o?-1:null===s?1:o.localeCompare(s)}}(),function(){_.ArrayUtil;var e=_.AsyncResultBase,t=_.ConnectionI,n=(_.ConnectionReaper,_.Debug),i=_.HashMap,r=_.Promise,o=(_.EndpointSelectionType,_.FactoryACMMonitor),s=_.Class,c=s({__init__:function(e,t){this._communicator=e,this._instance=t,this._destroyed=!1,this._monitor=new o(this._instance,this._instance.clientACM()),this._connectionsByEndpoint=new a,this._pending=new i(i.compareEquals),this._pendingConnectCount=0,this._waitPromise=null},destroy:function(){this._destroyed||(this._connectionsByEndpoint.forEach((function(e){e.destroy(t.CommunicatorDestroyed)})),this._destroyed=!0,this._communicator=null,this.checkFinished())},waitUntilFinished:function(){return this._waitPromise=new r,this.checkFinished(),this._waitPromise},create:function(e,t,i){n.assert(e.length>0);var o=this.applyOverrides(e);try{var s={value:!1},c=this.findConnectionByEndpoint(o,s);if(null!==c)return(new r).succeed(c,s.value)}catch(e){return(new r).fail(e)}return new l(this,o,t,i).start()},setRouterInfo:function(e){var t=this;return _.Promise.try2((function(){if(t._destroyed)throw new _.CommunicatorDestroyedException;return e.getClientEndpoints()})).then((function(n){for(var i=e.getAdapter(),r=t._instance.defaultsAndOverrides(),o=0;o<n.length;++o){var s=n[o];r.overrideTimeout&&(s=s.changeTimeout(r.overrideTimeoutValue)),s=s.changeCompress(!1);for(var c=0;c<t._connectionsByEndpoint.length;++c){var a=t._connectionsByEndpoint[c];a.endpoint().equals(s)&&a.setAdapter(i)}}}))},removeAdapter:function(e){this._destroyed||this._connectionsByEndpoint.forEach((function(t){t.getAdapter()===e&&t.setAdapter(null)}))},flushAsyncBatchRequests:function(){var t=new e(this._communicator,"flushBatchRequests",null,null,null);if(!this._destroyed)return r.all(this._connectionsByEndpoint.map((function(e){if(e.isActiveOrHolding())return e.flushBatchRequests().exception((function(e){if(!(e instanceof _.LocalException))throw e}))}))).then((function(){t.succeed(t)}),(function(e){t.fail(e,t)})),t;t.succeed()},applyOverrides:function(e){for(var t=this._instance.defaultsAndOverrides(),n=[],i=0;i<e.length;++i){var r=e[i];t.overrideTimeout?n.push(r.changeTimeout(t.overrideTimeoutValue)):n.push(r)}return n},findConnectionByEndpoint:function(e,t){if(this._destroyed)throw new _.CommunicatorDestroyedException;var i=this._instance.defaultsAndOverrides();n.assert(e.length>0);for(var r=0;r<e.length;++r){var o=e[r];if(!this._pending.has(o)){var s=this._connectionsByEndpoint.get(o);if(void 0!==s)for(var c=0;c<s.length;++c)if(s[c].isActiveOrHolding())return i.overrideCompress?t.value=i.overrideCompressValue:t.value=o.compress(),s[c]}}return null},incPendingConnectCount:function(){if(this._destroyed)throw new _.CommunicatorDestroyedException;++this._pendingConnectCount},decPendingConnectCount:function(){--this._pendingConnectCount,n.assert(this._pendingConnectCount>=0),this._destroyed&&0===this._pendingConnectCount&&this.checkFinished()},getConnection:function(e,t,n){if(this._destroyed)throw new _.CommunicatorDestroyedException;var i=this._monitor.swapReapedConnections();if(null!==i)for(var r=0;r<i.length;++r){var o=i[r];this._connectionsByEndpoint.removeConnection(o.endpoint(),o),this._connectionsByEndpoint.removeConnection(o.endpoint().changeCompress(!0),o)}for(;;){if(this._destroyed)throw new _.CommunicatorDestroyedException;var s=this.findConnectionByEndpoint(e,n);if(null!==s)return s;if(this.addToPending(t,e))return null;break}return t.nextEndpoint(),null},createConnection:function(e,i){n.assert(this._pending.has(i)&&null!==e);var r=null;try{if(this._destroyed)throw new _.CommunicatorDestroyedException;r=new t(this._communicator,this._instance,this._monitor,e,i.changeCompress(!1),!1,null)}catch(t){if(t instanceof _.LocalException)try{e.close()}catch(e){}throw t}return this._connectionsByEndpoint.set(r.endpoint(),r),this._connectionsByEndpoint.set(r.endpoint().changeCompress(!0),r),r},finishGetConnection:function(e,t,n,i){var r,o,s=[];null!==i&&s.push(i);var c,a=[];for(r=0;r<e.length;++r){var l=e[r],u=this._pending.get(l);if(void 0!==u){this._pending.del(l);for(var d=0;d<u.length;++d)(o=u[d]).hasEndpoint(t)?-1===s.indexOf(o)&&s.push(o):-1===a.indexOf(o)&&a.push(o)}}for(r=0;r<s.length;++r){(o=s[r]).removeFromPending();var h=a.indexOf(o);-1!==h&&a.splice(h,1)}for(r=0;r<a.length;++r)(o=a[r]).removeFromPending();var f=this._instance.defaultsAndOverrides();for(c=f.overrideCompress?f.overrideCompressValue:t.compress(),r=0;r<a.length;++r)(o=a[r]).getConnection();for(r=0;r<s.length;++r)(o=s[r]).setConnection(n,c);this.checkFinished()},finishGetConnectionEx:function(e,t,i){var r,o,s=[];null!==i&&s.push(i);var c=[];for(r=0;r<e.length;++r){var a=e[r],l=this._pending.get(a);if(void 0!==l){this._pending.del(a);for(var u=0;u<l.length;++u)(o=l[u]).removeEndpoints(e)?-1===s.indexOf(o)&&s.push(o):-1===c.indexOf(o)&&c.push(o)}}for(r=0;r<c.length;++r)o=c[r],n.assert(-1===s.indexOf(o)),o.removeFromPending();for(this.checkFinished(),r=0;r<c.length;++r)(o=c[r]).getConnection();for(r=0;r<s.length;++r)(o=s[r]).setException(t)},addToPending:function(e,t){var n,i,r=!1;if(null!==e)for(i=0;i<t.length;++i){n=t[i];var o=this._pending.get(n);void 0!==o&&(r=!0,-1===o.indexOf(e)&&o.push(e))}if(r)return!0;for(i=0;i<t.length;++i)n=t[i],this._pending.has(n)||this._pending.set(n,[]);return!1},removeFromPending:function(e,t){for(var n=0;n<t.length;++n){var i=t[n],r=this._pending.get(i);if(void 0!==r){var o=r.indexOf(e);-1!==o&&r.splice(o,1)}}},handleConnectionException:function(e,t){var n=this._instance.traceLevels();if(n.retry>=2){var i=[];i.push("connection to endpoint failed"),e instanceof _.CommunicatorDestroyedException?i.push("\n"):t?i.push(", trying next endpoint\n"):i.push(" and no more endpoints to try\n"),i.push(e.toString()),this._instance.initializationData().logger.trace(n.retryCat,i.join(""))}},handleException:function(e,t){var n=this._instance.traceLevels();if(n.retry>=2){var i=[];i.push("couldn't resolve endpoint host"),e instanceof _.CommunicatorDestroyedException?i.push("\n"):t?i.push(", trying next endpoint\n"):i.push(" and no more endpoints to try\n"),i.push(e.toString()),this._instance.initializationData().logger.trace(n.retryCat,i.join(""))}},checkFinished:function(){if(!(!this._waitPromise||!this._destroyed||this._pending.size>0||this._pendingConnectCount>0)){var e=this;r.all(e._connectionsByEndpoint.map((function(e){return e.waitUntilFinished().exception((function(e){n.assert(!1)}))}))).then((function(){var t=e._monitor.swapReapedConnections();if(null!==t){for(var i=[],r=e._connectionsByEndpoint.entries;null!==r;r=r.next)for(var o=r.value,s=0;s<o.length;++s)-1===i.indexOf(o[s])&&i.push(o[s]);n.assert(t.length===i.length),e._connectionsByEndpoint.clear()}else n.assert(0===e._connectionsByEndpoint.size);n.assert(null!==e._waitPromise),e._waitPromise.succeed(),e._monitor.destroy()}))}}});_.OutgoingConnectionFactory=c;var a=s(i,{__init__:function(e){i.call(this,e||i.compareEquals)},set:function(e,r){var o=this.get(e);void 0===o&&(o=[],i.prototype.set.call(this,e,o)),n.assert(r instanceof t),o.push(r)},removeConnection:function(e,t){var i=this.get(e);n.assert(null!==i);var r=i.indexOf(t);n.assert(-1!==r),i.splice(r,1),0===i.length&&this.del(e)},map:function(e){var t=[];return this.forEach((function(n){t.push(e(n))})),t},forEach:function(e){for(var t=this._head;null!==t;t=t._next)for(var n=0;n<t.value.length;++n)e(t.value[n])}}),l=s({__init__:function(e,t,n,i){this._factory=e,this._endpoints=t,this._hasMore=n,this._selType=i,this._promise=new r,this._index=0,this._current=null},connectionStartCompleted:function(e){e.activate(),this._factory.finishGetConnection(this._endpoints,this._current,e,this)},connectionStartFailed:function(e,t){n.assert(null!==this._current),t instanceof _.LocalException?(this._factory.handleConnectionException(t,this._hasMore||this._index<this._endpoints.length),t instanceof _.CommunicatorDestroyedException?this._factory.finishGetConnectionEx(this._endpoints,t,this):this._index<this._endpoints.length?this.nextEndpoint():this._factory.finishGetConnectionEx(this._endpoints,t,this)):this._factory.finishGetConnectionEx(this._endpoints,t,this)},setConnection:function(e,t){this._promise.succeed(e,t),this._factory.decPendingConnectCount()},setException:function(e){this._promise.fail(e),this._factory.decPendingConnectCount()},hasEndpoint:function(e){return-1!==this.findEndpoint(e)},findEndpoint:function(e){for(var t=0;t<this._endpoints.length;++t)if(e.equals(this._endpoints[t]))return t;return-1},removeEndpoints:function(e){for(var t=0;t<e.length;++t){var n=this.findEndpoint(e[t]);-1!==n&&this._endpoints.splice(n,1)}return this._index=0,0===this._endpoints.length},removeFromPending:function(){this._factory.removeFromPending(this,this._endpoints)},start:function(){try{this._factory.incPendingConnectCount()}catch(e){return void this._promise.fail(e)}return this.getConnection(),this._promise},getConnection:function(){try{var e={value:!1},t=this._factory.getConnection(this._endpoints,this,e);if(null===t)return;this._promise.succeed(t,e.value),this._factory.decPendingConnectCount()}catch(e){this._promise.fail(e),this._factory.decPendingConnectCount()}},nextEndpoint:function(){var e=null,t=this._factory._instance.traceLevels();try{n.assert(this._index<this._endpoints.length),this._current=this._endpoints[this._index++],t.network>=2&&((r=[]).push("trying to establish "),r.push(this._current.protocol()),r.push(" connection to "),r.push(this._current.toConnectorString()),this._factory._instance.initializationData().logger.trace(t.networkCat,r.join(""))),e=this._factory.createConnection(this._current.connect(),this._current);var i=this;e.start().then((function(){i.connectionStartCompleted(e)}),(function(t){i.connectionStartFailed(e,t)}))}catch(n){var r;t.network>=2&&((r=[]).push("failed to establish "),r.push(this._current.protocol()),r.push(" connection to "),r.push(this._current.toString()),r.push("\n"),r.push(n.toString()),this._factory._instance.initializationData().logger.trace(t.networkCat,r.join(""))),this.connectionStartFailed(e,n)}}})}(),function(){var e=_.Debug,t=_.HashMap,n=_.Promise,i=_.Protocol,r=_.LocatorRegisterPrx,o=_.Class,s=o({__init__:function(e,n,i){this._locator=e,this._locatorRegistry=null,this._table=n,this._background=i,this._adapterRequests=new t,this._objectRequests=new t(t.compareEquals)},destroy:function(){this._locatorRegistry=null,this._table.clear()},equals:function(e){return this===e||e instanceof s&&this._locator.equals(e._locator)},hashCode:function(){return this._locator.hashCode()},getLocator:function(){return this._locator},getLocatorRegistry:function(){if(null!==this._locatorRegistry)return(new n).succeed(this._locatorRegistry);var e=this;return this._locator.getRegistry().then((function(t){return e._locatorRegistry=r.uncheckedCast(t.ice_locator(null).ice_endpointSelection(_.EndpointSelectionType.Ordered)),e._locatorRegistry}))},getEndpoints:function(t,i,r,o){var s=o||new n;e.assert(t.isIndirect());var c=null,a={value:!1};if(t.isWellKnown()){var l=this._table.getObjectReference(t.getIdentity(),r,a);if(!a.value){if(!this._background||null===l)return this.getObjectRequest(t).addCallback(t,null,r,s),s;this.getObjectRequest(t).addCallback(t,null,r,null)}if(l.isIndirect()){if(!l.isWellKnown())return this.getEndpoints(l,t,r,s),s}else c=l.getEndpoints()}else if(c=this._table.getAdapterEndpoints(t.getAdapterId(),r,a),!a.value){if(!this._background||null===c)return this.getAdapterRequest(t).addCallback(t,i,r,s),s;this.getAdapterRequest(t).addCallback(t,i,r,null)}return e.assert(null!==c),t.getInstance().traceLevels().location>=1&&this.getEndpointsTrace(t,c,!0),s.succeed(c,!0),s},clearCache:function(t){if(e.assert(t.isIndirect()),t.isWellKnown()){var n=this._table.removeObjectReference(t.getIdentity());null!==n&&(n.isIndirect()?n.isWellKnown()||this.clearCache(n):t.getInstance().traceLevels().location>=2&&this.trace("removed endpoints from locator table",t,n.getEndpoints()))}else{var i=this._table.removeAdapterEndpoints(t.getAdapterId());null!==i&&t.getInstance().traceLevels().location>=2&&this.trace("removed endpoints from locator table\n",t,i)}},trace:function(t,n,i){e.assert(n.isIndirect());var r=[];r.push(t),r.push("\n"),n.isWellKnown()?(r.push("object = "),r.push(n.getInstance().identityToString(n.getIdentity())),r.push("\n")):(r.push("adapter = "),r.push(n.getAdapterId()),r.push("\n")),r.push("endpoints = ");for(var o=0;o<i.length;o++)r.push(i[o].toString()),o+1<i.length&&r.push(":");n.getInstance().initializationData().logger.trace(n.getInstance().traceLevels().locationCat,r.join(""))},getEndpointsException:function(t,n){e.assert(t.isIndirect());var i,r,o=t.getInstance();try{throw n}catch(n){if(n instanceof _.AdapterNotFoundException)throw o.traceLevels().location>=1&&((i=[]).push("adapter not found\n"),i.push("adapter = "),i.push(t.getAdapterId()),o.initializationData().logger.trace(o.traceLevels().locationCat,i.join(""))),(r=new _.NotRegisteredException).kindOfObject="object adapter",r.id=t.getAdapterId(),r;if(n instanceof _.ObjectNotFoundException)throw o.traceLevels().location>=1&&((i=[]).push("object not found\n"),i.push("object = "),i.push(o.identityToString(t.getIdentity())),o.initializationData().logger.trace(o.traceLevels().locationCat,i.join(""))),(r=new _.NotRegisteredException).kindOfObject="object",r.id=o.identityToString(t.getIdentity()),r;if(n instanceof _.NotRegisteredException)throw n;if(n instanceof _.LocalException)throw o.traceLevels().location>=1&&((i=[]).push("couldn't contact the locator to retrieve adapter endpoints\n"),t.getAdapterId().length>0?(i.push("adapter = "),i.push(t.getAdapterId()),i.push("\n")):(i.push("object = "),i.push(o.identityToString(t.getIdentity())),i.push("\n")),i.push("reason = "+n.toString()),o.initializationData().logger.trace(o.traceLevels().locationCat,i.join(""))),n;e.assert(!1)}},getEndpointsTrace:function(e,t,n){if(null!==t&&t.length>0)n?this.trace("found endpoints in locator table",e,t):this.trace("retrieved endpoints from locator, adding to locator table",e,t);else{var i=e.getInstance(),r=[];r.push("no endpoints configured for "),e.getAdapterId().length>0?(r.push("adapter\n"),r.push("adapter = "),r.push(e.getAdapterId()),r.push("\n")):(r.push("object\n"),r.push("object = "),r.push(i.identityToString(e.getIdentity())),r.push("\n")),i.initializationData().logger.trace(i.traceLevels().locationCat,r.join(""))}},getAdapterRequest:function(e){if(e.getInstance().traceLevels().location>=1){var t=e.getInstance(),n=[];n.push("searching for adapter by id\n"),n.push("adapter = "),n.push(e.getAdapterId()),t.initializationData().logger.trace(t.traceLevels().locationCat,n.join(""))}var i=this._adapterRequests.get(e.getAdapterId());return void 0!==i||(i=new u(this,e),this._adapterRequests.set(e.getAdapterId(),i)),i},getObjectRequest:function(e){if(e.getInstance().traceLevels().location>=1){var t=e.getInstance(),n=[];n.push("searching for object by id\n"),n.push("object = "),n.push(t.identityToString(e.getIdentity())),t.initializationData().logger.trace(t.traceLevels().locationCat,n.join(""))}var i=this._objectRequests.get(e.getIdentity());return void 0!==i||(i=new l(this,e),this._objectRequests.set(e.getIdentity(),i)),i},finishRequest:function(t,n,i,r){if(null===i||i.__reference().isIndirect())for(var o=0;o<n.length;++o)this._table.removeObjectReference(n[o].getIdentity());t.isWellKnown()?(null===i||i.__reference().isWellKnown()?r&&this._table.removeObjectReference(t.getIdentity()):this._table.addObjectReference(t.getIdentity(),i.__reference()),e.assert(this._objectRequests.has(t.getIdentity())),this._objectRequests.del(t.getIdentity())):(null===i||i.__reference().isIndirect()?r&&this._table.removeAdapterEndpoints(t.getAdapterId()):this._table.addAdapterEndpoints(t.getAdapterId(),i.__reference().getEndpoints()),e.assert(this._adapterRequests.has(t.getAdapterId())),this._adapterRequests.del(t.getAdapterId()))}});_.LocatorInfo=s;var c=o({__init__:function(e,t,n){this._ref=e,this._ttl=t,this._promise=n},response:function(e,t){var n=null;if(null!==t){var r=t.__reference();if(this._ref.isWellKnown()&&!i.isSupported(this._ref.getEncoding(),r.getEncoding()));else if(r.isIndirect()){if(this._ref.isWellKnown()&&!r.isWellKnown()){var o=this;return void e.getEndpoints(r,this._ref,this._ttl).then((function(e,t){null!==o._promise&&o._promise.succeed(e,t)}),(function(e){null!==o._promise&&o._promise.fail(e)}))}}else n=r.getEndpoints()}this._ref.getInstance().traceLevels().location>=1&&e.getEndpointsTrace(this._ref,n,!1),null!==this._promise&&this._promise.succeed(null===n?[]:n,!1)},exception:function(e,t){try{e.getEndpointsException(this._ref,t)}catch(e){null!==this._promise&&this._promise.fail(e)}}}),a=o({__init__:function(e,t){this._locatorInfo=e,this._ref=t,this._callbacks=[],this._wellKnownRefs=[],this._sent=!1,this._response=!1,this._proxy=null,this._exception=null},addCallback:function(e,t,n,i){var r=new c(e,n,i);this._response?r.response(this._locatorInfo,this._proxy):null!==this._exception?r.exception(this._locatorInfo,this._exception):(this._callbacks.push(r),null!==t&&this._wellKnownRefs.push(t),this._sent||(this._sent=!0,this.send()))},response:function(e){this._locatorInfo.finishRequest(this._ref,this._wellKnownRefs,e,!1),this._response=!0,this._proxy=e;for(var t=0;t<this._callbacks.length;++t)this._callbacks[t].response(this._locatorInfo,e)},exception:function(e){this._locatorInfo.finishRequest(this._ref,this._wellKnownRefs,null,e instanceof _.UserException),this._exception=e;for(var t=0;t<this._callbacks.length;++t)this._callbacks[t].exception(this._locatorInfo,e)}}),l=o(a,{__init__:function(t,n){a.call(this,t,n),e.assert(n.isWellKnown())},send:function(){try{var e=this;this._locatorInfo.getLocator().findObjectById(this._ref.getIdentity()).then((function(t){e.response(t)}),(function(t){e.exception(t)}))}catch(e){this.exception(e)}}}),u=o(a,{__init__:function(t,n){a.call(this,t,n),e.assert(n.isIndirect())},send:function(){try{var e=this;this._locatorInfo.getLocator().findAdapterById(this._ref.getAdapterId()).then((function(t){e.response(t)}),(function(t){e.exception(t)}))}catch(e){this.exception(e)}}})}(),function(){var e=_.AsyncResultBase,t=_.Debug,n=_.Identity,i=(_.Promise,_.PropertyNames),r=_.ServantManager,o=(_.StringUtil,["ACM","AdapterId","Endpoints","Locator","Locator.EncodingVersion","Locator.EndpointSelection","Locator.ConnectionCached","Locator.PreferSecure","Locator.CollocationOptimized","Locator.Router","MessageSizeMax","PublishedEndpoints","ReplicaGroupId","Router","Router.EncodingVersion","Router.EndpointSelection","Router.ConnectionCached","Router.PreferSecure","Router.CollocationOptimized","Router.Locator","Router.Locator.EndpointSelection","Router.Locator.ConnectionCached","Router.Locator.PreferSecure","Router.Locator.CollocationOptimized","Router.Locator.LocatorCacheTimeout","Router.Locator.InvocationTimeout","Router.LocatorCacheTimeout","Router.InvocationTimeout","ProxyOptions","ThreadPool.Size","ThreadPool.SizeMax","ThreadPool.SizeWarn","ThreadPool.StackSize","ThreadPool.Serialize"]),s=_.Class({__init__:function(e,n,i,o,s,c,a){if(this._instance=e,this._communicator=n,this._objectAdapterFactory=i,this._servantManager=new r(e,o),this._name=o,this._routerEndpoints=[],this._routerInfo=null,this._state=0,this._noConfig=c,this._noConfig)return this._reference=this._instance.referenceFactory().createFromString("dummy -t",""),this._messageSizeMax=this._instance.messageSizeMax(),void a.succeed(this,a);var l=this._instance.initializationData().properties,u=[],d=this.filterProperties(u);if(0!==u.length&&l.getPropertyAsIntWithDefault("Ice.Warn.UnknownProperties",1)>0){for(var h=["found unknown properties for object adapter `"+o+"':"],f=0;f<u.length;++f)h.push("\n    "+u[f]);this._instance.initializationData().logger.warning(h.join(""))}if(null===s&&d)throw(g=new _.InitializationException).reason="object adapter `"+this._name+"' requires configuration",g;var p=l.getPropertyWithDefault(this._name+".ProxyOptions","-t");try{this._reference=this._instance.referenceFactory().createFromString("dummy "+p,"")}catch(e){var g;if(e instanceof _.ProxyParseException)throw(g=new _.InitializationException).reason="invalid proxy options `"+p+"' for object adapter `"+o+"'",g;throw e}var y=this._instance.messageSizeMax()/1024,C=l.getPropertyAsIntWithDefault(this._name+".MessageSizeMax",y);this._messageSizeMax=C<1||C>2147483647/1024?2147483647:1024*C;try{if(null===s&&(s=_.RouterPrx.uncheckedCast(this._instance.proxyFactory().propertyToProxy(this._name+".Router"))),null!==s){if(this._routerInfo=this._instance.routerManager().find(s),t.assert(null!==this._routerInfo),null!==this._routerInfo.getAdapter())throw new _.AlreadyRegisteredException("object adapter with router",this._instance.identityToString(s.ice_getIdentity()));var v=this;this._routerInfo.getServerEndpoints().then((function(e){var t;for(t=0;t<e.length;++t)v._routerEndpoints.push(e[t]);for(v._routerEndpoints.sort((function(e,t){return e.compareTo(t)})),t=0;t<v._routerEndpoints.length-1;){var n=v._routerEndpoints[t],i=v._routerEndpoints[t+1];n.equals(i)?v._routerEndpoints.splice(t,1):++t}return v._routerInfo.setAdapter(v),v._instance.outgoingConnectionFactory().setRouterInfo(v._routerInfo)})).then((function(){a.succeed(v,a)}),(function(e){a.fail(e,a)}))}else{if(l.getProperty(this._name+".Endpoints").length>0)throw new _.FeatureNotSupportedException("object adapter endpoints not supported");a.succeed(this,a)}}catch(g){throw this.destroy(),g}},getName:function(){return this._noConfig?"":this._name},getCommunicator:function(){return this._communicator},activate:function(){},hold:function(){this.checkForDeactivation()},waitForHold:function(){var t=new e(this._communicator,"waitForHold",null,null,this);return this.checkForDeactivation(t)?t:t.succeed(t)},deactivate:function(){var t=new e(this._communicator,"deactivate",null,null,this);return this._state<5&&(this._state=5,this._instance.outgoingConnectionFactory().removeAdapter(this)),t.succeed(t)},waitForDeactivate:function(){var t=new e(this._communicator,"deactivate",null,null,this);return t.succeed(t)},isDeactivated:function(){return this._state>=5},destroy:function(){var t=new e(this._communicator,"destroy",null,null,this),n=this,i=function(){return n._state<6&&(n._state=6,n._servantManager.destroy(),n._objectAdapterFactory.removeObjectAdapter(n)),t.succeed(t)};return this._state<5?this.deactivate().then(i):i()},add:function(e,t){return this.addFacet(e,t,"")},addFacet:function(e,t,n){this.checkForDeactivation(),this.checkIdentity(t),this.checkServant(e);var i=t.clone();return this._servantManager.addServant(e,i,n),this.newProxy(i,n)},addWithUUID:function(e){return this.addFacetWithUUID(e,"")},addFacetWithUUID:function(e,t){return this.addFacet(e,new n(_.generateUUID(),""),t)},addDefaultServant:function(e,t){this.checkServant(e),this.checkForDeactivation(),this._servantManager.addDefaultServant(e,t)},remove:function(e){return this.removeFacet(e,"")},removeFacet:function(e,t){return this.checkForDeactivation(),this.checkIdentity(e),this._servantManager.removeServant(e,t)},removeAllFacets:function(e){return this.checkForDeactivation(),this.checkIdentity(e),this._servantManager.removeAllFacets(e)},removeDefaultServant:function(e){return this.checkForDeactivation(),this._servantManager.removeDefaultServant(e)},find:function(e){return this.findFacet(e,"")},findFacet:function(e,t){return this.checkForDeactivation(),this.checkIdentity(e),this._servantManager.findServant(e,t)},findAllFacets:function(e){return this.checkForDeactivation(),this.checkIdentity(e),this._servantManager.findAllFacets(e)},findByProxy:function(e){this.checkForDeactivation();var t=e.__reference();return this.findFacet(t.getIdentity(),t.getFacet())},findDefaultServant:function(e){return this.checkForDeactivation(),this._servantManager.findDefaultServant(e)},addServantLocator:function(e,t){this.checkForDeactivation(),this._servantManager.addServantLocator(e,t)},removeServantLocator:function(e){return this.checkForDeactivation(),this._servantManager.removeServantLocator(e)},findServantLocator:function(e){return this.checkForDeactivation(),this._servantManager.findServantLocator(e)},createProxy:function(e){return this.checkForDeactivation(),this.checkIdentity(e),this.newProxy(e,"")},createDirectProxy:function(e){return this.createProxy(e)},createIndirectProxy:function(e){throw new _.FeatureNotSupportedException("setLocator not supported")},setLocator:function(e){throw new _.FeatureNotSupportedException("setLocator not supported")},refreshPublishedEndpoints:function(){throw new _.FeatureNotSupportedException("refreshPublishedEndpoints not supported")},getEndpoints:function(){return[]},getPublishedEndpoints:function(){return[]},getServantManager:function(){return this._servantManager},messageSizeMax:function(){return this._messageSizeMax},newProxy:function(e,t){for(var n=[],i=0;i<this._routerEndpoints.length;++i)n.push(this._routerEndpoints[i]);var r=this._instance.referenceFactory().create(e,t,this._reference,n);return this._instance.proxyFactory().referenceToProxy(r)},checkForDeactivation:function(e){if(this._state>=5){var t=new _.ObjectAdapterDeactivatedException;if(t.name=this.getName(),void 0!==e)return e.fail(t,e),!0;throw t}return!1},checkIdentity:function(e){if(void 0===e.name||null===e.name||0===e.name.length)throw new _.IllegalIdentityException(e);void 0!==e.category&&null!==e.category||(e.category="")},checkServant:function(e){if(null==e)throw new _.IllegalServantException("cannot add null servant to Object Adapter")},filterProperties:function(e){var t,n=!0,r=this._name+".";for(t=0;t<i.clPropNames.length;++t)if(0===r.indexOf(i.clPropNames[t]+".")){n=!1;break}for(var s=!0,c=this._instance.initializationData().properties.getPropertiesForPrefix(r).entries;null!==c;c=c.next){var a=!1;for(t=0;t<o.length;++t)if(c.key===r+o[t]){s=!1,a=!0;break}!a&&n&&e.push(c.key)}return s}});_.ObjectAdapterI=s}(),function(){var e=_.HashMap,t=_.LocatorInfo,n=_.LocatorTable,i=_.LocatorPrx,r=_.Class({__init__:function(t){this._background=t.getPropertyAsInt("Ice.BackgroundLocatorCacheUpdates")>0,this._table=new e(e.compareEquals),this._locatorTables=new e(e.compareEquals)},destroy:function(){for(var e=this._table.entries;null!==e;e=e.next)e.value.destroy();this._table.clear(),this._locatorTables.clear()},find:function(e){if(null===e)return null;var r=i.uncheckedCast(e.ice_locator(null)),o=this._table.get(r);if(void 0===o){var s=this._locatorTables.get(r.ice_getIdentity());void 0===s&&(s=new n,this._locatorTables.set(r.ice_getIdentity(),s)),o=new t(r,s,this._background),this._table.set(r,o)}return o}});_.LocatorManager=r}(),function(){_.AsyncResultBase;var e=_.ObjectAdapterI,t=_.Promise,n=_.Class({__init__:function(e,n){this._instance=e,this._communicator=n,this._adapters=[],this._adapterNamesInUse=[],this._shutdownPromise=new t},shutdown:function(){return null===this._instance||(this._instance=null,this._communicator=null,this._shutdownPromise=t.all(this._adapters.map((function(e){return e.deactivate()})))),this._shutdownPromise},waitForShutdown:function(){var e=this;return this._shutdownPromise.then((function(){return t.all(e._adapters.map((function(e){return e.waitForDeactivate()})))}))},isShutdown:function(){return null===this._instance},destroy:function(){var e=this;return this.waitForShutdown().then((function(){return t.all(e._adapters.map((function(e){return e.destroy()})))}))},createObjectAdapter:function(t,n,i){if(null===this._instance)throw new _.ObjectAdapterDeactivatedException;var r=null;try{if(0===t.length){var o=_.generateUUID();r=new e(this._instance,this._communicator,this,o,null,!0,i)}else{if(-1!==this._adapterNamesInUse.indexOf(t))throw new _.AlreadyRegisteredException("object adapter",t);r=new e(this._instance,this._communicator,this,t,n,!1,i),this._adapterNamesInUse.push(t)}this._adapters.push(r)}catch(e){i.fail(e,i)}},removeObjectAdapter:function(e){if(null!==this._instance){var t=this._adapters.indexOf(e);-1!==t&&this._adapters.splice(t,1),-1!==(t=this._adapterNamesInUse.indexOf(e.getName()))&&this._adapterNamesInUse.splice(t,1)}}});_.ObjectAdapterFactory=n}(),g.defineDictionary(C,"StringIntDict","StringIntDictHelper","Ice.StringHelper","Ice.IntHelper",!1,void 0,void 0),C.Metrics=g.defineObject((function(e,t,n,i,r){_.Object.call(this),this.id=void 0!==e?e:"",this.total=void 0!==t?t:new _.Long(0,0),this.current=void 0!==n?n:0,this.totalLifetime=void 0!==i?i:new _.Long(0,0),this.failures=void 0!==r?r:0}),_.Object,void 0,1,["::Ice::Object","::IceMX::Metrics"],-1,(function(e){e.writeString(this.id),e.writeLong(this.total),e.writeInt(this.current),e.writeLong(this.totalLifetime),e.writeInt(this.failures)}),(function(e){this.id=e.readString(),this.total=e.readLong(),this.current=e.readInt(),this.totalLifetime=e.readLong(),this.failures=e.readInt()}),!1),C.MetricsPrx=g.defineProxy(_.ObjectPrx,C.Metrics.ice_staticId,void 0),g.defineOperations(C.Metrics,C.MetricsPrx),C.MetricsFailures=g.defineStruct((function(e,t){this.id=void 0!==e?e:"",this.failures=void 0!==t?t:null}),!1,(function(e){e.writeString(this.id),C.StringIntDictHelper.write(e,this.failures)}),(function(e){this.id=e.readString(),this.failures=C.StringIntDictHelper.read(e)}),2,!1),g.defineSequence(C,"MetricsFailuresSeqHelper","IceMX.MetricsFailures",!1),g.defineSequence(C,"MetricsMapHelper","Ice.ObjectHelper",!1,"IceMX.Metrics"),g.defineDictionary(C,"MetricsView","MetricsViewHelper","Ice.StringHelper","IceMX.MetricsMapHelper",!1,void 0,void 0,_.ArrayUtil.equals),C.UnknownMetricsView=g.defineUserException((function(e){_.UserException.call(this,e)}),_.UserException,"IceMX::UnknownMetricsView",void 0,void 0,!1,!1),C.MetricsAdmin=g.defineObject(void 0,_.Object,void 0,1,["::Ice::Object","::IceMX::MetricsAdmin"],-1,void 0,void 0,!1),C.MetricsAdminPrx=g.defineProxy(_.ObjectPrx,C.MetricsAdmin.ice_staticId,void 0),g.defineOperations(C.MetricsAdmin,C.MetricsAdminPrx,{getMetricsViewNames:[,,,,2,["Ice.StringSeqHelper"],,[["Ice.StringSeqHelper"]],,,],enableMetricsView:[,,,,2,,[[7]],,[C.UnknownMetricsView],,],disableMetricsView:[,,,,2,,[[7]],,[C.UnknownMetricsView],,],getMetricsView:[,,,,2,["IceMX.MetricsViewHelper"],[[7]],[[4]],[C.UnknownMetricsView],,!0],getMapMetricsFailures:[,,,,2,["IceMX.MetricsFailuresSeqHelper"],[[7],[7]],,[C.UnknownMetricsView],,],getMetricsFailures:[,,,,2,[C.MetricsFailures],[[7],[7],[7]],,[C.UnknownMetricsView],,]}),C.ThreadMetrics=g.defineObject((function(e,t,n,i,r,o,s,c){C.Metrics.call(this,e,t,n,i,r),this.inUseForIO=void 0!==o?o:0,this.inUseForUser=void 0!==s?s:0,this.inUseForOther=void 0!==c?c:0}),C.Metrics,void 0,2,["::Ice::Object","::IceMX::Metrics","::IceMX::ThreadMetrics"],-1,(function(e){e.writeInt(this.inUseForIO),e.writeInt(this.inUseForUser),e.writeInt(this.inUseForOther)}),(function(e){this.inUseForIO=e.readInt(),this.inUseForUser=e.readInt(),this.inUseForOther=e.readInt()}),!1),C.ThreadMetricsPrx=g.defineProxy(C.MetricsPrx,C.ThreadMetrics.ice_staticId,void 0),g.defineOperations(C.ThreadMetrics,C.ThreadMetricsPrx),C.DispatchMetrics=g.defineObject((function(e,t,n,i,r,o,s,c){C.Metrics.call(this,e,t,n,i,r),this.userException=void 0!==o?o:0,this.size=void 0!==s?s:new _.Long(0,0),this.replySize=void 0!==c?c:new _.Long(0,0)}),C.Metrics,void 0,1,["::Ice::Object","::IceMX::DispatchMetrics","::IceMX::Metrics"],-1,(function(e){e.writeInt(this.userException),e.writeLong(this.size),e.writeLong(this.replySize)}),(function(e){this.userException=e.readInt(),this.size=e.readLong(),this.replySize=e.readLong()}),!1),C.DispatchMetricsPrx=g.defineProxy(C.MetricsPrx,C.DispatchMetrics.ice_staticId,void 0),g.defineOperations(C.DispatchMetrics,C.DispatchMetricsPrx),C.ChildInvocationMetrics=g.defineObject((function(e,t,n,i,r,o,s){C.Metrics.call(this,e,t,n,i,r),this.size=void 0!==o?o:new _.Long(0,0),this.replySize=void 0!==s?s:new _.Long(0,0)}),C.Metrics,void 0,1,["::Ice::Object","::IceMX::ChildInvocationMetrics","::IceMX::Metrics"],-1,(function(e){e.writeLong(this.size),e.writeLong(this.replySize)}),(function(e){this.size=e.readLong(),this.replySize=e.readLong()}),!1),C.ChildInvocationMetricsPrx=g.defineProxy(C.MetricsPrx,C.ChildInvocationMetrics.ice_staticId,void 0),g.defineOperations(C.ChildInvocationMetrics,C.ChildInvocationMetricsPrx),C.CollocatedMetrics=g.defineObject((function(e,t,n,i,r,o,s){C.ChildInvocationMetrics.call(this,e,t,n,i,r,o,s)}),C.ChildInvocationMetrics,void 0,2,["::Ice::Object","::IceMX::ChildInvocationMetrics","::IceMX::CollocatedMetrics","::IceMX::Metrics"],-1,void 0,void 0,!1),C.CollocatedMetricsPrx=g.defineProxy(C.ChildInvocationMetricsPrx,C.CollocatedMetrics.ice_staticId,void 0),g.defineOperations(C.CollocatedMetrics,C.CollocatedMetricsPrx),C.RemoteMetrics=g.defineObject((function(e,t,n,i,r,o,s){C.ChildInvocationMetrics.call(this,e,t,n,i,r,o,s)}),C.ChildInvocationMetrics,void 0,3,["::Ice::Object","::IceMX::ChildInvocationMetrics","::IceMX::Metrics","::IceMX::RemoteMetrics"],-1,void 0,void 0,!1),C.RemoteMetricsPrx=g.defineProxy(C.ChildInvocationMetricsPrx,C.RemoteMetrics.ice_staticId,void 0),g.defineOperations(C.RemoteMetrics,C.RemoteMetricsPrx),C.InvocationMetrics=g.defineObject((function(e,t,n,i,r,o,s,c,a){C.Metrics.call(this,e,t,n,i,r),this.retry=void 0!==o?o:0,this.userException=void 0!==s?s:0,this.remotes=void 0!==c?c:null,this.collocated=void 0!==a?a:null}),C.Metrics,void 0,1,["::Ice::Object","::IceMX::InvocationMetrics","::IceMX::Metrics"],-1,(function(e){e.writeInt(this.retry),e.writeInt(this.userException),C.MetricsMapHelper.write(e,this.remotes),C.MetricsMapHelper.write(e,this.collocated)}),(function(e){this.retry=e.readInt(),this.userException=e.readInt(),this.remotes=C.MetricsMapHelper.read(e),this.collocated=C.MetricsMapHelper.read(e)}),!1),C.InvocationMetricsPrx=g.defineProxy(C.MetricsPrx,C.InvocationMetrics.ice_staticId,void 0),g.defineOperations(C.InvocationMetrics,C.InvocationMetricsPrx),C.ConnectionMetrics=g.defineObject((function(e,t,n,i,r,o,s){C.Metrics.call(this,e,t,n,i,r),this.receivedBytes=void 0!==o?o:new _.Long(0,0),this.sentBytes=void 0!==s?s:new _.Long(0,0)}),C.Metrics,void 0,1,["::Ice::Object","::IceMX::ConnectionMetrics","::IceMX::Metrics"],-1,(function(e){e.writeLong(this.receivedBytes),e.writeLong(this.sentBytes)}),(function(e){this.receivedBytes=e.readLong(),this.sentBytes=e.readLong()}),!1),C.ConnectionMetricsPrx=g.defineProxy(C.MetricsPrx,C.ConnectionMetrics.ice_staticId,void 0),g.defineOperations(C.ConnectionMetrics,C.ConnectionMetricsPrx),function(){_.Debug;var e=_.HashMap,t=_.ConnectRequestHandler,n=_.Class({__init__:function(t){this._instance=t,this._handlers=new e(e.compareEquals)},getRequestHandler:function(e,n){var i,r=!1;return e.getCacheConnection()?(i=this._handlers.get(e))||(i=new t(e,n),this._handlers.set(e,i),r=!0):(r=!0,i=new t(e,n)),r&&e.getConnection().then((function(e,t){i.setConnection(e,t)}),(function(e){i.setException(e)})),n.__setRequestHandler(i.connect(n))},removeRequestHandler:function(e,t){e.getCacheConnection()&&this._handlers.get(e)===t&&this._handlers.del(e)}});_.RequestHandlerFactory=n}(),_.Process=g.defineObject(void 0,_.Object,void 0,1,["::Ice::Object","::Ice::Process"],-1,void 0,void 0,!1),_.ProcessPrx=g.defineProxy(_.ObjectPrx,_.Process.ice_staticId,void 0),g.defineOperations(_.Process,_.ProcessPrx,{shutdown:[,,,,,,,,,,],writeMessage:[,,,,,,[[7],[3]],,,,]}),te=_.TcpEndpointI,ne=_.Class({__init__:function(e){this._instance=e},type:function(){return this._instance.type()},protocol:function(){return this._instance.protocol()},create:function(e,t){var n=new te(this._instance);return n.initWithOptions(e,t),n},read:function(e){var t=new te(this._instance);return t.initWithStream(e),t},destroy:function(){this._instance=null},clone:function(e){return new ne(e)}}),_.TcpEndpointFactory=ne,g.defineDictionary(_,"PropertyDict","PropertyDictHelper","Ice.StringHelper","Ice.StringHelper",!1,void 0,void 0),_.PropertiesAdmin=g.defineObject(void 0,_.Object,void 0,1,["::Ice::Object","::Ice::PropertiesAdmin"],-1,void 0,void 0,!1),_.PropertiesAdminPrx=g.defineProxy(_.ObjectPrx,_.PropertiesAdmin.ice_staticId,void 0),g.defineOperations(_.PropertiesAdmin,_.PropertiesAdminPrx,{getProperty:[,,,,,[7],[[7]],,,,],getPropertiesForPrefix:[,,,,,["Ice.PropertyDictHelper"],[[7]],,,,],setProperties:[,,,1,,,[["Ice.PropertyDictHelper"]],,,,]}),_.LogMessageType=g.defineEnum([["PrintMessage",0],["TraceMessage",1],["WarningMessage",2],["ErrorMessage",3]]),g.defineSequence(_,"LogMessageTypeSeqHelper","Ice.LogMessageType.__helper",!1),_.LogMessage=g.defineStruct((function(e,t,n,i){this.type=void 0!==e?e:_.LogMessageType.PrintMessage,this.timestamp=void 0!==t?t:0,this.traceCategory=void 0!==n?n:"",this.message=void 0!==i?i:""}),!0,(function(e){_.LogMessageType.__write(e,this.type),e.writeLong(this.timestamp),e.writeString(this.traceCategory),e.writeString(this.message)}),(function(e){this.type=_.LogMessageType.__read(e),this.timestamp=e.readLong(),this.traceCategory=e.readString(),this.message=e.readString()}),11,!1),g.defineSequence(_,"LogMessageSeqHelper","Ice.LogMessage",!1),_.RemoteLogger=g.defineObject(void 0,_.Object,void 0,1,["::Ice::Object","::Ice::RemoteLogger"],-1,void 0,void 0,!1),_.RemoteLoggerPrx=g.defineProxy(_.ObjectPrx,_.RemoteLogger.ice_staticId,void 0),g.defineOperations(_.RemoteLogger,_.RemoteLoggerPrx,{init:[,,,,,,[[7],["Ice.LogMessageSeqHelper"]],,,,],log:[,,,,,,[[_.LogMessage]],,,,]}),_.RemoteLoggerAlreadyAttachedException=g.defineUserException((function(e){_.UserException.call(this,e)}),_.UserException,"Ice::RemoteLoggerAlreadyAttachedException",void 0,void 0,!1,!1),_.LoggerAdmin=g.defineObject(void 0,_.Object,void 0,0,["::Ice::LoggerAdmin","::Ice::Object"],-1,void 0,void 0,!1),_.LoggerAdminPrx=g.defineProxy(_.ObjectPrx,_.LoggerAdmin.ice_staticId,void 0),g.defineOperations(_.LoggerAdmin,_.LoggerAdminPrx,{attachRemoteLogger:[,,,,,,[["Ice.RemoteLoggerPrx"],["Ice.LogMessageTypeSeqHelper"],["Ice.StringSeqHelper"],[3]],,[_.RemoteLoggerAlreadyAttachedException],,],detachRemoteLogger:[,,,,,[1],[["Ice.RemoteLoggerPrx"]],,,,],getLog:[,,,,,["Ice.LogMessageSeqHelper"],[["Ice.LogMessageTypeSeqHelper"],["Ice.StringSeqHelper"],[3]],[[7]],,,]}),ie=_.WSEndpoint,re=_.Class({__init__:function(e,t){this._instance=e,this._delegate=t},type:function(){return this._instance.type()},protocol:function(){return this._instance.protocol()},create:function(e,t){var n=new ie(this._instance,this._delegate.create(e,t));return n.initWithOptions(e),n},read:function(e){var t=new ie(this._instance,this._delegate.read(e));return t.initWithStream(e),t},destroy:function(){this._delegate.destroy(),this._instance=null}}),_.WSEndpointFactory=re,g.defineDictionary(_,"SliceChecksumDict","SliceChecksumDictHelper","Ice.StringHelper","Ice.StringHelper",!1,void 0,void 0),function(){var e=_.AsyncResultBase,t=_.Debug,n=_.DefaultsAndOverrides,i=_.EndpointFactoryManager,r=(_.HashMap,_.ImplicitContextI),o=_.LocatorManager,s=(_.Logger,_.ObjectAdapterFactory),c=_.ObjectFactoryManager,a=_.OutgoingConnectionFactory,l=(_.Promise,_.Properties),u=_.ProxyFactory,d=_.RetryQueue,h=_.RouterManager,f=_.Timer,p=_.TraceLevels,g=_.ReferenceFactory,C=_.RequestHandlerFactory,v=_.ACMConfig,m=_.Class({__init__:function(e){this._state=0,this._initData=e,this._traceLevels=null,this._defaultsAndOverrides=null,this._messageSizeMax=0,this._batchAutoFlushSize=0,this._clientACM=null,this._implicitContext=null,this._routerManager=null,this._locatorManager=null,this._referenceFactory=null,this._requestHandlerFactory=null,this._proxyFactory=null,this._outgoingConnectionFactory=null,this._servantFactoryManager=null,this._objectAdapterFactory=null,this._retryQueue=null,this._endpointHostResolver=null,this._endpointFactoryManager=null},initializationData:function(){return this._initData},traceLevels:function(){return t.assert(null!==this._traceLevels),this._traceLevels},defaultsAndOverrides:function(){return t.assert(null!==this._defaultsAndOverrides),this._defaultsAndOverrides},routerManager:function(){if(2===this._state)throw new _.CommunicatorDestroyedException;return t.assert(null!==this._routerManager),this._routerManager},locatorManager:function(){if(2===this._state)throw new _.CommunicatorDestroyedException;return t.assert(null!==this._locatorManager),this._locatorManager},referenceFactory:function(){if(2===this._state)throw new _.CommunicatorDestroyedException;return t.assert(null!==this._referenceFactory),this._referenceFactory},requestHandlerFactory:function(){if(2===this._state)throw new _.CommunicatorDestroyedException;return t.assert(null!==this._requestHandlerFactory),this._requestHandlerFactory},proxyFactory:function(){if(2===this._state)throw new _.CommunicatorDestroyedException;return t.assert(null!==this._proxyFactory),this._proxyFactory},outgoingConnectionFactory:function(){if(2===this._state)throw new _.CommunicatorDestroyedException;return t.assert(null!==this._outgoingConnectionFactory),this._outgoingConnectionFactory},servantFactoryManager:function(){if(2===this._state)throw new _.CommunicatorDestroyedException;return t.assert(null!==this._servantFactoryManager),this._servantFactoryManager},objectAdapterFactory:function(){if(2===this._state)throw new _.CommunicatorDestroyedException;return t.assert(null!==this._objectAdapterFactory),this._objectAdapterFactory},retryQueue:function(){if(2===this._state)throw new _.CommunicatorDestroyedException;return t.assert(null!==this._retryQueue),this._retryQueue},timer:function(){if(2===this._state)throw new _.CommunicatorDestroyedException;return t.assert(null!==this._timer),this._timer},endpointFactoryManager:function(){if(2===this._state)throw new _.CommunicatorDestroyedException;return t.assert(null!==this._endpointFactoryManager),this._endpointFactoryManager},messageSizeMax:function(){return this._messageSizeMax},batchAutoFlushSize:function(){return this._batchAutoFlushSize},clientACM:function(){return this._clientACM},getImplicitContext:function(){return this._implicitContext},stringToIdentity:function(e){return _.stringToIdentity(e)},identityToString:function(e){return _.identityToString(e)},setDefaultLocator:function(e){if(2==this._state)throw new _.CommunicatorDestroyedException;this._referenceFactory=this._referenceFactory.setDefaultLocator(e)},setDefaultRouter:function(e){if(2==this._state)throw new _.CommunicatorDestroyedException;this._referenceFactory=this._referenceFactory.setDefaultRouter(e)},setLogger:function(e){this._initData.logger=e},finishSetup:function(e,t){try{null===this._initData.properties&&(this._initData.properties=l.createProperties()),void 0===_.__oneOfDone&&(_.__printStackTraces=this._initData.properties.getPropertyAsIntWithDefault("Ice.PrintStackTraces",0)>0,_.__oneOfDone=!0),null===this._initData.logger&&(this._initData.logger=_.getProcessLogger()),this._traceLevels=new p(this._initData.properties),this._defaultsAndOverrides=new n(this._initData.properties,this._initData.logger);var m=this._initData.properties.getPropertyAsIntWithDefault("Ice.MessageSizeMax",1024);this._messageSizeMax=m<1||m>2147483647/1024?2147483647:1024*m,0===this._initData.properties.getProperty("Ice.BatchAutoFlushSize").length&&this._initData.properties.getProperty("Ice.BatchAutoFlush").length>0?this._initData.properties.getPropertyAsInt("Ice.BatchAutoFlush")>0&&(this._batchAutoFlushSize=this._messageSizeMax):(m=this._initData.properties.getPropertyAsIntWithDefault("Ice.BatchAutoFlushSize",1024),this._batchAutoFlushSize=m<1?m:m>2147483647/1024?2147483647:1024*m),this._clientACM=new v(this._initData.properties,this._initData.logger,"Ice.ACM.Client",new v(this._initData.properties,this._initData.logger,"Ice.ACM",new v)),this._implicitContext=r.create(this._initData.properties.getProperty("Ice.ImplicitContext")),this._routerManager=new h,this._locatorManager=new o(this._initData.properties),this._referenceFactory=new g(this,e),this._requestHandlerFactory=new C(this,e),this._proxyFactory=new u(this),this._endpointFactoryManager=new i(this);var S=new _.ProtocolInstance(this,_.TCPEndpointType,"tcp",!1),I=new _.TcpEndpointFactory(S);this._endpointFactoryManager.add(I);var E=new _.ProtocolInstance(this,_.WSEndpointType,"ws",!1),b=new _.WSEndpointFactory(E,I.clone(E));this._endpointFactoryManager.add(b);var R=new _.ProtocolInstance(this,y.EndpointType,"ssl",!0),w=new _.TcpEndpointFactory(R);this._endpointFactoryManager.add(w);var x=new _.ProtocolInstance(this,_.WSSEndpointType,"wss",!0),P=new _.WSEndpointFactory(x,w.clone(x));this._endpointFactoryManager.add(P),this._outgoingConnectionFactory=new a(e,this),this._servantFactoryManager=new c,this._objectAdapterFactory=new s(this,e),this._retryQueue=new d(this),this._timer=new f(this._initData.logger);var D=_.RouterPrx.uncheckedCast(this._proxyFactory.propertyToProxy("Ice.Default.Router"));null!==D&&(this._referenceFactory=this._referenceFactory.setDefaultRouter(D));var O=_.LocatorPrx.uncheckedCast(this._proxyFactory.propertyToProxy("Ice.Default.Locator"));null!==O&&(this._referenceFactory=this._referenceFactory.setDefaultLocator(O)),null!==t&&t.succeed(e)}catch(e){if(null===t)throw e instanceof _.LocalException&&this.destroy(),e;e instanceof _.LocalException?this.destroy().finally2((function(){t.fail(e)})):t.fail(e)}},destroy:function(){var t=new e(null,"destroy",null,this,null);if(1==this._state)return this._destroyPromises||(this._destroyPromises=[]),this._destroyPromises.push(t),t;this._state=1;var n=this;return _.Promise.try2((function(){if(n._objectAdapterFactory)return n._objectAdapterFactory.shutdown()})).then((function(){if(null!==n._outgoingConnectionFactory&&n._outgoingConnectionFactory.destroy(),null!==n._objectAdapterFactory)return n._objectAdapterFactory.destroy()})).then((function(){if(null!==n._outgoingConnectionFactory)return n._outgoingConnectionFactory.waitUntilFinished()})).then((function(){var e;if(n._retryQueue&&n._retryQueue.destroy(),n._timer&&n._timer.destroy(),n._servantFactoryManager&&n._servantFactoryManager.destroy(),n._routerManager&&n._routerManager.destroy(),n._locatorManager&&n._locatorManager.destroy(),n._endpointFactoryManager&&n._endpointFactoryManager.destroy(),n._initData.properties.getPropertyAsInt("Ice.Warn.UnusedProperties")>0){var i=n._initData.properties.getUnusedProperties();if(i.length>0){var r=[];for(r.push("The following properties were set but never read:"),e=0;e<i.length;++e)r.push("\n    "),r.push(i[e]);n._initData.logger.warning(r.join(""))}}if(n._objectAdapterFactory=null,n._outgoingConnectionFactory=null,n._retryQueue=null,n._timer=null,n._servantFactoryManager=null,n._referenceFactory=null,n._requestHandlerFactory=null,n._proxyFactory=null,n._routerManager=null,n._locatorManager=null,n._endpointFactoryManager=null,n._state=2,this._destroyPromises)for(e=0;e<this._destroyPromises.length;++e)this._destroyPromises[e].succeed(this._destroyPromises[e]);t.succeed(t)})).exception((function(e){if(this._destroyPromises)for(var n=0;n<this._destroyPromises.length;++n)this._destroyPromises[n].fail(e,this._destroyPromises[n]);t.fail(e,t)})),t}});_.Instance=m}(),oe=_.Instance,_.Promise,se=_.Class({__init__:function(e){this._instance=new oe(e)},finishSetup:function(e){this._instance.finishSetup(this,e)},destroy:function(){return this._instance.destroy()},shutdown:function(){this._instance.objectAdapterFactory().shutdown()},waitForShutdown:function(){return this._instance.objectAdapterFactory().waitForShutdown()},isShutdown:function(){return this._instance.objectAdapterFactory().isShutdown()},stringToProxy:function(e){return this._instance.proxyFactory().stringToProxy(e)},proxyToString:function(e){return this._instance.proxyFactory().proxyToString(e)},propertyToProxy:function(e){return this._instance.proxyFactory().propertyToProxy(e)},proxyToProperty:function(e,t){return this._instance.proxyFactory().proxyToProperty(e,t)},stringToIdentity:function(e){return this._instance.stringToIdentity(e)},identityToString:function(e){return this._instance.identityToString(e)},createObjectAdapter:function(e){var t=new _.AsyncResultBase(this,"createObjectAdapter",this,null,null);return this._instance.objectAdapterFactory().createObjectAdapter(e,null,t),t},createObjectAdapterWithEndpoints:function(e,t){0===e.length&&(e=_.generateUUID()),this.getProperties().setProperty(e+".Endpoints",t);var n=new _.AsyncResultBase(this,"createObjectAdapterWithEndpoints",this,null,null);return this._instance.objectAdapterFactory().createObjectAdapter(e,null,n),n},createObjectAdapterWithRouter:function(e,t){0===e.length&&(e=_.generateUUID());for(var n=new _.AsyncResultBase(this,"createObjectAdapterWithRouter",this,null,null),i=this.proxyToProperty(t,e+".Router").entries;null!==i;i=i.next)this.getProperties().setProperty(i.key,i.value);return this._instance.objectAdapterFactory().createObjectAdapter(e,t,n),n},addObjectFactory:function(e,t){this._instance.servantFactoryManager().add(e,t)},findObjectFactory:function(e){return this._instance.servantFactoryManager().find(e)},getImplicitContext:function(){return this._instance.getImplicitContext()},getProperties:function(){return this._instance.initializationData().properties},getLogger:function(){return this._instance.initializationData().logger},getDefaultRouter:function(){return this._instance.referenceFactory().getDefaultRouter()},setDefaultRouter:function(e){this._instance.setDefaultRouter(e)},getDefaultLocator:function(){return this._instance.referenceFactory().getDefaultLocator()},setDefaultLocator:function(e){this._instance.setDefaultLocator(e)},flushBatchRequests:function(){return this._instance.outgoingConnectionFactory().flushAsyncBatchRequests()}}),Object.defineProperty(se.prototype,"instance",{get:function(){return this._instance}}),_.Communicator=se,function(){var e=_.Protocol;_.InitializationData=function(){this.properties=null,this.logger=null},_.InitializationData.prototype.clone=function(){var e=new _.InitializationData;return e.properties=this.properties,e.logger=this.logger,e},_.initialize=function(e,t){var n=null,i=null;if(e instanceof Array)n=e;else if(e instanceof _.InitializationData)i=e;else if(null!=e)throw new _.InitializationException("invalid argument to initialize");if(null!=t){if(!(t instanceof _.InitializationData&&null===i))throw new _.InitializationException("invalid argument to initialize");i=t}(i=null===i?new _.InitializationData:i.clone()).properties=_.createProperties(n,i.properties);var r=new _.Communicator(i);return r.finishSetup(null),r},_.createProperties=function(e,t){return new _.Properties(e,t)},_.currentProtocol=function(){return e.currentProtocol.clone()},_.currentEncoding=function(){return e.currentEncoding.clone()}}(),p.Ice=_,p.IceMX=C,p.IceSSL=y,function(){p.Glacier2=p.Glacier2||{};var e=_.Slice;C.SessionMetrics=e.defineObject((function(e,t,n,i,r,o,s,c,a,l,u,d){C.Metrics.call(this,e,t,n,i,r),this.forwardedClient=void 0!==o?o:0,this.forwardedServer=void 0!==s?s:0,this.routingTableSize=void 0!==c?c:0,this.queuedClient=void 0!==a?a:0,this.queuedServer=void 0!==l?l:0,this.overriddenClient=void 0!==u?u:0,this.overriddenServer=void 0!==d?d:0}),C.Metrics,void 0,2,["::Ice::Object","::IceMX::Metrics","::IceMX::SessionMetrics"],-1,(function(e){e.writeInt(this.forwardedClient),e.writeInt(this.forwardedServer),e.writeInt(this.routingTableSize),e.writeInt(this.queuedClient),e.writeInt(this.queuedServer),e.writeInt(this.overriddenClient),e.writeInt(this.overriddenServer)}),(function(e){this.forwardedClient=e.readInt(),this.forwardedServer=e.readInt(),this.routingTableSize=e.readInt(),this.queuedClient=e.readInt(),this.queuedServer=e.readInt(),this.overriddenClient=e.readInt(),this.overriddenServer=e.readInt()}),!1),C.SessionMetricsPrx=e.defineProxy(C.MetricsPrx,C.SessionMetrics.ice_staticId,void 0),e.defineOperations(C.SessionMetrics,C.SessionMetricsPrx),v.SSLInfo=e.defineStruct((function(e,t,n,i,r,o){this.remoteHost=void 0!==e?e:"",this.remotePort=void 0!==t?t:0,this.localHost=void 0!==n?n:"",this.localPort=void 0!==i?i:0,this.cipher=void 0!==r?r:"",this.certs=void 0!==o?o:null}),!0,(function(e){e.writeString(this.remoteHost),e.writeInt(this.remotePort),e.writeString(this.localHost),e.writeInt(this.localPort),e.writeString(this.cipher),_.StringSeqHelper.write(e,this.certs)}),(function(e){this.remoteHost=e.readString(),this.remotePort=e.readInt(),this.localHost=e.readString(),this.localPort=e.readInt(),this.cipher=e.readString(),this.certs=_.StringSeqHelper.read(e)}),12,!1),v.CannotCreateSessionException=e.defineUserException((function(e,t){_.UserException.call(this,t),this.reason=void 0!==e?e:""}),_.UserException,"Glacier2::CannotCreateSessionException",(function(e){e.writeString(this.reason)}),(function(e){this.reason=e.readString()}),!0,!1),v.Session=e.defineObject(void 0,_.Object,void 0,0,["::Glacier2::Session","::Ice::Object"],-1,void 0,void 0,!1),v.SessionPrx=e.defineProxy(_.ObjectPrx,v.Session.ice_staticId,void 0),e.defineOperations(v.Session,v.SessionPrx,{destroy:[,,,,,,,,,,]}),v.StringSet=e.defineObject(void 0,_.Object,void 0,0,["::Glacier2::StringSet","::Ice::Object"],-1,void 0,void 0,!1),v.StringSetPrx=e.defineProxy(_.ObjectPrx,v.StringSet.ice_staticId,void 0),e.defineOperations(v.StringSet,v.StringSetPrx,{add:[,2,2,,,,[["Ice.StringSeqHelper"]],,,,],remove:[,2,2,,,,[["Ice.StringSeqHelper"]],,,,],get:[,2,2,,,["Ice.StringSeqHelper"],,,,,]}),v.IdentitySet=e.defineObject(void 0,_.Object,void 0,0,["::Glacier2::IdentitySet","::Ice::Object"],-1,void 0,void 0,!1),v.IdentitySetPrx=e.defineProxy(_.ObjectPrx,v.IdentitySet.ice_staticId,void 0),e.defineOperations(v.IdentitySet,v.IdentitySetPrx,{add:[,2,2,,,,[["Ice.IdentitySeqHelper"]],,,,],remove:[,2,2,,,,[["Ice.IdentitySeqHelper"]],,,,],get:[,2,2,,,["Ice.IdentitySeqHelper"],,,,,]}),v.SessionControl=e.defineObject(void 0,_.Object,void 0,0,["::Glacier2::SessionControl","::Ice::Object"],-1,void 0,void 0,!1),v.SessionControlPrx=e.defineProxy(_.ObjectPrx,v.SessionControl.ice_staticId,void 0),e.defineOperations(v.SessionControl,v.SessionControlPrx,{categories:[,,,,,["Glacier2.StringSetPrx"],,,,,],adapterIds:[,,,,,["Glacier2.StringSetPrx"],,,,,],identities:[,,,,,["Glacier2.IdentitySetPrx"],,,,,],getSessionTimeout:[,2,2,,,[3],,,,,],destroy:[,,,,,,,,,,]}),v.SessionManager=e.defineObject(void 0,_.Object,void 0,0,["::Glacier2::SessionManager","::Ice::Object"],-1,void 0,void 0,!1),v.SessionManagerPrx=e.defineProxy(_.ObjectPrx,v.SessionManager.ice_staticId,void 0),e.defineOperations(v.SessionManager,v.SessionManagerPrx,{create:[,,,,2,["Glacier2.SessionPrx"],[[7],["Glacier2.SessionControlPrx"]],,[v.CannotCreateSessionException],,]}),v.SSLSessionManager=e.defineObject(void 0,_.Object,void 0,0,["::Glacier2::SSLSessionManager","::Ice::Object"],-1,void 0,void 0,!1),v.SSLSessionManagerPrx=e.defineProxy(_.ObjectPrx,v.SSLSessionManager.ice_staticId,void 0),e.defineOperations(v.SSLSessionManager,v.SSLSessionManagerPrx,{create:[,,,,2,["Glacier2.SessionPrx"],[[v.SSLInfo],["Glacier2.SessionControlPrx"]],,[v.CannotCreateSessionException],,]}),v.PermissionDeniedException=e.defineUserException((function(e,t){_.UserException.call(this,t),this.reason=void 0!==e?e:""}),_.UserException,"Glacier2::PermissionDeniedException",(function(e){e.writeString(this.reason)}),(function(e){this.reason=e.readString()}),!0,!1),v.PermissionsVerifier=e.defineObject(void 0,_.Object,void 0,0,["::Glacier2::PermissionsVerifier","::Ice::Object"],-1,void 0,void 0,!1),v.PermissionsVerifierPrx=e.defineProxy(_.ObjectPrx,v.PermissionsVerifier.ice_staticId,void 0),e.defineOperations(v.PermissionsVerifier,v.PermissionsVerifierPrx,{checkPermissions:[,2,1,,2,[1],[[7],[7]],[[7]],[v.PermissionDeniedException],,]}),v.SSLPermissionsVerifier=e.defineObject(void 0,_.Object,void 0,0,["::Glacier2::SSLPermissionsVerifier","::Ice::Object"],-1,void 0,void 0,!1),v.SSLPermissionsVerifierPrx=e.defineProxy(_.ObjectPrx,v.SSLPermissionsVerifier.ice_staticId,void 0),e.defineOperations(v.SSLPermissionsVerifier,v.SSLPermissionsVerifierPrx,{authorize:[,2,1,,2,[1],[[v.SSLInfo]],[[7]],[v.PermissionDeniedException],,]}),v.SessionNotExistException=e.defineUserException((function(e){_.UserException.call(this,e)}),_.UserException,"Glacier2::SessionNotExistException",void 0,void 0,!1,!1),v.Router=e.defineObject(void 0,_.Object,[_.Router],0,["::Glacier2::Router","::Ice::Object","::Ice::Router"],-1,void 0,void 0,!1),v.RouterPrx=e.defineProxy(_.ObjectPrx,v.Router.ice_staticId,[_.RouterPrx]),e.defineOperations(v.Router,v.RouterPrx,{getCategoryForClient:[,2,1,,,[7],,,,,],createSession:[,,,1,2,["Glacier2.SessionPrx"],[[7],[7]],,[v.CannotCreateSessionException,v.PermissionDeniedException],,],createSessionFromSecureConnection:[,,,1,2,["Glacier2.SessionPrx"],,,[v.CannotCreateSessionException,v.PermissionDeniedException],,],refreshSession:[,,,1,,,,,[v.SessionNotExistException],,],destroySession:[,,,,,,,,[v.SessionNotExistException],,],getSessionTimeout:[,2,1,,,[4],,,,,],getACMTimeout:[,2,1,,,[3],,,,,]}),p.Glacier2=v}(),function(e,t,n){var i=t("ice").Ice,r=i.__M,o=i.Slice,s=r.module("Common");s.ConferenceError=o.defineUserException((function(e,t,n){i.UserException.call(this,n),this.error=void 0!==e?e:0,this.reason=void 0!==t?t:""}),i.UserException,"Common::ConferenceError",(function(e){e.writeInt(this.error),e.writeString(this.reason)}),(function(e){this.error=e.readInt(),this.reason=e.readString()}),!1,!1),n.Common=s}(void 0!==t&&t.process,_.__require,_),function(e,t,n){var i=t("ice").Ice,r=i.__M,o=i.Slice,s=r.module("MS");s.AudioTransType=o.defineEnum([["ATT_CORP_PRIV",0],["ATT_EIS_ENCRYPT",1],["ATT_RTP_STD",2],["ATT_RTMP",3]]),s.AudioCodecType=o.defineEnum([["ACT_PCMU",0],["ACT_PCMA",1],["ACT_G723",2],["ACT_G729",3],["ACT_AMRWB",4],["ACT_SPEEX",5],["ACT_AAC",6],["ACT_ISAC",7],["ACT_RESERV08",8],["ACT_RESERV09",9],["ACT_RESERV10",10],["ACT_RESERV11",11],["ACT_RESERV12",12],["ACT_RESERV13",13],["ACT_RESERV14",14],["ACT_NULL",15]]),s.MediaStreamIOMode=o.defineEnum([["MSIO_INACTIVE",0],["MSIO_SEND",1],["MSIO_RECV",2],["MSIO_SEND_RECV",3]]),s.AudioStreamParam=o.defineStruct((function(e,t,n,i,r){this.codecType=void 0!==e?e:s.AudioCodecType.ACT_PCMU,this.transType=void 0!==t?t:s.AudioTransType.ATT_CORP_PRIV,this.ioMode=void 0!==n?n:s.MediaStreamIOMode.MSIO_INACTIVE,this.mixerID=void 0!==i?i:0,this.shareListen=void 0!==r&&r}),!0,(function(e){s.AudioCodecType.__write(e,this.codecType),s.AudioTransType.__write(e,this.transType),s.MediaStreamIOMode.__write(e,this.ioMode),e.writeInt(this.mixerID),e.writeBool(this.shareListen)}),(function(e){this.codecType=s.AudioCodecType.__read(e),this.transType=s.AudioTransType.__read(e),this.ioMode=s.MediaStreamIOMode.__read(e),this.mixerID=e.readInt(),this.shareListen=e.readBool()}),8,!1),s.VideoContentType=o.defineEnum([["VCT_CAMERA",0],["VCT_SCREEN",1],["VCT_FILM",2],["VCT_LIVE",3]]),s.VideoStreamParam=o.defineStruct((function(e,t,n,i,r,o,c,a){this.contentType=void 0!==e?e:s.VideoContentType.VCT_CAMERA,this.srcTermID=void 0!==t?t:0,this.cameraID=void 0!==n?n:0,this.ioMode=void 0!==i?i:s.MediaStreamIOMode.MSIO_INACTIVE,this.attachToMSID=void 0!==r?r:0,this.subscribeFlag=void 0!==o&&o,this.isPeerSourceTerm=void 0!==c&&c,this.screenAuthKey=void 0!==a?a:""}),!0,(function(e){s.VideoContentType.__write(e,this.contentType),e.writeShort(this.srcTermID),e.writeShort(this.cameraID),s.MediaStreamIOMode.__write(e,this.ioMode),e.writeInt(this.attachToMSID),e.writeBool(this.subscribeFlag),e.writeBool(this.isPeerSourceTerm),e.writeString(this.screenAuthKey)}),(function(e){this.contentType=s.VideoContentType.__read(e),this.srcTermID=e.readShort(),this.cameraID=e.readShort(),this.ioMode=s.MediaStreamIOMode.__read(e),this.attachToMSID=e.readInt(),this.subscribeFlag=e.readBool(),this.isPeerSourceTerm=e.readBool(),this.screenAuthKey=e.readString()}),13,!1),s.NetworkAddress=o.defineStruct((function(e,t){this.ip=void 0!==e?e:"",this.port=void 0!==t?t:0}),!0,(function(e){e.writeString(this.ip),e.writeShort(this.port)}),(function(e){this.ip=e.readString(),this.port=e.readShort()}),3,!1),s.MediaStreamAddr=o.defineStruct((function(e,t){this.netAddr=void 0!==e?e:new s.NetworkAddress,this.MSID=void 0!==t?t:0}),!0,(function(e){s.NetworkAddress.write(e,this.netAddr),e.writeInt(this.MSID)}),(function(e){this.netAddr=s.NetworkAddress.read(e,this.netAddr),this.MSID=e.readInt()}),7,!1),s.ConferenceInfo=o.defineStruct((function(e,t,n,i){this.confId=void 0!==e?e:0,this.isPeerTerminal=void 0!==t&&t,this.peerTermId=void 0!==n?n:0,this.peerTermName=void 0!==i?i:""}),!0,(function(e){e.writeInt(this.confId),e.writeBool(this.isPeerTerminal),e.writeShort(this.peerTermId),e.writeString(this.peerTermName)}),(function(e){this.confId=e.readInt(),this.isPeerTerminal=e.readBool(),this.peerTermId=e.readShort(),this.peerTermName=e.readString()}),8,!1),o.defineDictionary(s,"DictStrParams","DictStrParamsHelper","Ice.StringHelper","Ice.StringHelper",!1,void 0,void 0),n.MS=s}(void 0!==t&&t.process,_.__require,_),function(e,t,n){var i=t("ice").Ice,r=(i.__M,t("Trans/MSPub").MS),o=i.Slice;r.LanTerm=o.defineStruct((function(e,t){this.hostIP=void 0!==e?e:"",this.termID=void 0!==t?t:0}),!0,(function(e){e.writeString(this.hostIP),e.writeShort(this.termID)}),(function(e){this.hostIP=e.readString(),this.termID=e.readShort()}),3,!1),o.defineSequence(r,"TermSeqHelper","MS.LanTerm",!1),r.MSClient=o.defineObject(void 0,i.Object,void 0,1,["::Ice::Object","::MS::MSClient"],-1,void 0,void 0,!1),r.MSClientPrx=o.defineProxy(i.ObjectPrx,r.MSClient.ice_staticId,void 0),o.defineOperations(r.MSClient,r.MSClientPrx,{AudioAllocRaw:[,,,1,,[3],[[r.AudioStreamParam]],,,,],AudioAlloc:[,,,1,,[3],[[r.AudioStreamParam],[r.MediaStreamAddr]],,,,],VideoAllocRaw:[,,,1,,[3],[[r.VideoStreamParam],[1]],,,,],VideoAlloc:[,,,1,,[3],[[r.VideoStreamParam],[1],[r.MediaStreamAddr]],,,,],AudioAllocRawExt:[,,,1,,[3],[[r.AudioStreamParam],["MS.DictStrParamsHelper"]],,,,],AudioAllocRawExt2:[,,,1,,[3],[[r.AudioStreamParam],["MS.DictStrParamsHelper"]],[["MS.DictStrParamsHelper"]],,,],AudioAllocExt:[,,,1,,[3],[[r.AudioStreamParam],[r.MediaStreamAddr],["MS.DictStrParamsHelper"]],,,,],VideoAllocRawExt:[,,,1,,[3],[[r.VideoStreamParam],[1],["MS.DictStrParamsHelper"]],,,,],VideoAllocRawExt2:[,,,1,,[3],[[r.VideoStreamParam],[1],["MS.DictStrParamsHelper"]],[["MS.DictStrParamsHelper"]],,,],VideoAllocExt:[,,,1,,[3],[[r.VideoStreamParam],[1],[r.MediaStreamAddr],["MS.DictStrParamsHelper"]],,,,],Free:[,,,1,,,[[3]],,,,],ModifyPeerAddr:[,,,1,,,[[3],[r.MediaStreamAddr]],,,,],ModifyPeerAddrExt:[,,,1,,,[[3],["MS.DictStrParamsHelper"]],,,,],ModifyIOMode:[,,,1,,,[[3],[r.MediaStreamIOMode.__helper]],,,,],NotifyRTMPStreamPublishFinished:[,,,1,,,[[3]],,,,],StartLanThrough:[,,,1,,,[[3],[3],[7]],,,,],StopLanThrough:[,,,1,,,[[3]],,,,],LanDetect:[,,,1,,,[["MS.TermSeqHelper"]],,,,],EnableSendVideo2Internet:[,,,1,,,[[2]],,,,],DisableSendVideo2Internet:[,,,1,,,[[2]],,,,],EnableSendScreen2Internet:[,,,1,,,,,,,],DisableSendScreen2Internet:[,,,1,,,,,,,],EnableSendFilm2Internet:[,,,1,,,,,,,],DisableSendFilm2Internet:[,,,1,,,,,,,],EnableSendLive2Internet:[,,,1,,,,,,,],DisableSendLive2Internet:[,,,1,,,,,,,]}),r.ClientReport=o.defineObject(void 0,i.Object,void 0,1,["::Ice::Object","::MS::ClientReport"],-1,void 0,void 0,!1),r.ClientReportPrx=o.defineProxy(i.ObjectPrx,r.ClientReport.ice_staticId,void 0),o.defineOperations(r.ClientReport,r.ClientReportPrx,{UpdateClientIP:[,,,1,,,[[7],[3],[7]],,,,],ReportLanNeighbor:[,,,1,,,[["MS.TermSeqHelper"]],,,,],LanMediaStreamFail:[,,,1,,,[[3],[3],[7]],,,,],VideoResolutionReport:[,,,1,,,[[3],[3],[3]],,,,]}),n.MS=r}(void 0!==t&&t.process,_.__require,_),function(e,t,n){var i=t("ice").Ice,r=i.__M,o=i.Slice,s=r.module("SendCmd");s.CmdError=o.defineUserException((function(e,t,n){i.UserException.call(this,n),this.error=void 0!==e?e:0,this.reason=void 0!==t?t:""}),i.UserException,"SendCmd::CmdError",(function(e){e.writeInt(this.error),e.writeString(this.reason)}),(function(e){this.error=e.readInt(),this.reason=e.readString()}),!1,!1),s.UnknowErr=o.defineUserException((function(e,t,n){s.CmdError.call(this,e,t,n)}),s.CmdError,"SendCmd::UnknowErr",void 0,void 0,!1,!1),s.CmdNotFound=o.defineUserException((function(e,t,n){s.CmdError.call(this,e,t,n)}),s.CmdError,"SendCmd::CmdNotFound",void 0,void 0,!1,!1),s.CmdNotImplement=o.defineUserException((function(e,t,n){s.CmdError.call(this,e,t,n)}),s.CmdError,"SendCmd::CmdNotImplement",void 0,void 0,!1,!1),s.AppException=o.defineUserException((function(e,t,n){s.CmdError.call(this,e,t,n)}),s.CmdError,"SendCmd::AppException",void 0,void 0,!1,!1),s.AppReturnInvalid=o.defineUserException((function(e,t,n){s.CmdError.call(this,e,t,n)}),s.CmdError,"SendCmd::AppReturnInvalid",void 0,void 0,!1,!1),s.SessionInvalid=o.defineUserException((function(e,t,n){s.CmdError.call(this,e,t,n)}),s.CmdError,"SendCmd::SessionInvalid",void 0,void 0,!1,!1),s.TargetInvalid=o.defineUserException((function(e,t,n){s.CmdError.call(this,e,t,n)}),s.CmdError,"SendCmd::TargetInvalid",void 0,void 0,!1,!1),Object.defineProperty(s,"DATATYPE_ALPHA",{value:1}),s.Cmd=o.defineObject(void 0,i.Object,void 0,1,["::Ice::Object","::SendCmd::Cmd"],-1,void 0,void 0,!1),s.CmdPrx=o.defineProxy(i.ObjectPrx,s.Cmd.ice_staticId,void 0),o.defineOperations(s.Cmd,s.CmdPrx,{sendCmd:[,,,1,,[7],[[7]],,[s.CmdError],,],sendBuffer:[,,,1,,[7],[[7],["Ice.ByteSeqHelper"]],,[s.CmdError],,]}),n.SendCmd=s}(void 0!==t&&t.process,_.__require,_),function(e,t,n){var i=t("ice").Ice,r=i.__M,o=i.Slice,s=r.module("Conference");Object.defineProperty(s,"CT_USER",{value:1}),Object.defineProperty(s,"CT_CONTACT",{value:2}),Object.defineProperty(s,"CT_TMP",{value:3}),Object.defineProperty(s,"CT_CLIENT",{value:6}),Object.defineProperty(s,"CT_VIRTUAL",{value:7}),s.Contact=o.defineStruct((function(e,t,n,i,r,o){this.id=void 0!==e?e:0,this.type=void 0!==t?t:0,this.nickname=void 0!==n?n:"",this.email=void 0!==i?i:"",this.mobile=void 0!==r?r:"",this.confPhone=void 0!==o?o:""}),!0,(function(e){e.writeInt(this.id),e.writeByte(this.type),e.writeString(this.nickname),e.writeString(this.email),e.writeString(this.mobile),e.writeString(this.confPhone)}),(function(e){this.id=e.readInt(),this.type=e.readByte(),this.nickname=e.readString(),this.email=e.readString(),this.mobile=e.readString(),this.confPhone=e.readString()}),9,!1),s.ContactIdType=o.defineStruct((function(e,t){this.id=void 0!==e?e:0,this.type=void 0!==t?t:0}),!0,(function(e){e.writeInt(this.id),e.writeByte(this.type)}),(function(e){this.id=e.readInt(),this.type=e.readByte()}),5,!0),o.defineSequence(s,"ContactSeqHelper","Conference.Contact",!1),o.defineSequence(s,"ContactIdSeqHelper","Conference.ContactIdType",!0),o.defineDictionary(s,"ContactTree","ContactTreeHelper","Ice.StringHelper","Conference.ContactSeqHelper",!1,void 0,void 0,i.ArrayUtil.equals),n.Conference=s}(void 0!==t&&t.process,_.__require,_),function(e,t,n){var i=t("ice").Ice,r=i.__M,o=t("Common/Exception").Common,s=i.Slice,c=r.module("Conference");Object.defineProperty(c,"SLICE_VER",{value:"1.9"}),Object.defineProperty(c,"ANON_TERMID",{value:0}),Object.defineProperty(c,"ALL_TERMID",{value:32767}),Object.defineProperty(c,"ANON_MEMBER_ID",{value:0}),Object.defineProperty(c,"TERM_PC",{value:1}),Object.defineProperty(c,"TERM_PHONE",{value:2}),Object.defineProperty(c,"NORMAL_AT",{value:0}),Object.defineProperty(c,"DEMO_AT",{value:1}),Object.defineProperty(c,"HOST_AT",{value:2}),Object.defineProperty(c,"PSTN_HOST_AT",{value:4}),Object.defineProperty(c,"ASSISTANT_AT",{value:8}),Object.defineProperty(c,"OPT_VIDEO",{value:1}),Object.defineProperty(c,"OPT_AUTO_MUTE",{value:2}),Object.defineProperty(c,"OPT_AUTO_AUDIO",{value:4}),Object.defineProperty(c,"OPT_PSTN_CALL",{value:8}),Object.defineProperty(c,"OPT_END_WHEN_HOST_EXIT",{value:16}),Object.defineProperty(c,"OPT_ONLY_INVITE_CAN_LOGIN",{value:32}),Object.defineProperty(c,"OPT_ALLOW_PLAY_APPLAUSE",{value:64}),Object.defineProperty(c,"OPT_PLAY_ENTRANCEANDEXITTONE",{value:128}),Object.defineProperty(c,"OPT_ALLOW_MODIFY_NICKNAME",{value:256}),Object.defineProperty(c,"OPT_NOT_SEE_EACH_OTHER",{value:512}),Object.defineProperty(c,"OPT_IM_FORBID_PIC",{value:1024}),Object.defineProperty(c,"OPT_IM_FORBID_URL",{value:2048}),Object.defineProperty(c,"OPT_FORBID_OPEN_CAMERA",{value:4096}),Object.defineProperty(c,"OPT_AUTO_MUTE_HOST",{value:8192}),Object.defineProperty(c,"OPT_REVIEW_CHAT",{value:16384}),Object.defineProperty(c,"OPT_AUTO_OPEN_CAMERA",{value:32768}),Object.defineProperty(c,"OPT_MIC_USE_LOCAL",{value:65536}),Object.defineProperty(c,"OPT_CAMERA_USE_LOCAL",{value:131072}),Object.defineProperty(c,"OPT_FORBID_MARK",{value:262144}),Object.defineProperty(c,"OPT_ALLOW_SHARE",{value:524288}),Object.defineProperty(c,"OPT_SCREENSHARE_WATERMARK",{value:1048576}),Object.defineProperty(c,"OPT_START_WAITINGROOM",{value:2097152}),s.defineSequence(c,"ByteListHelper","Ice.ByteHelper",!0),s.defineDictionary(c,"StringStringMap","StringStringMapHelper","Ice.StringHelper","Ice.StringHelper",!1,void 0,void 0),c.ASTATUS=s.defineEnum([["AUNKNOWN",0],["ANULL",1],["ACLOSE",2],["AOPEN",3],["AOPENING",4]]),c.WINDOW_MODE=s.defineEnum([["VMANAGER_LOCK",0],["VSPEAKER_TRACK",1],["VPRESENTER_LOCK",2]]),c.VSTATUS=s.defineEnum([["VUNKNOWN",0],["VNULL",1],["VCLOSE",2],["VOPEN",3],["VOPENING",4]]),c.VIDEOLEVEL=s.defineEnum([["VL_HIGH_HD",0],["VL_HIGH_HDL",1],["VL_HIGH_H",2],["VL_HIGH_M",3],["VL_HIGH_L",4],["VL_MID",5],["VL_LOW",6]]),c.VideoSize=s.defineStruct((function(e,t){this.w=void 0!==e?e:0,this.h=void 0!==t?t:0}),!0,(function(e){e.writeShort(this.w),e.writeShort(this.h)}),(function(e){this.w=e.readShort(),this.h=e.readShort()}),4,!0),c.VideoQuality=s.defineStruct((function(e,t,n,i,r,o){this.vl=void 0!==e?e:c.VIDEOLEVEL.VL_HIGH_HD,this.vs=void 0!==t?t:new c.VideoSize,this.isec=void 0!==n?n:0,this.fps=void 0!==i?i:null,this.crf=void 0!==r?r:null,this.cost=void 0!==o?o:""}),!0,(function(e){c.VIDEOLEVEL.__write(e,this.vl),c.VideoSize.write(e,this.vs),e.writeByte(this.isec),c.ByteListHelper.write(e,this.fps),c.ByteListHelper.write(e,this.crf),e.writeString(this.cost)}),(function(e){this.vl=c.VIDEOLEVEL.__read(e),this.vs=c.VideoSize.read(e,this.vs),this.isec=e.readByte(),this.fps=c.ByteListHelper.read(e),this.crf=c.ByteListHelper.read(e),this.cost=e.readString()}),9,!1),c.VIDEOLAYOUTMODE=s.defineEnum([["VLO_1v1_M",0],["VLO_WALL1_M",1],["VLO_WALL2",2],["VLO_WALL4",3],["VLO_WALL5_M",4],["VLO_WALL6_M",5],["VLO_WALL9",6],["VLO_WALL13_M",7],["VLO_WALL16",8],["VLO_WALL25",9]]),Object.defineProperty(c,"MVM_1MAIN",{value:0}),Object.defineProperty(c,"MVM_1v1",{value:1}),Object.defineProperty(c,"MVM_2VIDEO",{value:2}),Object.defineProperty(c,"MVM_4VIDEO",{value:3}),Object.defineProperty(c,"MVM_6VIDEO",{value:4}),Object.defineProperty(c,"VIDEO_SS_1M",{value:0}),Object.defineProperty(c,"VIDEO_SS_5M",{value:1}),Object.defineProperty(c,"VIDEO_SS_13M",{value:2}),Object.defineProperty(c,"VIDEO_SS_2",{value:3}),Object.defineProperty(c,"VIDEO_SS_4",{value:4}),Object.defineProperty(c,"VIDEO_SS_9",{value:5}),Object.defineProperty(c,"VIDEO_SS_16",{value:6}),Object.defineProperty(c,"VIDEO_SS_25",{value:7}),Object.defineProperty(c,"VIDEO_SS_NULL",{value:255}),s.defineSequence(c,"VideoQualitySeqHelper","Conference.VideoQuality",!1),c.SYNCMODE=s.defineEnum([["SYNC_FORCE",0],["SYNC_FREE",1]]),c.TabID=s.defineStruct((function(e,t){this.termID=void 0!==e?e:0,this.localID=void 0!==t?t:0}),!0,(function(e){e.writeShort(this.termID),e.writeShort(this.localID)}),(function(e){this.termID=e.readShort(),this.localID=e.readShort()}),4,!0),s.defineSequence(c,"TabIDSeqHelper","Conference.TabID",!0),c.WBBOARD_TYPE=s.defineEnum([["WB_WHITE",0],["WB_DOC",1]]),c.WBBOARD_DOCTYPE=s.defineEnum([["WD_IMG",0],["WD_PPTANIM",1],["WD_PPT",2]]),c.WB_SCALE_TYPE=s.defineEnum([["WB_SCALE_50",0],["WB_SCALE_100",1],["WB_SCALE_150",2],["WB_SCALE_200",3],["WB_SCALE_SADP",4],["WB_SCALE_WIDTH",5]]),c.WB_ROTATE_TYPE=s.defineEnum([["WB_ROTATE_0",0],["WB_ROTATE_90",1],["WB_ROTATE_180",2],["WB_ROTATE_270",3]]),c.WhiteBoardDescribe=s.defineStruct((function(e,t,n,i,r,o,s,a,l,u,d,h,f,p,_,g){this.wID=void 0!==e?e:new c.TabID,this.wType=void 0!==t?t:c.WBBOARD_TYPE.WB_WHITE,this.docType=void 0!==n?n:c.WBBOARD_DOCTYPE.WD_IMG,this.name=void 0!==i?i:"",this.docName=void 0!==r?r:"",this.width=void 0!==o?o:0,this.height=void 0!==s?s:0,this.scaleType=void 0!==a?a:c.WB_SCALE_TYPE.WB_SCALE_50,this.rotation=void 0!==l?l:c.WB_ROTATE_TYPE.WB_ROTATE_0,this.pageCount=void 0!==u?u:0,this.curPage=void 0!==d?d:0,this.animID=void 0!==h?h:0,this.animFrames=void 0!==f?f:0,this.showThum=void 0!==p&&p,this.bAll=void 0!==_&&_,this.allowTerms=void 0!==g?g:null}),!0,(function(e){c.TabID.write(e,this.wID),c.WBBOARD_TYPE.__write(e,this.wType),c.WBBOARD_DOCTYPE.__write(e,this.docType),e.writeString(this.name),e.writeString(this.docName),e.writeInt(this.width),e.writeInt(this.height),c.WB_SCALE_TYPE.__write(e,this.scaleType),c.WB_ROTATE_TYPE.__write(e,this.rotation),e.writeInt(this.pageCount),e.writeInt(this.curPage),e.writeInt(this.animID),e.writeInt(this.animFrames),e.writeBool(this.showThum),e.writeBool(this.bAll),i.ShortSeqHelper.write(e,this.allowTerms)}),(function(e){this.wID=c.TabID.read(e,this.wID),this.wType=c.WBBOARD_TYPE.__read(e),this.docType=c.WBBOARD_DOCTYPE.__read(e),this.name=e.readString(),this.docName=e.readString(),this.width=e.readInt(),this.height=e.readInt(),this.scaleType=c.WB_SCALE_TYPE.__read(e),this.rotation=c.WB_ROTATE_TYPE.__read(e),this.pageCount=e.readInt(),this.curPage=e.readInt(),this.animID=e.readInt(),this.animFrames=e.readInt(),this.showThum=e.readBool(),this.bAll=e.readBool(),this.allowTerms=i.ShortSeqHelper.read(e)}),37,!1),Object.defineProperty(c,"SubMeetType_MainRoom",{value:"main"}),Object.defineProperty(c,"SubMeetType_WaitRoom",{value:"wait"}),c.SubMeetInfo=s.defineStruct((function(e,t,n){this.type=void 0!==e?e:"",this.id=void 0!==t?t:0,this.key=void 0!==n?n:""}),!0,(function(e){e.writeString(this.type),e.writeInt(this.id),e.writeString(this.key)}),(function(e){this.type=e.readString(),this.id=e.readInt(),this.key=e.readString()}),6,!1),s.defineSequence(c,"WhiteBoardDescribeSeqHelper","Conference.WhiteBoardDescribe",!1),c.ConfIdError=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::ConfIdError",void 0,void 0,!1,!1),c.AuthError=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::AuthError",void 0,void 0,!1,!1),c.ReenterError=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::ReenterError",void 0,void 0,!1,!1),c.RoomLockedError=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::RoomLockedError",void 0,void 0,!1,!1),c.NicknameError=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::NicknameError",void 0,void 0,!1,!1),c.NicknameDuplicatedError=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::NicknameDuplicatedError",void 0,void 0,!1,!1),c.NotPermitError=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::NotPermitError",void 0,void 0,!1,!1),c.MemberDeactivedError=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::MemberDeactivedError",void 0,void 0,!1,!1),c.MemberOverflowError=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::MemberOverflowError",void 0,void 0,!1,!1),c.ConfMemberOverflowError=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::ConfMemberOverflowError",void 0,void 0,!1,!1),c.BalanceLessError=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::BalanceLessError",void 0,void 0,!1,!1),c.KickoutSelfError=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::KickoutSelfError",void 0,void 0,!1,!1),c.ConferenceEndError=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::ConferenceEndError",void 0,void 0,!1,!1),c.ConferenceBeginError=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::ConferenceBeginError",void 0,void 0,!1,!1),c.PINError=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::PINError",void 0,void 0,!1,!1),c.FieldDuplicatedError=s.defineUserException((function(e,t,n,i,r){o.ConferenceError.call(this,e,t,r),this.name=void 0!==n?n:"",this.value=void 0!==i?i:""}),o.ConferenceError,"Conference::FieldDuplicatedError",(function(e){e.writeString(this.name),e.writeString(this.value)}),(function(e){this.name=e.readString(),this.value=e.readString()}),!1,!1),c.InviteeNotFoundError=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::InviteeNotFoundError",void 0,void 0,!1,!1),c.InviteeDuplicatedError=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::InviteeDuplicatedError",void 0,void 0,!1,!1),c.InvalidTermTypeError=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::InvalidTermTypeError",void 0,void 0,!1,!1),c.NoPSTNHostError=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::NoPSTNHostError",void 0,void 0,!1,!1),c.ConferencePrepareError=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::ConferencePrepareError",void 0,void 0,!1,!1),c.ConferenceLoginRetry=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::ConferenceLoginRetry",void 0,void 0,!1,!1),c.ResourceAllocateError=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::ResourceAllocateError",void 0,void 0,!1,!1),c.OnlyInviteeCanLogin=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::OnlyInviteeCanLogin",void 0,void 0,!1,!1),c.MemberAlreadyInMeet=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::MemberAlreadyInMeet",void 0,void 0,!1,!1),c.MemberAlreadyInCanTryVisitor=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::MemberAlreadyInCanTryVisitor",void 0,void 0,!1,!1),c.MismatchClientVersion=s.defineUserException((function(e,t,n,i){o.ConferenceError.call(this,e,t,i),this.newVer=void 0!==n?n:""}),o.ConferenceError,"Conference::MismatchClientVersion",(function(e){e.writeString(this.newVer)}),(function(e){this.newVer=e.readString()}),!1,!1),c.PeerHasBeen1v1SubMeeting=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::PeerHasBeen1v1SubMeeting",void 0,void 0,!1,!1),c.LiveStreamNotStart=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::LiveStreamNotStart",void 0,void 0,!1,!1),c.PstnHostCantLoginInWeb=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::PstnHostCantLoginInWeb",void 0,void 0,!1,!1),c.CannotBoradcast=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::CannotBoradcast",void 0,void 0,!1,!1),c.CannotInteractBoradcast=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::CannotInteractBoradcast",void 0,void 0,!1,!1),c.ConfCannotInteractBoradcast=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::ConfCannotInteractBoradcast",void 0,void 0,!1,!1),c.ContainsSensitiveWords=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::ContainsSensitiveWords",void 0,void 0,!1,!1),c.ThirdPartyLiveIsOn=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::ThirdPartyLiveIsOn",void 0,void 0,!1,!1),c.ListLiveIsOn=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::ListLiveIsOn",void 0,void 0,!1,!1),c.ClientLiveIsOn=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::ClientLiveIsOn",void 0,void 0,!1,!1),c.LuckyDrawNotExists=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::LuckyDrawNotExists",void 0,void 0,!1,!1),c.LuckyDrawCfgFails=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::LuckyDrawCfgFails",void 0,void 0,!1,!1),c.JoinLuckyDrawFails=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::JoinLuckyDrawFails",void 0,void 0,!1,!1),c.AnnouceLuckyDrawFails=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::AnnouceLuckyDrawFails",void 0,void 0,!1,!1),c.AnnouceLuckyDrawNoMember=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::AnnouceLuckyDrawNoMember",void 0,void 0,!1,!1),c.SeviceNotEnabled=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::SeviceNotEnabled",void 0,void 0,!1,!1),c.SrvRecordStarted=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::SrvRecordStarted",void 0,void 0,!1,!1),c.NoResourceForMIC=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::NoResourceForMIC",void 0,void 0,!1,!1),c.StartRecordError=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::StartRecordError",void 0,void 0,!1,!1),c.PlayBackGroundMusicFail=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::PlayBackGroundMusicFail",void 0,void 0,!1,!1),c.SameTimeStartMediaError=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::SameTimeStartMediaError",void 0,void 0,!1,!1),c.lockQuesError=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::lockQuesError",void 0,void 0,!1,!1),c.delQuesError=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::delQuesError",void 0,void 0,!1,!1),c.quesNotExistError=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::quesNotExistError",void 0,void 0,!1,!1),c.modifyQuesTypeError=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::modifyQuesTypeError",void 0,void 0,!1,!1),c.AlreadyRollCallError=s.defineUserException((function(e,t,n,i){o.ConferenceError.call(this,e,t,i),this.rollCaller=void 0!==n?n:0}),o.ConferenceError,"Conference::AlreadyRollCallError",(function(e){e.writeShort(this.rollCaller)}),(function(e){this.rollCaller=e.readShort()}),!1,!1),c.AlreadySharedException=s.defineUserException((function(e,t,n,i){o.ConferenceError.call(this,e,t,i),this.sharer=void 0!==n?n:0}),o.ConferenceError,"Conference::AlreadySharedException",(function(e){e.writeShort(this.sharer)}),(function(e){this.sharer=e.readShort()}),!1,!1),c.WBMaxError=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::WBMaxError",void 0,void 0,!1,!1),c.WBNotExistError=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::WBNotExistError",void 0,void 0,!1,!1),c.WBElementNoExistError=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::WBElementNoExistError",void 0,void 0,!1,!1),c.ExceedTheCapacityLimit=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::ExceedTheCapacityLimit",void 0,void 0,!1,!1),c.ConferenceBusy=s.defineUserException((function(e,t,n,i){o.ConferenceError.call(this,e,t,i),this.retry_delay=void 0!==n?n:0}),o.ConferenceError,"Conference::ConferenceBusy",(function(e){e.writeInt(this.retry_delay)}),(function(e){this.retry_delay=e.readInt()}),!1,!1),c.EnterWaitingRoom=s.defineUserException((function(e,t,n,i){o.ConferenceError.call(this,e,t,i),this.subMeetInfo=void 0!==n?n:""}),o.ConferenceError,"Conference::EnterWaitingRoom",(function(e){e.writeString(this.subMeetInfo)}),(function(e){this.subMeetInfo=e.readString()}),!1,!1),c.NosuchPersonInWaitingRoom=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::NosuchPersonInWaitingRoom",void 0,void 0,!1,!1),Object.defineProperty(c,"SET_PSTN_NUM",{value:1}),Object.defineProperty(c,"CALLED_PSTN_NUM",{value:2}),Object.defineProperty(c,"BIND_PSTN_NUM",{value:4}),s.defineDictionary(c,"ModuleDict","ModuleDictHelper","Ice.StringHelper","Ice.ObjectPrx",!1,void 0,void 0),Object.defineProperty(c,"CLIENT_SLICE_VER",{value:"slice_ver"}),Object.defineProperty(c,"CLINET_PCID",{value:"client_pcid"}),Object.defineProperty(c,"CLINET_MACADDR",{value:"client_macaddr"}),Object.defineProperty(c,"CLINET_LANGUAGE",{value:"client_lang"}),Object.defineProperty(c,"CLINET_VER",{value:"client_ver"}),Object.defineProperty(c,"CLINET_SDK_VER",{value:"sdk_ver"}),Object.defineProperty(c,"CLINET_H5SDK_VER",{value:"h5sdk_ver"}),Object.defineProperty(c,"CLINET_ISWIFI",{value:"client_iswifi"}),Object.defineProperty(c,"CLINET_PLATFORM",{value:"client_platform"}),Object.defineProperty(c,"CLINET_PRODUCTTYPE",{value:"client_pdType"}),Object.defineProperty(c,"CLINET_DEVICETYPE",{value:"client_device"}),Object.defineProperty(c,"CLIENT_BRIDGETYPE",{value:"bridgeType"}),Object.defineProperty(c,"CLIENT_INVITECODE",{value:"invite_code"}),Object.defineProperty(c,"CLIENT_PHONENUM",{value:"phone_num"}),Object.defineProperty(c,"CLIENT_ISCUSTOMERSERVICE",{value:"is_cs"}),Object.defineProperty(c,"CLIENT_PRIV_ID",{value:"priv_id"}),Object.defineProperty(c,"CLIETN_PRIV_DAT",{value:"priv_dat"}),Object.defineProperty(c,"CLIETN_PRIV_ROLE",{value:"priv_role"}),Object.defineProperty(c,"CLINET_LOGIN_TIMESTAMP",{value:"client_time"}),Object.defineProperty(c,"CLINET_IS_WEB_VIEWER",{value:"webview"}),Object.defineProperty(c,"CLINET_LIVEAUDIO",{value:"liveAudio"}),Object.defineProperty(c,"CLINET_OPENID",{value:"openId"}),Object.defineProperty(c,"CLIENT_ACODEC",{value:"acodec"}),Object.defineProperty(c,"CLIENT_LIVE_TYPE",{value:"livetype"}),Object.defineProperty(c,"CLIENT_LIVE_MOBILE",{value:"livemobile"}),Object.defineProperty(c,"CLINET_BROWSER_INFO",{value:"browser"}),Object.defineProperty(c,"CLINET_VP8_SUPPORT",{value:"vp8"}),Object.defineProperty(c,"CLINET_WEBRTC_CODECS",{value:"rtc_codecs"}),Object.defineProperty(c,"CLIENT_TIME_OUT",{value:"time_out"}),Object.defineProperty(c,"CLINET_SUPPORT_NEWCONFID",{value:"spt_newconf"}),Object.defineProperty(c,"CLIENT_SDK_USRTOKEN",{value:"token"}),Object.defineProperty(c,"CLIENT_MCUID",{value:"mcuID"}),Object.defineProperty(c,"CLIENT_VER",{value:"client_ver"}),Object.defineProperty(c,"CLIENT_SIP_VIDEO_REENCODE",{value:"video_reencode"}),Object.defineProperty(c,"CLIENT_PROJECT_CODE",{value:"pjcode"}),Object.defineProperty(c,"CLIENT_PROJECT_FOR",{value:"pjfor"}),Object.defineProperty(c,"CLIENT_SUPPORT_DATA_CENTER",{value:"dcenter_enable"}),Object.defineProperty(c,"CLIENT_MCU_SESSION_ID",{value:"mcu_session_id"}),Object.defineProperty(c,"CLIENT_SDK_TYPE",{value:"sdktype"}),Object.defineProperty(c,"CLIENT_SDK_TYPE_VIDEO",{value:"video"}),Object.defineProperty(c,"CLIENT_SDK_TYPE_LIVE",{value:"live"}),Object.defineProperty(c,"PLATFORMTYPE_WIN32",{value:"win32"}),Object.defineProperty(c,"PLATFORMTYPE_IOS",{value:"ios"}),Object.defineProperty(c,"PLATFORMTYPE_ANDROID",{value:"android"}),Object.defineProperty(c,"PLATFORMTYPE_LINUX",{value:"linux"}),Object.defineProperty(c,"PLATFORMTYPE_MAC",{value:"mac"}),Object.defineProperty(c,"PDTYPE_TVNETMEETING",{value:"net_tv"}),Object.defineProperty(c,"PDTYPE_NETMEETING",{value:"net"}),Object.defineProperty(c,"PDTYPE_PSTNMEETING",{value:"pstn"}),Object.defineProperty(c,"PDTYPE_LIVE",{value:"live"}),Object.defineProperty(c,"PDTYPE_MCU",{value:"mcu"}),Object.defineProperty(c,"DEVICETYPE_PC",{value:"pc"}),Object.defineProperty(c,"DEVICETYPE_PAD",{value:"pad"}),Object.defineProperty(c,"DEVICETYPE_PHONE",{value:"phone"}),Object.defineProperty(c,"DEVICETYPE_FLASH",{value:"flash"}),Object.defineProperty(c,"DEVICETYPE_MCU",{value:"mcu"}),Object.defineProperty(c,"DEVICETYPE_BOX",{value:"box"}),Object.defineProperty(c,"DEVICETYPE_SIPGATEWAY",{value:"sipgateway"}),Object.defineProperty(c,"DEVICETYPE_WEBRTC",{value:"webrtc"}),Object.defineProperty(c,"DEVICETYPE_WXMINI",{value:"wxmini"}),Object.defineProperty(c,"BRIDGETYPE_MONITOR",{value:"monitor"}),Object.defineProperty(c,"BRIDGETYPE_MEETING",{value:"meeting"}),Object.defineProperty(c,"MEETINGMODE_NORMAL",{value:"normal"}),Object.defineProperty(c,"MEETINGMODE_CONSULTATION",{value:"consultation"}),Object.defineProperty(c,"ACODEC_ISAC",{value:"isac"}),Object.defineProperty(c,"LIVETYPE_WEIXIN",{value:"0"}),Object.defineProperty(c,"LIVETYPE_USER",{value:"1"}),Object.defineProperty(c,"LIVETYPE_OTHER",{value:"2"}),c.LoginRequest=s.defineStruct((function(e,t,n,i,r,o,s,c,a,l,u,d){this.confId=void 0!==e?e:0,this.confKey=void 0!==t?t:"",this.termId=void 0!==n?n:0,this.memberId=void 0!==i?i:0,this.memberType=void 0!==r?r:0,this.nickname=void 0!==o?o:"",this.callbacks=void 0!==s?s:null,this.accessNo=void 0!==c?c:0,this.publicIP=void 0!==a?a:"",this.localIP=void 0!==l?l:"",this.localMask=void 0!==u?u:"",this.extProperty=void 0!==d?d:null}),!1,(function(e){e.writeInt(this.confId),e.writeString(this.confKey),e.writeShort(this.termId),e.writeInt(this.memberId),e.writeByte(this.memberType),e.writeString(this.nickname),c.ModuleDictHelper.write(e,this.callbacks),e.writeInt(this.accessNo),e.writeString(this.publicIP),e.writeString(this.localIP),e.writeString(this.localMask),c.StringStringMapHelper.write(e,this.extProperty)}),(function(e){this.confId=e.readInt(),this.confKey=e.readString(),this.termId=e.readShort(),this.memberId=e.readInt(),this.memberType=e.readByte(),this.nickname=e.readString(),this.callbacks=c.ModuleDictHelper.read(e),this.accessNo=e.readInt(),this.publicIP=e.readString(),this.localIP=e.readString(),this.localMask=e.readString(),this.extProperty=c.StringStringMapHelper.read(e)}),22,!1),c.FileServerInfo=s.defineStruct((function(e,t){this.fsProxy=void 0!==e?e:"",this.key=void 0!==t?t:""}),!0,(function(e){e.writeString(this.fsProxy),e.writeString(this.key)}),(function(e){this.fsProxy=e.readString(),this.key=e.readString()}),2,!1),c.REC_STATE=s.defineEnum([["NO_RECORD",0],["STARTING",1],["RECORDING",2],["PAUSED",3],["STOPPING",4]]),s.defineSequence(c,"FileServerSeqHelper","Conference.FileServerInfo",!1),Object.defineProperty(c,"INVALID_COUNTDOWN",{value:-1}),Object.defineProperty(c,"CONFINFO_HOSTPWD",{value:"hostpwd"}),Object.defineProperty(c,"CONFINFO_CONFPWD",{value:"confpwd"}),Object.defineProperty(c,"CONFINFO_SCHEDULETIME",{value:"scheduletime"}),Object.defineProperty(c,"CONFINFO_SUBJECT",{value:"subject"}),Object.defineProperty(c,"CONFINFO_URL",{value:"url"}),Object.defineProperty(c,"CONFINFO_URLPIC",{value:"urlpic"}),Object.defineProperty(c,"CONFINFO_PSTNNUM",{value:"pstnnum"}),Object.defineProperty(c,"CONFINFO_PSTNPWD",{value:"pstnpwd"}),Object.defineProperty(c,"CONFINFO_AGENDA",{value:"agenda"}),Object.defineProperty(c,"CONFINFO_SUPPORT_VLIST",{value:"vlist"}),Object.defineProperty(c,"CONFINFO_ROOM_SIZETYPE",{value:"roomsizetype"}),Object.defineProperty(c,"CONFINFO_ISTEST",{value:"istest"}),Object.defineProperty(c,"CONFINFO_ISDEMO",{value:"isdemo"}),Object.defineProperty(c,"CONFINFO_HOTLINE",{value:"hotline"}),Object.defineProperty(c,"CONFINFO_ISFIX",{value:"isfixed"}),Object.defineProperty(c,"CONFINFO_HD",{value:"hd"}),Object.defineProperty(c,"CONFINFO_PSTNNOTICE",{value:"pstnnotice"}),Object.defineProperty(c,"CONFINFO_FUNC_VIDEOWALL",{value:"videowall"}),Object.defineProperty(c,"CONFINFO_VIDEO_ENABLE",{value:"video"}),Object.defineProperty(c,"CONFINFO_SHOW_MAIN_AD",{value:"main_ad"}),Object.defineProperty(c,"CONFINFO_VIDEO_MONITOR",{value:"vmonitor"}),Object.defineProperty(c,"CONFINFO_USE_PHONE",{value:"use_phone"}),Object.defineProperty(c,"CONFINFO_INVITE",{value:"invite"}),Object.defineProperty(c,"CONFINFO_VIDEO_LUBO",{value:"lubo"}),Object.defineProperty(c,"CONFINFO_MEDIA_PLAY",{value:"media_play"}),Object.defineProperty(c,"CONFINFO_MULTI_CAMERAS",{value:"multiple_cameras"}),Object.defineProperty(c,"CONFINFO_SUPPORT_BRIDGE",{value:"bridge"}),Object.defineProperty(c,"CONFINFO_SCREEN_SHARE",{value:"screen_share"}),Object.defineProperty(c,"CONFINFO_DOCUMENT_SHOW",{value:"document_show"}),Object.defineProperty(c,"CONFINFO_WHITE_BOARD",{value:"whiteboard"}),Object.defineProperty(c,"CONFINFO_ANSWER_QUESTION",{value:"answer_question"}),Object.defineProperty(c,"CONFINFO_FILE_SHARE",{value:"file_share"}),Object.defineProperty(c,"CONFINFO_MEETING_INFO",{value:"meeting_info"}),Object.defineProperty(c,"CONFINFO_OMNIDIRECTIONAL_MIC",{value:"omnidirectional_mic"}),Object.defineProperty(c,"CONFINFO_MEET_MODE",{value:"meeting_mode"}),Object.defineProperty(c,"CONFINFO_USER_ROLE",{value:"user_role"}),Object.defineProperty(c,"CONFINFO_COMPANY_ID",{value:"compid"}),Object.defineProperty(c,"CONFINFO_USER_NETDISK_ENABLE",{value:"user_net_disk"}),Object.defineProperty(c,"CONFINFO_COMP_NETDISK_ENABLE",{value:"comp_net_disk"}),Object.defineProperty(c,"CONFINFO_FREECONF",{value:"freeconf"}),Object.defineProperty(c,"CONFINFO_MAINVIDEO_SHOWMODE",{value:"main_svm"}),Object.defineProperty(c,"CONFINFO_IS_BROADCATING",{value:"rtmpliveon"}),Object.defineProperty(c,"CONFINFO_WEBVIEWER_NUM",{value:"webviewer_num"}),Object.defineProperty(c,"CONFINFO_WEBVIEWER_RIGHTS",{value:"webviewer_rights"}),Object.defineProperty(c,"CONFINFO_WEBVIEWER_QUES",{value:"webviewer_ques"}),Object.defineProperty(c,"CONFINFO_BROADCAST_DURATION",{value:"rtmplivetm"}),Object.defineProperty(c,"CONFINFO_WB_CONTAINERSIZE",{value:"wb_container"}),Object.defineProperty(c,"CONFINFO_H264_PROFILE",{value:"h264profile"}),Object.defineProperty(c,"CONFINFO_H264_NOCABAC",{value:"h264nocabac"}),Object.defineProperty(c,"CONFINFO_H264_SLICEMAXSZ",{value:"h264slicemaxsz"}),Object.defineProperty(c,"CONFINFO_H264_IFRAME",{value:"h264iframe"}),Object.defineProperty(c,"CONFINFO_H264_NOHARDCODING",{value:"h264nohardcoding"}),Object.defineProperty(c,"CONFINFO_SCREEN_ENCTYPE",{value:"screenenctype"}),Object.defineProperty(c,"CONFINFO_HIFPS_VALUE",{value:"hi_fps"}),Object.defineProperty(c,"CONFINFO_H264_PICMAXSIZE",{value:"h264picmaxsize"}),Object.defineProperty(c,"CONFINFO_SUPPORT_SIP",{value:"is_sip"}),Object.defineProperty(c,"CONFINFO_MS_MODE",{value:"ms_mode"}),Object.defineProperty(c,"CONFINFO_H264_ENCFIXEDSZ",{value:"h264encfixedsz"}),Object.defineProperty(c,"CONFINFO_HD_FOR_MOBILE",{value:"hd_for_mobile"}),Object.defineProperty(c,"CONFINFO_LOG_LEVEL",{value:"log_level"}),Object.defineProperty(c,"CONFINFO_LIVE_CONFIG",{value:"livecfg"}),Object.defineProperty(c,"CONFINFO_SRV_RECORDSTATE",{value:"srv_record_state"}),Object.defineProperty(c,"CONFINFO_SRV_RECORDCFG",{value:"srv_record_cfg"}),Object.defineProperty(c,"CONFINFO_SVR_RECORDOWNER",{value:"svr_record_owner"}),Object.defineProperty(c,"CONFINFO_VIDEO_VPU_SUPPORT_ENC",{value:"vpu_support_enc"}),Object.defineProperty(c,"CONFINFO_VIDEO_VPU_SUPPORT_DEC",{value:"vpu_supportd_dec"}),Object.defineProperty(c,"CONFINFO_VIDEO_VPU_UNSUPPORT_ENC_DEV",{value:"vpu_unsupport_enc_dev"}),Object.defineProperty(c,"CONFINFO_VIDEO_VPU_UNSUPPORT_DEC_DEV",{value:"vpu_unsupport_dec_dev"}),Object.defineProperty(c,"CONFINFO_VIDEOLIST_MODE",{value:"vlistmode"}),Object.defineProperty(c,"CONFINFO_VIDEOLIST_CAMS",{value:"vlistcams"}),Object.defineProperty(c,"CONFINFO_MAX_VIDEOUIS",{value:"maxvuis"}),Object.defineProperty(c,"CONFINFO_VIDEOWALL_LAYOUT",{value:"vwalllo"}),Object.defineProperty(c,"CONFINFO_UI_LOCKSTATUS",{value:"uilock"}),Object.defineProperty(c,"CONFINFO_SRV_RECORD",{value:"srv_record"}),Object.defineProperty(c,"CONFINFO_SHOW_LIVE",{value:"show_live"}),Object.defineProperty(c,"CONFINFO_SIGNIN",{value:"signinurl"}),Object.defineProperty(c,"CONFINFO_EXTTAB_URL",{value:"exttaburl"}),Object.defineProperty(c,"CONFINFO_PRIVTAB_INFO",{value:"privtabinfo"}),Object.defineProperty(c,"CONFINFO_PRIVATE_FILE_SERVER",{value:"privfs"}),Object.defineProperty(c,"CONFINFO_DOC_BACKUP_COMP_NDD",{value:"doc_backup_comp_ndd"}),Object.defineProperty(c,"CONFINFO_OEMKEY",{value:"oem_key"}),Object.defineProperty(c,"CONFINFO_VIDEOCUSTOMBPS",{value:"video_custom_bps"}),Object.defineProperty(c,"CONFINFO_CONFIRM_AUTOEND_TYPE",{value:"autoend"}),Object.defineProperty(c,"CONFINFO_RECORD_ALL_MEMBER",{value:"record_all"}),Object.defineProperty(c,"CONFINFO_ACCESS_KEEPALIVE_TIME",{value:"kp_time_a"}),Object.defineProperty(c,"CONFINFO_CONTROL_KEEPALIVE_TIME",{value:"kp_time_c"}),Object.defineProperty(c,"CONFINFO_NEW_CONFID",{value:"new_confid"}),Object.defineProperty(c,"CONFINFO_FS_HTTP",{value:"fs_http"}),Object.defineProperty(c,"CONFINFO_SHARE_CFG",{value:"share_cfg"}),Object.defineProperty(c,"CONFINFO_MCU_MAX_VIDEOUIS",{value:"mcu_maxvuis"}),Object.defineProperty(c,"CONFINFO_MEETING_CHECK",{value:"meeting_check"}),Object.defineProperty(c,"CONFINFO_DATA_CENTER_PROXY",{value:"dcenter_prxy"}),Object.defineProperty(c,"CONFINFO_DATA_CENTER_KEY",{value:"dcenter_key"}),Object.defineProperty(c,"CONFINFO_MCU_RECORD_ID",{value:"mcu_recid"}),Object.defineProperty(c,"CONFINFO_IS_SDKMEETING",{value:"is_sdkmeeting"}),Object.defineProperty(c,"CONF_END_REASON_UNKOWN",{value:"unkown"}),Object.defineProperty(c,"CONF_END_REASON_TERM",{value:"term"}),Object.defineProperty(c,"CONF_END_REASON_AUTO",{value:"auto"}),Object.defineProperty(c,"CONF_END_REASON_WEB",{value:"web"}),Object.defineProperty(c,"CONF_END_REASON_AAA",{value:"aaa"}),Object.defineProperty(c,"CONF_END_REASON_HOST_OFFLINE",{value:"host_offline"}),Object.defineProperty(c,"LEFT_REASON_KICK",{value:"kick"}),Object.defineProperty(c,"LEFT_REASON_REFRESH",{value:"refresh"}),Object.defineProperty(c,"LEFT_REASON_EXTRUDE",{value:"extrude"}),Object.defineProperty(c,"LEFT_REASON_TIMEOUT",{value:"timeout"}),Object.defineProperty(c,"LEFT_REASON_SEAT",{value:"seat"}),Object.defineProperty(c,"LEFT_REASON_EXIT",{value:"exit"}),Object.defineProperty(c,"LEFT_REASON_BUSY",{value:"busy"}),Object.defineProperty(c,"LEFT_REASON_BALANCE_LESS",{value:"balance_less"}),Object.defineProperty(c,"LEFT_REASON_TOKENTIMEOUT",{value:"token_timeout"}),Object.defineProperty(c,"LEFT_REASON_SUBMEETING",{value:"sub_meeting"}),Object.defineProperty(c,"KNOCKED_REASON_ROOMLOCKED",{value:"room_locked"}),Object.defineProperty(c,"KNOCKED_REASON_SEATLESS",{value:"seat_less"}),Object.defineProperty(c,"KNOCKED_REASON_BALANCELESS",{value:"balance_less"}),Object.defineProperty(c,"BOARDCAST_RTMP",{value:"rtmp"}),Object.defineProperty(c,"BOARDCAST_RTMP2",{value:"rtmp2"}),Object.defineProperty(c,"BOARDCAST_SCREEN_RTMP",{value:"rtmp_screen"}),Object.defineProperty(c,"BOARDCAST_HLS",{value:"hls"}),Object.defineProperty(c,"BOARDCAST_HLS2",{value:"hls2"}),Object.defineProperty(c,"BOARDCAST_SCREEN_HLS",{value:"hls_screen"}),Object.defineProperty(c,"BROADCAST_FLV",{value:"flv"}),n.Conference=c}(void 0!==t&&t.process,_.__require,_),function(e,t,n){var i=t("ice").Ice,r=i.__M,o=(t("Common/Exception").Common,r.require(e,["Control/PublicTypes","Control/Contact"]).Conference),s=i.Slice;Object.defineProperty(o,"ACNT_ADMIN",{value:0}),Object.defineProperty(o,"ACNT_MEETCREATOR",{value:1}),Object.defineProperty(o,"ACNT_PARTICIPANTS",{value:2}),Object.defineProperty(o,"MINFO_ALLCAMS",{value:"allCams"}),Object.defineProperty(o,"MINFO_OPENEDCAMIDS",{value:"openedCamIDs"}),Object.defineProperty(o,"MINFO_ACNTTYPE",{value:"anctType"}),Object.defineProperty(o,"MINFO_WDTXDTYPE",{value:"WDTXDType"}),Object.defineProperty(o,"WDTXDTYPE_ADMIN",{value:"1"}),Object.defineProperty(o,"WDTXDTYPE_USER",{value:"2"}),Object.defineProperty(o,"MINFO_PSTNIVR",{value:"ivr"}),Object.defineProperty(o,"PSTNIVR_YES",{value:"1"}),Object.defineProperty(o,"MINFO_YDYUSERID",{value:"ydyuserid"}),o.Member=s.defineStruct((function(e,t,n,i,r,s,c,a,l,u,d,h){this.termId=void 0!==e?e:0,this.bindId=void 0!==t?t:0,this.termType=void 0!==n?n:0,this.nickname=void 0!==i?i:"",this.actor=void 0!==r?r:0,this.audioStatus=void 0!==s?s:o.ASTATUS.AUNKNOWN,this.videoStatus=void 0!==c?c:o.VSTATUS.VUNKNOWN,this.bEnableVideo=void 0!==a&&a,this.rights=void 0!==l?l:null,this.contactId=void 0!==u?u:new o.ContactIdType,this.phone=void 0!==d?d:"",this.extProperty=void 0!==h?h:null}),!1,(function(e){e.writeShort(this.termId),e.writeShort(this.bindId),e.writeByte(this.termType),e.writeString(this.nickname),e.writeByte(this.actor),o.ASTATUS.__write(e,this.audioStatus),o.VSTATUS.__write(e,this.videoStatus),e.writeBool(this.bEnableVideo),o.ByteListHelper.write(e,this.rights),o.ContactIdType.write(e,this.contactId),e.writeString(this.phone),o.StringStringMapHelper.write(e,this.extProperty)}),(function(e){this.termId=e.readShort(),this.bindId=e.readShort(),this.termType=e.readByte(),this.nickname=e.readString(),this.actor=e.readByte(),this.audioStatus=o.ASTATUS.__read(e),this.videoStatus=o.VSTATUS.__read(e),this.bEnableVideo=e.readBool(),this.rights=o.ByteListHelper.read(e),this.contactId=o.ContactIdType.read(e,this.contactId),this.phone=e.readString(),this.extProperty=o.StringStringMapHelper.read(e)}),18,!1),s.defineSequence(o,"MemberSeqHelper","Conference.Member",!1),n.Conference=o}(void 0!==t&&void 0!==t.process?i:void 0,_.__require,_),function(e,t,n){var i=t("ice").Ice,r=i.__M,o=(i.Slice,r.module("Conference"));Object.defineProperty(o,"PUBLIC_CHAT",{value:1}),Object.defineProperty(o,"PRIVATE_HOST_CHAT",{value:2}),Object.defineProperty(o,"PRIVATE_DEMO_CHAT",{value:3}),Object.defineProperty(o,"PRIVATE_OTHER_CHAT",{value:4}),Object.defineProperty(o,"SCREEN_RECORD",{value:11}),Object.defineProperty(o,"FILE_SHARE",{value:5}),Object.defineProperty(o,"WB_VIEW_PAGE",{value:9}),Object.defineProperty(o,"WB_VIEW_ANY",{value:10}),Object.defineProperty(o,"DEMO_RIGHT_MANAGE",{value:50}),Object.defineProperty(o,"DEMO_ACTOR_MANAGE",{value:51}),Object.defineProperty(o,"OPTION_MANAGE",{value:60}),Object.defineProperty(o,"HOST_ACTOR_MANAGE",{value:70}),Object.defineProperty(o,"LOCK_RIGHT",{value:71}),Object.defineProperty(o,"KICKOUT_RIGHT",{value:72}),Object.defineProperty(o,"END_CONFERENCE_RIGHT",{value:73}),Object.defineProperty(o,"MEMBER_INFO_MANAGE",{value:74}),Object.defineProperty(o,"INVITE_RIGHT",{value:75}),Object.defineProperty(o,"BEGIN_CONFERENCE_RIGHT",{value:76}),Object.defineProperty(o,"UPLOAD_FILE",{value:80}),Object.defineProperty(o,"DEL_OTHERS_FILE",{value:81}),Object.defineProperty(o,"START_NOTICE",{value:85}),Object.defineProperty(o,"STOP_NOTICE",{value:86}),Object.defineProperty(o,"START_ROLL_CALL",{value:90}),Object.defineProperty(o,"STOP_ROLL_CALL",{value:91}),Object.defineProperty(o,"OPEN_OTHERS_MIC",{value:95}),Object.defineProperty(o,"CLOSE_OTHERS_MIC",{value:96}),Object.defineProperty(o,"ALL_SILENCE",{value:97}),Object.defineProperty(o,"CHANGE_VIDEO_FOCUS_WINDOW_MODE",{value:100}),Object.defineProperty(o,"CHANGE_VIDEO_LAYOUT_MODE",{value:101}),Object.defineProperty(o,"SET_CURRENT_TAB",{value:105}),Object.defineProperty(o,"SET_FULLSCREEN",{value:106}),Object.defineProperty(o,"SET_FRAME_LAYOUT",{value:107}),Object.defineProperty(o,"FORCE_SYNC",{value:108}),Object.defineProperty(o,"WB_CREATE",{value:110}),Object.defineProperty(o,"WB_CLOSE",{value:111}),Object.defineProperty(o,"WB_CHANGE_NAME",{value:112}),Object.defineProperty(o,"WB_MARK",{value:113}),Object.defineProperty(o,"WB_SAVE",{value:114}),Object.defineProperty(o,"WB_PAGE_IMPORT",{value:115}),Object.defineProperty(o,"WB_CHANGE_SCALE",{value:116}),Object.defineProperty(o,"WB_ROTATE",{value:117}),Object.defineProperty(o,"WB_SET_CURRENT_PAGE",{value:118}),Object.defineProperty(o,"WB_SET_HOTSPOT",{value:119}),Object.defineProperty(o,"WB_SET_MARK_TERMS",{value:120}),Object.defineProperty(o,"SCREEN_SHARE_OPERATE",{value:130}),n.Conference=o}(void 0!==t&&t.process,_.__require,_),function(e,t,n){var i=t("ice").Ice,r=(i.__M,t("Common/Exception").Common),o=t("Control/PublicTypes").Conference,s=i.Slice;o.ConferenceSessionV4=s.defineObject(void 0,i.Object,void 0,0,["::Conference::ConferenceSessionV4","::Ice::Object"],-1,void 0,void 0,!1),o.ConferenceSessionV4Prx=s.defineProxy(i.ObjectPrx,o.ConferenceSessionV4.ice_staticId,void 0),s.defineOperations(o.ConferenceSessionV4,o.ConferenceSessionV4Prx,{sendCmd:[,,,1,,,[[7],[7],[7],["Ice.ByteSeqHelper"]],[[7],["Ice.ByteSeqHelper"]],[r.ConferenceError],,]}),n.Conference=o}(void 0!==t&&t.process,_.__require,_),function(e,t,n){var i=t("ice").Ice,r=i.__M,o=t("Common/Exception").Common,s=r.require(e,["Control/Member","Control/Contact","Control/PublicTypes","Control/Notice","Control/ConferenceV4"]).Conference,c=i.Slice;s.LoginResponse=c.defineStruct((function(e,t,n,i,r,o,c,a,l,u,d,h,f,p,_,g,y,C,v,m,S,I,E){this.termId=void 0!==e?e:0,this.option=void 0!==t?t:0,this.myDetail=void 0!==n?n:new s.Contact,this.modules=void 0!==i?i:null,this.activeMembers=void 0!==r?r:null,this.ServerUTCTime=void 0!==o?o:0,this.bRoomLocked=void 0!==c&&c,this.confInfo=void 0!==a?a:null,this.isBegan=void 0!==l&&l,this.countdown=void 0!==u?u:0,this.fileServers=void 0!==d?d:null,this.vqs=void 0!==h?h:null,this.windowMode=void 0!==f?f:s.WINDOW_MODE.VMANAGER_LOCK,this.mainVideoTermID=void 0!==p?p:0,this.vlo=void 0!==_?_:s.VIDEOLAYOUTMODE.VLO_1v1_M,this.bAllowWall=void 0!==g&&g,this.curMainTab=void 0!==y?y:new s.TabID,this.curSubTab=void 0!==C?C:new s.TabID,this.bFull=void 0!==v&&v,this.sm=void 0!==m?m:s.SYNCMODE.SYNC_FORCE,this.lastTabValue=void 0!==S?S:0,this.lastElemValue=void 0!==I?I:0,this.wbDescibes=void 0!==E?E:null}),!1,(function(e){e.writeShort(this.termId),e.writeInt(this.option),s.Contact.write(e,this.myDetail),s.ModuleDictHelper.write(e,this.modules),s.MemberSeqHelper.write(e,this.activeMembers),e.writeInt(this.ServerUTCTime),e.writeBool(this.bRoomLocked),s.StringStringMapHelper.write(e,this.confInfo),e.writeBool(this.isBegan),e.writeInt(this.countdown),s.FileServerSeqHelper.write(e,this.fileServers),s.VideoQualitySeqHelper.write(e,this.vqs),s.WINDOW_MODE.__write(e,this.windowMode),e.writeShort(this.mainVideoTermID),s.VIDEOLAYOUTMODE.__write(e,this.vlo),e.writeBool(this.bAllowWall),s.TabID.write(e,this.curMainTab),s.TabID.write(e,this.curSubTab),e.writeBool(this.bFull),s.SYNCMODE.__write(e,this.sm),e.writeShort(this.lastTabValue),e.writeShort(this.lastElemValue),s.WhiteBoardDescribeSeqHelper.write(e,this.wbDescibes)}),(function(e){this.termId=e.readShort(),this.option=e.readInt(),this.myDetail=s.Contact.read(e,this.myDetail),this.modules=s.ModuleDictHelper.read(e),this.activeMembers=s.MemberSeqHelper.read(e),this.ServerUTCTime=e.readInt(),this.bRoomLocked=e.readBool(),this.confInfo=s.StringStringMapHelper.read(e),this.isBegan=e.readBool(),this.countdown=e.readInt(),this.fileServers=s.FileServerSeqHelper.read(e),this.vqs=s.VideoQualitySeqHelper.read(e),this.windowMode=s.WINDOW_MODE.__read(e),this.mainVideoTermID=e.readShort(),this.vlo=s.VIDEOLAYOUTMODE.__read(e),this.bAllowWall=e.readBool(),this.curMainTab=s.TabID.read(e,this.curMainTab),this.curSubTab=s.TabID.read(e,this.curSubTab),this.bFull=e.readBool(),this.sm=s.SYNCMODE.__read(e),this.lastTabValue=e.readShort(),this.lastElemValue=e.readShort(),this.wbDescibes=s.WhiteBoardDescribeSeqHelper.read(e)}),50,!1),s.ConferenceRoom=c.defineObject(void 0,i.Object,[s.ConferenceSessionV4],0,["::Conference::ConferenceRoom","::Conference::ConferenceSessionV4","::Ice::Object"],-1,void 0,void 0,!1),s.ConferenceRoomPrx=c.defineProxy(i.ObjectPrx,s.ConferenceRoom.ice_staticId,[s.ConferenceSessionV4Prx]),c.defineOperations(s.ConferenceRoom,s.ConferenceRoomPrx,{login:[,,,1,,[s.LoginResponse],[[s.LoginRequest]],,[o.ConferenceError],,]}),s.SSLoginRequest=c.defineStruct((function(e,t,n,i,r,o,s,c){this.confKey=void 0!==e?e:"",this.memberId=void 0!==t?t:0,this.memberType=void 0!==n?n:0,this.phoneNum=void 0!==i?i:"",this.callbacks=void 0!==r?r:null,this.accessNo=void 0!==o?o:0,this.PIN=void 0!==s?s:"",this.sessionId=void 0!==c?c:""}),!1,(function(e){e.writeString(this.confKey),e.writeInt(this.memberId),e.writeByte(this.memberType),e.writeString(this.phoneNum),s.ModuleDictHelper.write(e,this.callbacks),e.writeInt(this.accessNo),e.writeString(this.PIN),e.writeString(this.sessionId)}),(function(e){this.confKey=e.readString(),this.memberId=e.readInt(),this.memberType=e.readByte(),this.phoneNum=e.readString(),this.callbacks=s.ModuleDictHelper.read(e),this.accessNo=e.readInt(),this.PIN=e.readString(),this.sessionId=e.readString()}),14,!1),s.SSLoginResponse=c.defineStruct((function(e,t,n,i,r,o,c,a){this.termId=void 0!==e?e:0,this.modules=void 0!==t?t:null,this.actor=void 0!==n?n:0,this.needPIN=void 0!==i&&i,this.PINLen=void 0!==r?r:0,this.currentTermNum=void 0!==o?o:0,this.isBegan=void 0!==c&&c,this.audioStatus=void 0!==a?a:s.ASTATUS.AUNKNOWN}),!1,(function(e){e.writeShort(this.termId),s.ModuleDictHelper.write(e,this.modules),e.writeByte(this.actor),e.writeBool(this.needPIN),e.writeByte(this.PINLen),e.writeInt(this.currentTermNum),e.writeBool(this.isBegan),s.ASTATUS.__write(e,this.audioStatus)}),(function(e){this.termId=e.readShort(),this.modules=s.ModuleDictHelper.read(e),this.actor=e.readByte(),this.needPIN=e.readBool(),this.PINLen=e.readByte(),this.currentTermNum=e.readInt(),this.isBegan=e.readBool(),this.audioStatus=s.ASTATUS.__read(e)}),12,!1),Object.defineProperty(s,"PHASE_ALERTING",{value:0}),Object.defineProperty(s,"PHASE_CONNECT",{value:1}),Object.defineProperty(s,"PHASE_END",{value:2}),Object.defineProperty(s,"END_REASON_NORMAL",{value:0}),Object.defineProperty(s,"END_REASON_NO_ANSWER",{value:1}),Object.defineProperty(s,"END_REASON_REJECT",{value:2}),Object.defineProperty(s,"END_REASON_CONNECT_ERR",{value:3}),Object.defineProperty(s,"END_REASON_USER_BUSY",{value:4}),Object.defineProperty(s,"END_REASON_BALANCE_LESS",{value:5}),s.SoftSwitchUser=c.defineObject(void 0,i.Object,void 0,0,["::Conference::SoftSwitchUser","::Ice::Object"],-1,void 0,void 0,!1),s.SoftSwitchUserPrx=c.defineProxy(i.ObjectPrx,s.SoftSwitchUser.ice_staticId,void 0),c.defineOperations(s.SoftSwitchUser,s.SoftSwitchUserPrx,{login:[,,,1,,[s.SSLoginResponse],[[s.SSLoginRequest]],,[o.ConferenceError],,],callProgress:[,,,1,,,[[3],[3],[7]],,,,]}),s.AAAReport=c.defineObject(void 0,i.Object,void 0,0,["::Conference::AAAReport","::Ice::Object"],-1,void 0,void 0,!1),s.AAAReportPrx=c.defineProxy(i.ObjectPrx,s.AAAReport.ice_staticId,void 0),c.defineOperations(s.AAAReport,s.AAAReportPrx,{callBalanceLess:[,,,1,,,[[7],[7]],,[o.ConferenceError],,]}),c.defineDictionary(s,"IntMemberMap","IntMemberMapHelper","Ice.IntHelper","Conference.Member",!1,void 0,void 0,i.HashMap.compareEquals),s.AllMembersInfo=c.defineStruct((function(e,t){this.sn=void 0!==e?e:0,this.memberMap=void 0!==t?t:null}),!1,(function(e){e.writeLong(this.sn),s.IntMemberMapHelper.write(e,this.memberMap)}),(function(e){this.sn=e.readLong(),this.memberMap=s.IntMemberMapHelper.read(e)}),9,!1),s.ConfDataCenter=c.defineObject(void 0,i.Object,void 0,0,["::Conference::ConfDataCenter","::Ice::Object"],-1,void 0,void 0,!1),s.ConfDataCenterPrx=c.defineProxy(i.ObjectPrx,s.ConfDataCenter.ice_staticId,void 0),c.defineOperations(s.ConfDataCenter,s.ConfDataCenterPrx,{getActiveMembers:[,,,1,,[s.AllMembersInfo],[[7]],,[o.ConferenceError],,]}),s.WebAdmin=c.defineObject(void 0,i.Object,void 0,0,["::Conference::WebAdmin","::Ice::Object"],-1,void 0,void 0,!1),s.WebAdminPrx=c.defineProxy(i.ObjectPrx,s.WebAdmin.ice_staticId,void 0),c.defineOperations(s.WebAdmin,s.WebAdminPrx,{refresInvitees:[,,,1,,,,,[o.ConferenceError],,],refreshOptions:[,,,1,,,,,[o.ConferenceError],,],getConfStatus:[,,,1,,[7],,,,,],callInvite:[,,,1,,,[[7],[7],[1]],,[o.ConferenceError],,],getLiveStream:[,,,1,,["Conference.StringStringMapHelper"],,,[o.ConferenceError],,],requestThirdPartyLiveStreamUrl:[,,,1,,[7],[[3]],,,,],notifyLiveStreamStatus:[,,,1,,,[[3],[3]],,,,],refreshThirdPublishStatus:[,,,1,,,,,,,],startListLive:[,,,1,,[3],[[7]],,[o.ConferenceError],,],stopListLive:[,,,1,,[3],,,,,],notifyRedStatus:[,,,1,,,[[3],[7],[3],[3],[7],[7],[7],[7]],,,,],notifyThumbUp:[,,,1,,,[[3],[3],[3],[7]],,,,],notifypayback:[,,,1,,,[[3],[7]],,,,],swtichLiveAppElements:[,,,1,,,[[3],[2]],,,,],getActiveMembers:[,,,1,,["Conference.MemberSeqHelper"],,,[o.ConferenceError],,],startRtsp:[,,,1,,[7],[[3],[3],[3],[3]],,[o.ConferenceError],,],stopRtsp:[,,,1,,,,,[o.ConferenceError],,],getRtspInfo:[,,,1,,["Conference.StringStringMapHelper"],,,[o.ConferenceError],,],updateRtspContent:[,,,1,,,[[3],[3]],,[o.ConferenceError],,],startNoticeMsg:[,,,1,,,[[s.NoticeInfo]],,,,],kickout:[,,,1,,,[[7]],,[o.ConferenceError],,],sendMsg:[,,,1,,,[[7],[7]],,[o.ConferenceError],,],sendVoteMsg:[,,,1,,,[[7]],,[o.ConferenceError],,],sendVoteMsg2Host:[,,,1,,,[[7]],,[o.ConferenceError],,]}),c.defineDictionary(s,"MemberRights","MemberRightsHelper","Ice.ShortHelper","Conference.ByteListHelper",!1,void 0,void 0,i.ArrayUtil.equals),s.ChangedRights=c.defineStruct((function(e,t,n){this.termId=void 0!==e?e:0,this.addedRights=void 0!==t?t:null,this.reducedRights=void 0!==n?n:null}),!0,(function(e){e.writeShort(this.termId),s.ByteListHelper.write(e,this.addedRights),s.ByteListHelper.write(e,this.reducedRights)}),(function(e){this.termId=e.readShort(),this.addedRights=s.ByteListHelper.read(e),this.reducedRights=s.ByteListHelper.read(e)}),4,!1),c.defineSequence(s,"ChangedRightsSeqHelper","Conference.ChangedRights",!1),Object.defineProperty(s,"INVITE_PREPARE",{value:0}),Object.defineProperty(s,"PSTN_CALLING",{value:1}),Object.defineProperty(s,"PSTN_RING",{value:2}),Object.defineProperty(s,"PSTN_CONNECTED",{value:3}),Object.defineProperty(s,"PSTN_HUNG",{value:4}),Object.defineProperty(s,"PSTN_NO_ANSWER",{value:5}),Object.defineProperty(s,"PSTN_REJECT",{value:6}),Object.defineProperty(s,"PSTN_CONNECT_ERR",{value:7}),Object.defineProperty(s,"PSTN_BUSY",{value:8}),Object.defineProperty(s,"AAA_ACCOUNT_NOT_EXIST",{value:100}),Object.defineProperty(s,"AAA_NO_PERMIT",{value:101}),Object.defineProperty(s,"AAA_BALANCE_NOT_ENOUGH",{value:102}),Object.defineProperty(s,"INV_SMS_FAILED",{value:2}),Object.defineProperty(s,"INV_SMS_SUCCESS",{value:1}),Object.defineProperty(s,"INV_EMAIL_FAILED",{value:2}),Object.defineProperty(s,"INV_EMAIL_SUCCESS",{value:1}),Object.defineProperty(s,"INV_EMAIL_READED",{value:3}),Object.defineProperty(s,"WDT_1V1SUBMT_MONITOR",{value:0}),Object.defineProperty(s,"WDT_1v1SUBMT_CHAT",{value:1}),s.InvitedMember=c.defineStruct((function(e,t,n){this.member=void 0!==e?e:new s.Contact,this.pstnNotice=void 0!==t&&t,this.state=void 0!==n?n:0}),!0,(function(e){s.Contact.write(e,this.member),e.writeBool(this.pstnNotice),e.writeInt(this.state)}),(function(e){this.member=s.Contact.read(e,this.member),this.pstnNotice=e.readBool(),this.state=e.readInt()}),14,!1),c.defineSequence(s,"InvitedMembersHelper","Conference.InvitedMember",!1),s.INVITE_TYPE=c.defineEnum([["TP_CALL",0],["TP_SMS",1],["TP_EMAIL",2]]),c.defineDictionary(s,"InvitedMembersDict","InvitedMembersDictHelper","Conference.INVITE_TYPE.__helper","Conference.InvitedMembersHelper",!1,void 0,void 0,i.ArrayUtil.equals),c.defineDictionary(s,"HistoryMembers","HistoryMembersHelper","Ice.ShortHelper","Conference.Member",!1,void 0,void 0,i.HashMap.compareEquals),c.defineDictionary(s,"HistoryMemberNames","HistoryMemberNamesHelper","Ice.ShortHelper","Ice.StringHelper",!1,void 0,void 0),c.defineDictionary(s,"StatusDict","StatusDictHelper","Ice.StringHelper","Ice.StringHelper",!1,void 0,void 0),c.defineDictionary(s,"BroadCastDict","BroadCastDictHelper","Ice.StringHelper","Ice.StringHelper",!1,void 0,void 0),Object.defineProperty(s,"LD_MEMBER_LOCAL",{value:1}),Object.defineProperty(s,"LD_MEMBER_VIEWER",{value:2}),Object.defineProperty(s,"LD_MEMBER_ALL",{value:3}),s.LDPrize=c.defineStruct((function(e,t){this.prizeName=void 0!==e?e:"",this.prizeCnt=void 0!==t?t:0}),!0,(function(e){e.writeString(this.prizeName),e.writeInt(this.prizeCnt)}),(function(e){this.prizeName=e.readString(),this.prizeCnt=e.readInt()}),5,!1),s.LuckyDrawCfg=c.defineStruct((function(e,t,n,i){this.memberType=void 0!==e?e:0,this.cdTime=void 0!==t?t:0,this.isAutoDraw=void 0!==n&&n,this.prizes=void 0!==i?i:new s.LDPrize}),!0,(function(e){e.writeInt(this.memberType),e.writeInt(this.cdTime),e.writeBool(this.isAutoDraw),s.LDPrize.write(e,this.prizes)}),(function(e){this.memberType=e.readInt(),this.cdTime=e.readInt(),this.isAutoDraw=e.readBool(),this.prizes=s.LDPrize.read(e,this.prizes)}),14,!1),s.LuckyDrawMember=c.defineStruct((function(e,t,n){this.name=void 0!==e?e:"",this.contact=void 0!==t?t:"",this.memberType=void 0!==n?n:0}),!0,(function(e){e.writeString(this.name),e.writeString(this.contact),e.writeInt(this.memberType)}),(function(e){this.name=e.readString(),this.contact=e.readString(),this.memberType=e.readInt()}),6,!1),c.defineSequence(s,"LuckyDrawMembersHelper","Conference.LuckyDrawMember",!1),s.LDMembersCNT=c.defineStruct((function(e,t){this.memberLocalCnt=void 0!==e?e:0,this.memberViewerCnt=void 0!==t?t:0}),!0,(function(e){e.writeInt(this.memberLocalCnt),e.writeInt(this.memberViewerCnt)}),(function(e){this.memberLocalCnt=e.readInt(),this.memberViewerCnt=e.readInt()}),8,!0),s.LuckyResult=c.defineStruct((function(e,t,n){this.prize=void 0!==e?e:new s.LDPrize,this.annouceTime=void 0!==t?t:0,this.res=void 0!==n?n:null}),!0,(function(e){s.LDPrize.write(e,this.prize),e.writeInt(this.annouceTime),s.LuckyDrawMembersHelper.write(e,this.res)}),(function(e){this.prize=s.LDPrize.read(e,this.prize),this.annouceTime=e.readInt(),this.res=s.LuckyDrawMembersHelper.read(e)}),10,!1),s.VoteState=c.defineStruct((function(e,t,n,i,r){this.id=void 0!==e?e:"",this.voteOwner=void 0!==t?t:0,this.state=void 0!==n?n:0,this.voteInfo=void 0!==i?i:"",this.memberVotes=void 0!==r?r:null}),!1,(function(e){e.writeString(this.id),e.writeShort(this.voteOwner),e.writeInt(this.state),e.writeString(this.voteInfo),s.StringStringMapHelper.write(e,this.memberVotes)}),(function(e){this.id=e.readString(),this.voteOwner=e.readShort(),this.state=e.readInt(),this.voteInfo=e.readString(),this.memberVotes=s.StringStringMapHelper.read(e)}),9,!1),s.meetingAttr=c.defineStruct((function(e,t,n){this.value=void 0!==e?e:"",this.lastModifyUserID=void 0!==t?t:"",this.lastModifyTs=void 0!==n?n:0}),!0,(function(e){e.writeString(this.value),e.writeString(this.lastModifyUserID),e.writeInt(this.lastModifyTs)}),(function(e){this.value=e.readString(),this.lastModifyUserID=e.readString(),this.lastModifyTs=e.readInt()}),6,!1),c.defineDictionary(s,"MeetingAttrsMap","MeetingAttrsMapHelper","Ice.StringHelper","Conference.meetingAttr",!1,void 0,void 0,i.HashMap.compareEquals),c.defineDictionary(s,"UserAttrsMap","UserAttrsMapHelper","Ice.StringHelper","Conference.MeetingAttrsMapHelper",!1,void 0,void 0,i.HashMap.compareEquals),c.defineSequence(s,"stringSeqHelper","Ice.StringHelper",!1),s.ConferenceSession=c.defineObject(void 0,i.Object,void 0,0,["::Conference::ConferenceSession","::Ice::Object"],-1,void 0,void 0,!1),s.ConferenceSessionPrx=c.defineProxy(i.ObjectPrx,s.ConferenceSession.ice_staticId,void 0),c.defineOperations(s.ConferenceSession,s.ConferenceSessionPrx,{keepAlive:[,,,1,,,[["Conference.StatusDictHelper"]],,[o.ConferenceError],,],exit:[,,,1,,,[[7]],,,,],setAppStatus:[,,,1,,,[[1]],,[o.ConferenceError],,],changeNickname:[,,,1,,[7],[[2],[7]],,[o.ConferenceError],,],getActiveMembers:[,,,1,,["Conference.MemberSeqHelper"],,,[o.ConferenceError],,],getContacts:[,,,1,,["Conference.ContactTreeHelper"],,,[o.ConferenceError],,],applyDemoActor:[,,,1,,,,,[o.ConferenceError],,],applyAssistantActor:[,,,1,,,,,[o.ConferenceError],,],getOption:[,,,1,,[3],,,[o.ConferenceError],,],getMyDetail:[,,,1,,[s.Contact],,,[o.ConferenceError],,],getInfo:[,,,1,,["Conference.StringStringMapHelper"],,,[o.ConferenceError],,],setAgenda:[,,,1,,,[[7]],,[o.ConferenceError],,],setSubject:[,,,1,,,[[7]],,[o.ConferenceError],,],getPSTNNumber:[,,,1,,[7],,,[o.ConferenceError],,],setPSTNNumber:[,,,1,,,[[7],[1]],,[o.ConferenceError],,],generatePIN:[,,,1,,[7],,,,,],cancelPIN:[,,,1,,,,,,,],changeMemberRights:[,,,1,,,[["Conference.ChangedRightsSeqHelper"]],,[o.ConferenceError],,],getAllMemberRights:[,,,1,,["Conference.MemberRightsHelper"],,,[o.ConferenceError],,],changeOption:[,,,1,,,[[3]],,[o.ConferenceError],,],setDemoActor:[,,,1,,,[[2]],,[o.ConferenceError],,],setHostActor:[,,,1,,,[[2],[7]],,[o.ConferenceError],,],setPSTNHostActor:[,,,1,,,[[s.ContactIdType]],,[o.ConferenceError],,],getPSTNHostActor:[,,,1,,[s.ContactIdType],,,[o.ConferenceError],,],allowDemoActor:[,,,1,,,[[2],[1]],,[o.ConferenceError],,],setAssistantActor:[,,,1,,,[[2],[1]],,[o.ConferenceError],,],getInviteMembers:[,,,1,,["Conference.InvitedMembersDictHelper"],,,[o.ConferenceError],,],getSelfInviteInfo:[,,,1,,[s.InvitedMember],,,[o.ConferenceError],,],addPSTNInvite:[,,,1,,["Conference.ContactIdSeqHelper"],[["Conference.ContactSeqHelper"],[1]],,[o.ConferenceError],,],modifyPSTNInvitee:[,,,1,,,[[s.INVITE_TYPE.__helper],[s.Contact]],,,,],smsInvite:[,,,1,,["Conference.ContactIdSeqHelper"],[["Conference.ContactSeqHelper"]],,[o.ConferenceError],,],callInvite:[,,,1,,["Conference.ContactIdSeqHelper"],[["Conference.ContactSeqHelper"],[1]],,[o.ConferenceError],,],emailInvite:[,,,1,,["Conference.ContactIdSeqHelper"],[["Conference.ContactSeqHelper"]],,[o.ConferenceError],,],removeInvitee:[,,,1,,,[[s.INVITE_TYPE.__helper],[s.Contact]],,[o.ConferenceError],,],cancelCall:[,,,1,,,[[s.ContactIdType]],,,,],callCustomerService:[,,,1,,,,,[o.ConferenceError],,],sendFeedback:[,,,1,,,[[7],[7]],,[o.ConferenceError],,],kickout:[,,,1,,,[[2]],,[o.ConferenceError],,],lockRoom:[,,,1,,,[[1]],,[o.ConferenceError],,],beginConference:[,,,1,,[s.ContactIdType],[[s.Contact]],,[o.ConferenceError],,],endConference:[,,,1,,,,,[o.ConferenceError],,],toggleRoomLock:[,,,1,,,,,[o.ConferenceError],,],broadcastMemberCount:[,,,1,,,,,[o.ConferenceError],,],getMemberCount:[,,,1,,[3],,,[o.ConferenceError],,],getBalance:[,,,1,,,,,[o.ConferenceError],,],cancelCountdown:[,,,1,,,,,[o.ConferenceError],,],getHistoryMembers:[,,,1,,["Conference.HistoryMembersHelper"],[["Ice.ShortSeqHelper"]],,[o.ConferenceError],,],getHistoryMemberNames:[,,,1,,["Conference.HistoryMemberNamesHelper"],,,[o.ConferenceError],,],cancelAutoEnd:[,,,1,,,,,[o.ConferenceError],,],netDetectResults:[,,,1,,,[[3],[1]],,[o.ConferenceError],,],getUserStatus:[,,,1,,["Conference.StringStringMapHelper"],[[2],[3]],,[o.ConferenceError],,],start1v1SubMeeting:[,,,1,,,[[2]],,[o.ConferenceError],,],stop1v1SubMeeting:[,,,1,,,[[2]],,[o.ConferenceError],,],setWDT1v1SubMeetingMode:[,,,1,,,[[3]],,,,],reportIVRStatus:[,,,1,,,[[1]],,,,],startSvrBroadcast:[,,,1,,,[[7]],,[o.ConferenceError],,],startBroadCast:[,,,1,,,,,[o.ConferenceError],,],stopBroadCast:[,,,1,,,,,[o.ConferenceError],,],getBroadCastCfg:[,,,1,,[7],,,[o.ConferenceError],,],getBroadCastUrl:[,,,1,,["Conference.BroadCastDictHelper"],,,,,],enableBroadCastPlayback:[,,,1,,,,,[o.ConferenceError],,],disableBroadCastPlayback:[,,,1,,,[[3]],,[o.ConferenceError],,],setLuckyDrawCfg:[,,,1,,,[[s.LuckyDrawCfg]],,[o.ConferenceError],,],joinLuckyDrawMembers:[,,,1,,,[["Conference.LuckyDrawMembersHelper"],[3]],,[o.ConferenceError],,],clearLuckyDrawMembers:[,,,1,,,[[3]],,[o.ConferenceError],,],queryLuckyDrawMembers:[,,,1,,["Conference.LuckyDrawMembersHelper"],[[3],[2],[3]],,,,],announceLuckyDrawResult:[,,,1,,,,,[o.ConferenceError],,],getLuckyDrawCfg:[,,,1,,[s.LuckyDrawCfg],,,[o.ConferenceError],,],getLuckyDrawMembersStatus:[,,,1,,[s.LDMembersCNT],,,[o.ConferenceError],,],startSvrRecord:[,,,1,,,[[7]],,[o.ConferenceError],,],updateSvrRecCfg:[,,,1,,,[[7]],,[o.ConferenceError],,],stopSvrRecord:[,,,1,,,,,[o.ConferenceError],,],setSvrRecordState:[,,,1,,,[[s.REC_STATE.__helper],[3]],,[o.ConferenceError],,],setSvrRecordFileState:[,,,1,,,[[7]],,,,],setAppUILocked:[,,,1,,,[[3]],,[o.ConferenceError],,],setMcuPrivTaskState:[,,,1,,,[[3]],,[o.ConferenceError],,],beginVote:[,,,1,,,[[7]],,[o.ConferenceError],,],endVote:[,,,1,,,,,[o.ConferenceError],,],publishVoteResult:[,,,1,,,[[7]],,[o.ConferenceError],,],commitVote:[,,,1,,,[[7]],,[o.ConferenceError],,],getVoteState:[,,,1,,[s.VoteState],,,[o.ConferenceError],,],terminalMsg:[,,,1,,,[[7],[7],[3],[1]],,,,],updateSCEP:[,,,1,,,[[7]],,,,],updateSDKToken:[,,,1,,[3],[[7]],,,,],getMeetingAllAttrs:[,,,1,,["Conference.MeetingAttrsMapHelper"],,,[o.ConferenceError],,],getMeetingAttrs:[,,,1,,["Conference.MeetingAttrsMapHelper"],[["Conference.stringSeqHelper"]],,[o.ConferenceError],,],setMeetingAttrs:[,,,1,,,[["Conference.StringStringMapHelper"],[7]],,[o.ConferenceError],,],addOrUpdateMeetingAttrs:[,,,1,,,[["Conference.StringStringMapHelper"],[7]],,[o.ConferenceError],,],delMeetingAttrs:[,,,1,,,[["Conference.stringSeqHelper"],[7]],,[o.ConferenceError],,],clearMeetingAttrs:[,,,1,,,[[7]],,[o.ConferenceError],,],getUserAttrs:[,,,1,,["Conference.UserAttrsMapHelper"],[["Conference.stringSeqHelper"]],,[o.ConferenceError],,],getUserAttrsWithKey:[,,,1,,["Conference.UserAttrsMapHelper"],[["Conference.stringSeqHelper"],["Conference.stringSeqHelper"]],,[o.ConferenceError],,],setUserAttrs:[,,,1,,,[[7],["Conference.StringStringMapHelper"],[7]],,[o.ConferenceError],,],addOrUpdateUserAttrs:[,,,1,,,[[7],["Conference.StringStringMapHelper"],[7]],,[o.ConferenceError],,],delUserAttrs:[,,,1,,,[[7],["Conference.stringSeqHelper"],[7]],,[o.ConferenceError],,],clearAllUserAttrs:[,,,1,,,[[7]],,[o.ConferenceError],,],clearUserAttrs:[,,,1,,,[["Conference.stringSeqHelper"],[7]],,[o.ConferenceError],,],startShare:[,,,1,,,[[7]],,[o.ConferenceError],,],stopShare:[,,,1,,,[[7]],,[o.ConferenceError],,],getWaitingMembers:[,,,1,,["Conference.WaitingMemberSeqHelper"],[[7]],,[o.ConferenceError],,],kickoutFromWaitRoom:[,,,1,,,[[7]],,[o.ConferenceError],,],acceptFromWaitRoom:[,,,1,,,[[7]],,[o.ConferenceError],,],gobackToWaitRoom:[,,,1,,,[[2]],,[o.ConferenceError],,],startCloudRecord:[,,,1,,,[[7],[7]],,,,],stopCloudRecord:[,,,1,,,[[7]],,,,],updateCloudRecord:[,,,1,,,[[7],[7]],,,,],setClodudRecordState:[,,,1,,,[[s.REC_STATE.__helper],[7]],,,,],setClodudRecordFileState:[,,,1,,,[[7]],,,,]}),Object.defineProperty(s,"SVR_NOTIFY_BALANCE_LESS",{value:1}),s.ConferenceCallback=c.defineObject(void 0,i.Object,void 0,0,["::Conference::ConferenceCallback","::Ice::Object"],-1,void 0,void 0,!1),s.ConferenceCallbackPrx=c.defineProxy(i.ObjectPrx,s.ConferenceCallback.ice_staticId,void 0),c.defineOperations(s.ConferenceCallback,s.ConferenceCallbackPrx,{entered:[,,,,,,[[s.Member]],,,,],left:[,,,,,,[[2],[2],[7],[7]],,,,],actorChanged:[,,,,,,[[2],[2],[0]],,,,],nicknameChanged:[,,,,,,[[2],[2],[7]],,,,],optionChanged:[,,,,,,[[3]],,,,],rightChanged:[,,,,,,[[s.ChangedRights]],,,,],roomStateChanged:[,,,,,,[[1]],,,,],inviteStateChanged:[,,,,,,[[s.INVITE_TYPE.__helper],[s.InvitedMember]],,,,],conferenceBegan:[,,,,,,,,,,],conferenceEnded:[,,,,,,[[s.Contact],[7]],,,,],memberCount:[,,,,,,[[3]],,,,],confirmAutoEnd:[,,,,,,[[3]],,,,],autoEndCancelled:[,,,,,,,,,,],roomKnocked:[,,,,,,[[s.Contact],[7]],,,,],agendaUpdated:[,,,,,,[[7]],,,,],subjectUpdated:[,,,,,,[[7]],,,,],notifyApplyDemo:[,,,,,,[[2]],,,,],notifyApplyRejected:[,,,,,,[[2],[2]],,,,],serverNotify:[,,,,,,[[3]],,,,],serverNotifyMsg:[,,,,,,[[7]],,,,],updateAppStatus:[,,,,,,[["Ice.ShortSeqHelper"],["Ice.ShortSeqHelper"]],,,,],notifyAssistantChanged:[,,,,,,[[2],[2],[1]],,,,],notifyNetDetectResults:[,,,,,,[[2],[3],[1]],,,,],notifyReportStatus:[,,,1,,["Conference.StringStringMapHelper"],[[2],[3]],,,,],exeCmd:[,,,1,,[7],[[7]],,,,],notifyStart1v1SubMeeting:[,,,1,,,[[2]],,[o.ConferenceError],,],notifyStop1v1SubMeeting:[,,,,,,[[2]],,,,],notifyStart1v1SubMeetingRslt:[,,,,,,[[2],[1]],,,,],setWDT1v1SubMeetingMode:[,,,,,,[[2],[3]],,,,],notifyIVRStatus:[,,,,,,[[2],[1]],,,,],notifyStartSvrBroadcast:[,,,,,,[[2],[7]],,,,],notifyStartBroadCast:[,,,,,,[[2]],,,,],notifyStopBroadCast:[,,,,,,[[2]],,,,],notifyWebViewerNum:[,,,,,,[[3]],,,,],notifyBroadCastStartPush:[,,,,,,[["Conference.BroadCastDictHelper"]],,,,],notifyBroadCastStopPush:[,,,,,,,,,,],notifyBroadCastPlayback:[,,,,,,[[7]],,,,],notifyBroadCastPlaybackStop:[,,,,,,[[7]],,,,],notifypayback:[,,,,,,,,,,],notifySwtichLiveAppElements:[,,,,,,[[3],[2]],,,,],notifyThumbUp:[,,,,,,[[3],[3],[7]],,,,],notifyLuckyDrawCfg:[,,,,,,[[s.LuckyDrawCfg]],,,,],notifyLDMembersStatus:[,,,,,,[[s.LDMembersCNT]],,,,],notifyLuckyDrawResult:[,,,,,,[[s.LuckyResult]],,,,],notifySvrRecordStateChanged:[,,,,,,[[2],[s.REC_STATE.__helper],[3]],,,,],notifySvrRecordCfgChanged:[,,,,,,[[2],[7]],,,,],notifySvrRecordFileState:[,,,,,,[[7]],,,,],notifySvrBroadcastCfgChanged:[,,,,,,[[2],[7]],,,,],notifyAppUILocked:[,,,,,,[[3]],,,,],notifyBeginVote:[,,,,,,[[2],[7],[7]],,,,],notifyEndVote:[,,,,,,[[2]],,,,],notifyPublishVoteResult:[,,,,,,[[2],[7]],,,,],notifyCommitVote:[,,,,,,[[2],[7]],,,,],notifyTerminalMsg:[,,,,,,[[7],[7],[3],[3]],,,,],notifySCEPChanged:[,,,,,,[[2],[7]],,,,],notifyMeetingAttrsChanged:[,,,,,,[["Conference.MeetingAttrsMapHelper"],["Conference.MeetingAttrsMapHelper"],["Conference.stringSeqHelper"]],,,,],notifyUserAttrsChanged:[,,,,,,[[7],["Conference.MeetingAttrsMapHelper"],["Conference.MeetingAttrsMapHelper"],["Conference.stringSeqHelper"]],,,,],notifyShareStateChanged:[,,,,,,[[7]],,,,],notifyEnterWaitingRoom:[,,,,,,[[s.WaitingMember]],,,,],notifyLeftWaitingRoom:[,,,,,,[[7],[7]],,,,],notifyJoinSubMeeting:[,,,,,,[[2],[7]],,,,],notifyClodudRecordStateChanged:[,,,,,,[[2],[7],[s.REC_STATE.__helper],[7]],,,,],notifyClodudRecordCfgChanged:[,,,,,,[[2],[7],[7]],,,,],notifyClodudRecordFileState:[,,,,,,[[7],[7]],,,,]}),n.Conference=s}(void 0!==t&&void 0!==t.process?i:void 0,_.__require,_),function(e,t,n){var i=t("ice").Ice,r=i.__M,o=t("Common/Exception").Common,s=r.require(e,["Control/Conference","Control/PublicTypes"]).Conference,c=i.Slice;s.lockQuesError=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::lockQuesError",void 0,void 0,!1,!1),s.delQuesError=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::delQuesError",void 0,void 0,!1,!1),s.quesNotExistError=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::quesNotExistError",void 0,void 0,!1,!1),s.modifyQuesTypeError=c.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::modifyQuesTypeError",void 0,void 0,!1,!1),s.QuesType=c.defineStruct((function(e,t,n){this.typeID=void 0!==e?e:"",this.name=void 0!==t?t:"",this.deleted=void 0!==n&&n}),!0,(function(e){e.writeString(this.typeID),e.writeString(this.name),e.writeBool(this.deleted)}),(function(e){this.typeID=e.readString(),this.name=e.readString(),this.deleted=e.readBool()}),3,!1),s.QuesState=c.defineEnum([["Question_NotReply",0],["Question_Replying",1],["Question_NotPublic",2],["Question_Publiced",3],["Question_Deleted",4]]),s.QuesAsk=c.defineStruct((function(e,t,n,i,r){this.typeID=void 0!==e?e:"",this.asktime=void 0!==t?t:0,this.termID=void 0!==n?n:0,this.content=void 0!==i?i:"",this.nickname=void 0!==r?r:""}),!0,(function(e){e.writeString(this.typeID),e.writeInt(this.asktime),e.writeShort(this.termID),e.writeString(this.content),e.writeString(this.nickname)}),(function(e){this.typeID=e.readString(),this.asktime=e.readInt(),this.termID=e.readShort(),this.content=e.readString(),this.nickname=e.readString()}),9,!1),s.QuesDeal=c.defineStruct((function(e,t,n,i,r,o,c,a){this.state=void 0!==e?e:s.QuesState.Question_NotReply,this.replyCon=void 0!==t?t:"",this.replyTermId=void 0!==n?n:0,this.replyTime=void 0!==i?i:0,this.publishTermID=void 0!==r?r:0,this.publishTime=void 0!==o?o:0,this.delTermID=void 0!==c?c:0,this.delTime=void 0!==a?a:0}),!0,(function(e){s.QuesState.__write(e,this.state),e.writeString(this.replyCon),e.writeShort(this.replyTermId),e.writeInt(this.replyTime),e.writeShort(this.publishTermID),e.writeInt(this.publishTime),e.writeShort(this.delTermID),e.writeInt(this.delTime)}),(function(e){this.state=s.QuesState.__read(e),this.replyCon=e.readString(),this.replyTermId=e.readShort(),this.replyTime=e.readInt(),this.publishTermID=e.readShort(),this.publishTime=e.readInt(),this.delTermID=e.readShort(),this.delTime=e.readInt()}),20,!1),s.QuesInf=c.defineStruct((function(e,t,n){this.quesID=void 0!==e?e:0,this.ask=void 0!==t?t:new s.QuesAsk,this.deal=void 0!==n?n:new s.QuesDeal}),!0,(function(e){e.writeInt(this.quesID),s.QuesAsk.write(e,this.ask),s.QuesDeal.write(e,this.deal)}),(function(e){this.quesID=e.readInt(),this.ask=s.QuesAsk.read(e,this.ask),this.deal=s.QuesDeal.read(e,this.deal)}),33,!1),c.defineSequence(s,"QuesListHelper","Conference.QuesInf",!1),c.defineSequence(s,"QuesTypeListHelper","Conference.QuesType",!1),s.AnsQueCallback=c.defineObject(void 0,i.Object,void 0,0,["::Conference::AnsQueCallback","::Ice::Object"],-1,void 0,void 0,!1),s.AnsQueCallbackPrx=c.defineProxy(i.ObjectPrx,s.AnsQueCallback.ice_staticId,void 0),c.defineOperations(s.AnsQueCallback,s.AnsQueCallbackPrx,{askQuesNotify:[,,,,,,[[3],[s.QuesAsk]],,[o.ConferenceError],,],lockQuesNotify:[,,,,,,[[3],[s.QuesDeal]],,[o.ConferenceError],,],replyQuesNotify:[,,,,,,[[3],[s.QuesDeal]],,[o.ConferenceError],,],modifyQuesNotify:[,,,,,,[[3],[s.QuesDeal]],,[o.ConferenceError],,],delQuesNotify:[,,,,,,[[3],[2]],,[o.ConferenceError],,],delAllQuesNotify:[,,,,,,[[2]],,[o.ConferenceError],,],publicQuesNotify:[,,,,,,[[3],[1],[2]],,[o.ConferenceError],,],quesTypeChangeNotify:[,,,,,,[[3],[7]],,[o.ConferenceError],,],modifyQuesTypeNotify:[,,,,,,[[2],["Conference.QuesTypeListHelper"]],,[o.ConferenceError],,],setBroadCastQuesNotify:[,,,,,,[[1]],,[o.ConferenceError],,]}),s.AnsQuesCtrl=c.defineObject(void 0,i.Object,void 0,0,["::Conference::AnsQuesCtrl","::Ice::Object"],-1,void 0,void 0,!1),s.AnsQuesCtrlPrx=c.defineProxy(i.ObjectPrx,s.AnsQuesCtrl.ice_staticId,void 0),c.defineOperations(s.AnsQuesCtrl,s.AnsQuesCtrlPrx,{askQues:[,,,1,,[3],[[s.QuesAsk]],,[o.ConferenceError],,],lockQues:[,,,1,,,[[3],[1]],,[o.ConferenceError],,],replyQues:[,,,1,,,[[3],[s.QuesDeal]],,[o.ConferenceError],,],publicQues:[,,,1,,,[[3],[1]],,[o.ConferenceError],,],modifyQues:[,,,1,,,[[3],[s.QuesDeal]],,[o.ConferenceError],,],delQues:[,,,1,,,[[3]],,[o.ConferenceError],,],delAllQues:[,,,1,,,,,[o.ConferenceError],,],quesTypeChange:[,,,1,,,[[3],[7]],,[o.ConferenceError],,],getQuesList:[,,,1,,["Conference.QuesListHelper"],,,[o.ConferenceError],,],getQuesType:[,,,1,,["Conference.QuesTypeListHelper"],,,[o.ConferenceError],,],modifyQuesType:[,,,1,,,[["Conference.QuesTypeListHelper"]],,[o.ConferenceError],,],setBoradCastQues:[,,,1,,,[[1]],,[o.ConferenceError],,]}),n.Conference=s}(void 0!==t&&void 0!==t.process?i:void 0,_.__require,_),function(e,t,n){var i=t("ice").Ice,r=(i.__M,t("Common/Exception").Common),o=t("Control/Conference").Conference,s=i.Slice;o.IMFont=s.defineStruct((function(e,t){this.color=void 0!==e?e:0,this.size=void 0!==t?t:0}),!0,(function(e){e.writeInt(this.color),e.writeByte(this.size)}),(function(e){this.color=e.readInt(),this.size=e.readByte()}),5,!0),o.InIMMsgInfo=s.defineStruct((function(e,t,n,i,r){this.targetTermId=void 0!==e?e:0,this.targetNickname=void 0!==t?t:"",this.font=void 0!==n?n:new o.IMFont,this.msg=void 0!==i?i:"",this.sendTime=void 0!==r?r:0}),!0,(function(e){e.writeShort(this.targetTermId),e.writeString(this.targetNickname),o.IMFont.write(e,this.font),e.writeString(this.msg),e.writeInt(this.sendTime)}),(function(e){this.targetTermId=e.readShort(),this.targetNickname=e.readString(),this.font=o.IMFont.read(e,this.font),this.msg=e.readString(),this.sendTime=e.readInt()}),13,!1),o.OutIMMsgInfo=s.defineStruct((function(e,t,n,i){this.index=void 0!==e?e:0,this.srcTermId=void 0!==t?t:0,this.srcNickname=void 0!==n?n:"",this.inMsg=void 0!==i?i:new o.InIMMsgInfo}),!0,(function(e){e.writeInt(this.index),e.writeShort(this.srcTermId),e.writeString(this.srcNickname),o.InIMMsgInfo.write(e,this.inMsg)}),(function(e){this.index=e.readInt(),this.srcTermId=e.readShort(),this.srcNickname=e.readString(),this.inMsg=o.InIMMsgInfo.read(e,this.inMsg)}),20,!1),s.defineSequence(o,"outMsgListHelper","Conference.OutIMMsgInfo",!1),s.defineSequence(o,"termIDListHelper","Ice.ShortHelper",!0),o.IMCallback=s.defineObject(void 0,i.Object,void 0,0,["::Conference::IMCallback","::Ice::Object"],-1,void 0,void 0,!1),o.IMCallbackPrx=s.defineProxy(i.ObjectPrx,o.IMCallback.ice_staticId,void 0),s.defineOperations(o.IMCallback,o.IMCallbackPrx,{receiveIMMsg:[,,,,,,[[o.OutIMMsgInfo]],,,,],receiveMultiIMMsg:[,,,,,,[["Conference.outMsgListHelper"]],,,,],notifyIMForbidStatus:[,,,,,,[[2],[2],[1]],,,,],notifyClearIMMsg:[,,,,,,[[2]],,,,],notifyDeleteIMMsg:[,,,,,,[[3]],,,,]}),o.IMSession=s.defineObject(void 0,i.Object,void 0,0,["::Conference::IMSession","::Ice::Object"],-1,void 0,void 0,!1),o.IMSessionPrx=s.defineProxy(i.ObjectPrx,o.IMSession.ice_staticId,void 0),s.defineOperations(o.IMSession,o.IMSessionPrx,{getIMMsgCount:[,,,1,,[3],,,,,],getLastMsg:[,,,1,,["Conference.outMsgListHelper"],[[3]],,[r.ConferenceError],,],getLastNMsg:[,,,1,,["Conference.outMsgListHelper"],[[3],[3]],,[r.ConferenceError],,],sendIMMsg:[,,,1,,,[[o.InIMMsgInfo]],,[r.ConferenceError],,],deleteIMMsg:[,,,1,,,[[3]],,[r.ConferenceError],,],getIMForbidList:[,,,1,,["Conference.termIDListHelper"],,,[r.ConferenceError],,],setIMForbidStatus:[,,,1,,,[[2],[1]],,[r.ConferenceError],,],clearIMMsg:[,,,1,,,,,[r.ConferenceError],,],passIMMsg:[,,,1,,[1],[[3]],,[r.ConferenceError],,]}),n.Conference=o}(void 0!==t&&t.process,_.__require,_),function(e,t,n){var i=t("ice").Ice,r=(i.__M,t("Common/Exception").Common),o=t("Control/PublicTypes").Conference,s=i.Slice;o.NoResourceForMIC=s.defineUserException((function(e,t,n){r.ConferenceError.call(this,e,t,n)}),r.ConferenceError,"Conference::NoResourceForMIC",void 0,void 0,!1,!1),o.StartRecordError=s.defineUserException((function(e,t,n){r.ConferenceError.call(this,e,t,n)}),r.ConferenceError,"Conference::StartRecordError",void 0,void 0,!1,!1),o.PlayBackGroundMusicFail=s.defineUserException((function(e,t,n){r.ConferenceError.call(this,e,t,n)}),r.ConferenceError,"Conference::PlayBackGroundMusicFail",void 0,void 0,!1,!1),s.defineSequence(o,"MusicListHelper","Ice.StringHelper",!1),s.defineDictionary(o,"TerminalEnergy","TerminalEnergyHelper","Ice.ShortHelper","Ice.IntHelper",!0,void 0,void 0),s.defineSequence(o,"deviceLstHelper","Ice.StringHelper",!1),o.remoteAudio=s.defineStruct((function(e,t,n,i,r,o,s,c){this.inputDevice=void 0!==e?e:"",this.outputDevice=void 0!==t?t:"",this.bMicBoost=void 0!==n&&n,this.hiLevelEC=void 0!==i?i:0,this.outputDType=void 0!==r?r:0,this.echoDelay=void 0!==o?o:0,this.outputVolume=void 0!==s?s:0,this.inputVolume=void 0!==c?c:0}),!0,(function(e){e.writeString(this.inputDevice),e.writeString(this.outputDevice),e.writeBool(this.bMicBoost),e.writeInt(this.hiLevelEC),e.writeInt(this.outputDType),e.writeInt(this.echoDelay),e.writeInt(this.outputVolume),e.writeInt(this.inputVolume)}),(function(e){this.inputDevice=e.readString(),this.outputDevice=e.readString(),this.bMicBoost=e.readBool(),this.hiLevelEC=e.readInt(),this.outputDType=e.readInt(),this.echoDelay=e.readInt(),this.outputVolume=e.readInt(),this.inputVolume=e.readInt()}),23,!1),o.remoteAudioInf=s.defineStruct((function(e,t,n){this.inputDLst=void 0!==e?e:null,this.outputDLst=void 0!==t?t:null,this.remoteInf=void 0!==n?n:new o.remoteAudio}),!0,(function(e){o.deviceLstHelper.write(e,this.inputDLst),o.deviceLstHelper.write(e,this.outputDLst),o.remoteAudio.write(e,this.remoteInf)}),(function(e){this.inputDLst=o.deviceLstHelper.read(e),this.outputDLst=o.deviceLstHelper.read(e),this.remoteInf=o.remoteAudio.read(e,this.remoteInf)}),25,!1),o.AudioCallback=s.defineObject(void 0,i.Object,void 0,0,["::Conference::AudioCallback","::Ice::Object"],-1,void 0,void 0,!1),o.AudioCallbackPrx=s.defineProxy(i.ObjectPrx,o.AudioCallback.ice_staticId,void 0),s.defineOperations(o.AudioCallback,o.AudioCallbackPrx,{updateStatus:[,,,,,,[[2],[2],[o.ASTATUS.__helper]],,,,],updateVoiceEnergy:[,,,,,,[["Conference.TerminalEnergyHelper"]],,,,],updateSpeaker:[,,,,,,[[2]],,,,],closeAll:[,,,,,,[[2]],,,,],playBackgroundMusic:[,,,,,,[[2],[1]],,,,],notifyVoiceHowling:[,,,,,,[[2],[1]],,,,],notifyVoiceNoise:[,,,,,,[[2],[1]],,,,],getRemoteAudioInfNotify:[,,,1,,[o.remoteAudioInf],[[2]],,[r.ConferenceError],,],remoteAudioSetNotify:[,,,,,,[[2],[o.remoteAudio]],,[r.ConferenceError],,],notifyLanLessMicOpen:[,,,,,,,,,,]}),o.AudioCtrl=s.defineObject(void 0,i.Object,void 0,0,["::Conference::AudioCtrl","::Ice::Object"],-1,void 0,void 0,!1),o.AudioCtrlPrx=s.defineProxy(i.ObjectPrx,o.AudioCtrl.ice_staticId,void 0),s.defineOperations(o.AudioCtrl,o.AudioCtrlPrx,{setDeviceStatus:[,,,1,,,[[1]],,[r.ConferenceError],,],askForMic:[,,,1,,,,,[r.ConferenceError],,],openMicEx:[,,,1,,,[[2]],,[r.ConferenceError],,],closeMicEx:[,,,1,,,[[2]],,[r.ConferenceError],,],closeAll:[,,,1,,,,,[r.ConferenceError],,],setVoiceEnergy:[,,,1,,,[[3]],,[r.ConferenceError],,],pstnSwitchMicStatus:[,,,1,,,,,[r.ConferenceError],,],startRecord:[,,,1,,,,,[r.ConferenceError],,],isRecording:[,,,1,,[1],,,[r.ConferenceError],,],stopRecord:[,,,1,,,,,[r.ConferenceError],,],playApplause:[,,,1,,,,,[r.ConferenceError],,],getMusicList:[,,,1,,["Conference.MusicListHelper"],,,[r.ConferenceError],,],getPlayBGMusic:[,,,1,,[7],,,[r.ConferenceError],,],startBGMusic:[,,,1,,,[[7],[3]],,[r.ConferenceError],,],stopPlayBGMusic:[,,,1,,,,,[r.ConferenceError],,],setPlayBGMusicVolumn:[,,,1,,,[[3]],,[r.ConferenceError],,],getPlayBGMusicVolumn:[,,,1,,[3],,,[r.ConferenceError],,],voiceHowling:[,,,1,,,[[1]],,,,],voiceNoise:[,,,1,,,[[1]],,,,],remoteAudioSet:[,,,1,,,[[2],[o.remoteAudio]],,[r.ConferenceError],,],getRemoteAudioInf:[,,,1,,[o.remoteAudioInf],[[2]],,[r.ConferenceError],,]}),n.Conference=o}(void 0!==t&&t.process,_.__require,_),function(e,t,n){var i=t("ice").Ice,r=(i.__M,t("Common/Exception").Common),o=t("Control/PublicTypes").Conference,s=i.Slice;Object.defineProperty(o,"FPS_LOW",{value:-1}),Object.defineProperty(o,"FPS_NOR",{value:0}),Object.defineProperty(o,"FPS_HI",{value:1}),Object.defineProperty(o,"VEDIO_LD",{value:-1}),Object.defineProperty(o,"VEDIO_SD",{value:0}),Object.defineProperty(o,"VEDIO_HD",{value:1}),Object.defineProperty(o,"VEDIO_UD",{value:2}),o.VideoSetting=s.defineStruct((function(e,t,n,i,r,o){this.mutiCam=void 0!==e&&e,this.openCamIDs=void 0!==t?t:null,this.denoise=void 0!==n&&n,this.deinterlace=void 0!==i&&i,this.fpsType=void 0!==r?r:0,this.videType=void 0!==o?o:0}),!0,(function(e){e.writeBool(this.mutiCam),i.ShortSeqHelper.write(e,this.openCamIDs),e.writeBool(this.denoise),e.writeBool(this.deinterlace),e.writeInt(this.fpsType),e.writeInt(this.videType)}),(function(e){this.mutiCam=e.readBool(),this.openCamIDs=i.ShortSeqHelper.read(e),this.denoise=e.readBool(),this.deinterlace=e.readBool(),this.fpsType=e.readInt(),this.videType=e.readInt()}),12,!1),o.UsrCamID=s.defineStruct((function(e,t){this.termID=void 0!==e?e:0,this.camID=void 0!==t?t:0}),!0,(function(e){e.writeShort(this.termID),e.writeShort(this.camID)}),(function(e){this.termID=e.readShort(),this.camID=e.readShort()}),4,!0),s.defineSequence(o,"UsrCamIDListHelper","Conference.UsrCamID",!0),o.UsrCamSize=s.defineStruct((function(e,t,n){this.termID=void 0!==e?e:0,this.camID=void 0!==t?t:0,this.VIDEO_SS_value=void 0!==n?n:0}),!0,(function(e){e.writeShort(this.termID),e.writeShort(this.camID),e.writeInt(this.VIDEO_SS_value)}),(function(e){this.termID=e.readShort(),this.camID=e.readShort(),this.VIDEO_SS_value=e.readInt()}),8,!0),s.defineSequence(o,"UsrCamSizeListHelper","Conference.UsrCamSize",!0),Object.defineProperty(o,"ZOOM_TELE",{value:2}),Object.defineProperty(o,"ZOOM_WIDE",{value:3}),Object.defineProperty(o,"ZOOM_STOP",{value:0}),Object.defineProperty(o,"PAN_TILT_DIR_UP",{value:1}),Object.defineProperty(o,"PAN_TILT_DIR_DOWN",{value:2}),Object.defineProperty(o,"PAN_TILT_DIR_LEFT",{value:3}),Object.defineProperty(o,"PAN_TILT_DIR_RIGHT",{value:4}),Object.defineProperty(o,"PAN_TILT_DIR_STOP",{value:5}),o.VideoCallback=s.defineObject(void 0,i.Object,void 0,0,["::Conference::VideoCallback","::Ice::Object"],-1,void 0,void 0,!1),o.VideoCallbackPrx=s.defineProxy(i.ObjectPrx,o.VideoCallback.ice_staticId,void 0),s.defineOperations(o.VideoCallback,o.VideoCallbackPrx,{notifyAllowVideoWall:[,,,,,,[[1],[2]],,,,],updateStatus:[,,,,,,[[2],[o.VSTATUS.__helper],[2]],,,,],notifyOpenVideo:[,,,,,,[[2]],,,,],startVideoByManager:[,,,,,,,,[r.ConferenceError],,],notifyEnableVideo:[,,,,,,[[2],[1],[2]],,,,],updateFocusWindow:[,,,,,,[[o.WINDOW_MODE.__helper],[2]],,,,],updateVLayout:[,,,,,,[[o.VIDEOLAYOUTMODE.__helper],[2]],,,,],updateVLayout2:[,,,,,,[[3],[2]],,,,],updateMainVideoShowMode:[,,,,,,[[3],[2]],,,,],updateVideoListMode:[,,,,,,[[7],[2]],,,,],enableUpload:[,,,,,,[[2],[1]],,,,],enableUpload2:[,,,,,,[[2],[3]],,,,],generateIFrame:[,,,,,,[[2]],,,,],notifyRefuseOpenVideo:[,,,,,,[[2]],,,,],getVideoSetting:[,,,1,,[o.VideoSetting],,,[r.ConferenceError],,],setCamera:[,,,,,,[[o.VideoSetting],[2]],,[r.ConferenceError],,],setCameraById:[,,,,,,[[o.UsrCamID],[2]],,[r.ConferenceError],,],notifyVideoPolling:[,,,,,,[[2],[1],[3]],,[r.ConferenceError],,],notifyPollingVideo:[,,,,,,[[2],["Conference.UsrCamIDListHelper"]],,[r.ConferenceError],,],notifyPollingVideo2:[,,,,,,[[2],["Conference.UsrCamIDListHelper"],[7]],,[r.ConferenceError],,],notifyVideoList:[,,,,,,[[2],[7]],,[r.ConferenceError],,],notifyUpdateAllCameraInfos:[,,,,,,[[2],[7]],,[r.ConferenceError],,],notifySetOpenedCameraNumber:[,,,,,,[[2],["Ice.ShortSeqHelper"]],,[r.ConferenceError],,],notifyStartAdjustDirection:[,,,,,,[[o.UsrCamID],[3]],,,,],notifyStartAdjustZoom:[,,,,,,[[o.UsrCamID],[3]],,,,],notifyStopAdjustDirection:[,,,,,,[[o.UsrCamID]],,,,],notifyStopAdjustZoom:[,,,,,,[[o.UsrCamID]],,,,]}),o.VideoCtrl=s.defineObject(void 0,i.Object,void 0,0,["::Conference::VideoCtrl","::Ice::Object"],-1,void 0,void 0,!1),o.VideoCtrlPrx=s.defineProxy(i.ObjectPrx,o.VideoCtrl.ice_staticId,void 0),s.defineOperations(o.VideoCtrl,o.VideoCtrlPrx,{setDeviceStatus:[,,,1,,,[[1]],,[r.ConferenceError],,],allowVideoWall:[,,,1,,,[[1]],,[r.ConferenceError],,],startVideo:[,,,1,,,,,[r.ConferenceError],,],stopVideo:[,,,1,,,,,[r.ConferenceError],,],reqOpenVideo:[,,,1,,,[[2]],,[r.ConferenceError],,],startVideoEx:[,,,1,,,[[2]],,[r.ConferenceError],,],stopVideoEx:[,,,1,,,[[2]],,[r.ConferenceError],,],enableVideo:[,,,1,,,[[1]],,[r.ConferenceError],,],setFocusWindow:[,,,1,,,[[o.WINDOW_MODE.__helper],[2]],,[r.ConferenceError],,],batchSubscribeVideo:[,,,1,,,[["Conference.UsrCamIDListHelper"],[1]],,[r.ConferenceError],,],batchSubscribeVideo2:[,,,1,,,[["Conference.UsrCamSizeListHelper"]],,[r.ConferenceError],,],subscribeFocusWindow:[,,,1,,,[[1]],,[r.ConferenceError],,],subscribeFocusWindow2:[,,,1,,,[[3]],,[r.ConferenceError],,],setVLayout:[,,,1,,,[[o.VIDEOLAYOUTMODE.__helper]],,[r.ConferenceError],,],setVLayout2:[,,,1,,,[[3]],,[r.ConferenceError],,],setMainVideoShowMode:[,,,1,,,[[3]],,[r.ConferenceError],,],setVideoListMode:[,,,1,,,[[7]],,,,],refuseOpenVideo:[,,,1,,,[[2]],,,,],getVideoSetting:[,,,1,,[o.VideoSetting],[[2]],,[r.ConferenceError],,],setCamera:[,,,1,,,[[2],[o.VideoSetting]],,[r.ConferenceError],,],setCameraById:[,,,1,,,[[o.UsrCamID]],,[r.ConferenceError],,],setVideoPolling:[,,,1,,,[[1],[3]],,[r.ConferenceError],,],updatePollingVideo:[,,,1,,,[["Conference.UsrCamIDListHelper"]],,[r.ConferenceError],,],updatePollingVideo2:[,,,1,,,[["Conference.UsrCamIDListHelper"],[7]],,[r.ConferenceError],,],updateVideoList:[,,,1,,,[[7]],,[r.ConferenceError],,],getVideoPollingState:[,,,1,,[1],,[["Conference.UsrCamIDListHelper"],[3]],[r.ConferenceError],,],updateAllCameraInfos:[,,,1,,,[[7]],,[r.ConferenceError],,],setOpenedCameraNumber:[,,,1,,,[["Ice.ShortSeqHelper"]],,[r.ConferenceError],,],startAdjustDirection:[,,,1,,,[[o.UsrCamID],[3]],,[r.ConferenceError],,],startAdjustZoom:[,,,1,,,[[o.UsrCamID],[3]],,[r.ConferenceError],,],stopAdjustDirection:[,,,1,,,[[o.UsrCamID]],,[r.ConferenceError],,],stopAdjustZoom:[,,,1,,,[[o.UsrCamID]],,[r.ConferenceError],,]}),n.Conference=o}(void 0!==t&&t.process,_.__require,_),function(e,t,n){var i=t("ice").Ice,r=(i.__M,t("Common/Exception").Common),o=t("Control/PublicTypes").Conference,s=i.Slice;Object.defineProperty(o,"SSST_SHARING",{value:1}),Object.defineProperty(o,"SSST_MARKING",{value:2}),Object.defineProperty(o,"SSST_PAUSECTRL",{value:4}),Object.defineProperty(o,"SSRE_SOMEONE_REQ",{value:1}),Object.defineProperty(o,"SSRE_REJECT",{value:2}),o.ScreenShareInfo=s.defineStruct((function(e,t,n,i,r,o,s){this.scrSviceProxy=void 0!==e?e:"",this.authKey=void 0!==t?t:"",this.allowCtrlReq=void 0!==n&&n,this.state=void 0!==i?i:0,this.sharer=void 0!==r?r:0,this.controller=void 0!==o?o:0,this.allowOtherMark=void 0!==s&&s}),!0,(function(e){e.writeString(this.scrSviceProxy),e.writeString(this.authKey),e.writeBool(this.allowCtrlReq),e.writeByte(this.state),e.writeShort(this.sharer),e.writeShort(this.controller),e.writeBool(this.allowOtherMark)}),(function(e){this.scrSviceProxy=e.readString(),this.authKey=e.readString(),this.allowCtrlReq=e.readBool(),this.state=e.readByte(),this.sharer=e.readShort(),this.controller=e.readShort(),this.allowOtherMark=e.readBool()}),9,!1),o.MarkData=s.defineStruct((function(e,t,n){this.termid=void 0!==e?e:0,this.color=void 0!==t?t:0,this.mousePosSeq=void 0!==n?n:null}),!0,(function(e){e.writeShort(this.termid),e.writeInt(this.color),o.ByteListHelper.write(e,this.mousePosSeq)}),(function(e){this.termid=e.readShort(),this.color=e.readInt(),this.mousePosSeq=o.ByteListHelper.read(e)}),7,!1),o.MarkDataV4=s.defineStruct((function(e,t,n,i){this.termid=void 0!==e?e:0,this.markid=void 0!==t?t:"",this.type=void 0!==n?n:0,this.mousePosSeq=void 0!==i?i:null}),!0,(function(e){e.writeShort(this.termid),e.writeString(this.markid),e.writeByte(this.type),o.ByteListHelper.write(e,this.mousePosSeq)}),(function(e){this.termid=e.readShort(),this.markid=e.readString(),this.type=e.readByte(),this.mousePosSeq=o.ByteListHelper.read(e)}),5,!1),s.defineSequence(o,"MarkDataSeqHelper","Conference.MarkData",!1),s.defineSequence(o,"MarkDataSeqV4Helper","Conference.MarkDataV4",!1),s.defineSequence(o,"MarkIdSeqHelper","Ice.StringHelper",!1),o.ScreenShareCtrl=s.defineObject(void 0,i.Object,void 0,0,["::Conference::ScreenShareCtrl","::Ice::Object"],-1,void 0,void 0,!1),o.ScreenShareCtrlPrx=s.defineProxy(i.ObjectPrx,o.ScreenShareCtrl.ice_staticId,void 0),s.defineOperations(o.ScreenShareCtrl,o.ScreenShareCtrlPrx,{getScreenShareInfo:[,,,1,,[o.ScreenShareInfo],,,[r.ConferenceError],,],startScreenShare:[,,,1,,,,,[r.ConferenceError],,],stopScreenShare:[,,,1,,,,,[r.ConferenceError],,],setCtrlReqState:[,,,1,,,[[1]],,[r.ConferenceError],,],requestCtrlRight:[,,,1,,,,,[r.ConferenceError],,],cancelCtrlReq:[,,,1,,,,,[r.ConferenceError],,],rejectCtrlReq:[,,,1,,,[[2],[0]],,[r.ConferenceError],,],giveCtrlRight:[,,,1,,,[[2]],,[r.ConferenceError],,],releaseCtrlRight:[,,,1,,,,,[r.ConferenceError],,],ctrlMsg:[,,,1,,,[["Conference.ByteListHelper"]],,[r.ConferenceError],,],tmpSetRemoteCtrlState:[,,,1,,,[[1]],,[r.ConferenceError],,],requestMarked:[,,,1,,,,,[r.ConferenceError],,],cancelMarkedReq:[,,,1,,,,,[r.ConferenceError],,],startMarked:[,,,1,,,,,[r.ConferenceError],,],stopMarked:[,,,1,,,,,[r.ConferenceError],,],enableOtherMarked:[,,,1,,,[[1]],,[r.ConferenceError],,],askForNewIFrame:[,,,1,,,[[3]],,[r.ConferenceError],,],getAllMarkData:[,,,1,,["Conference.MarkDataSeqHelper"],,,[r.ConferenceError],,],sendMarkData:[,,,1,,,[[o.MarkData]],,[r.ConferenceError],,],clearAllMarks:[,,,1,,,,,[r.ConferenceError],,],setIndicator:[,,,1,,,[["Conference.StringStringMapHelper"]],,,,],getAllMarkDataV4:[,,,1,,["Conference.MarkDataSeqV4Helper"],,,[r.ConferenceError],,],sendMarkDataV4:[,,,1,,,[[o.MarkDataV4]],,[r.ConferenceError],,],clearAllMarksV4:[,,,1,,,,,[r.ConferenceError],,],delMarkDataV4:[,,,1,,,[["Conference.MarkIdSeqHelper"]],,[r.ConferenceError],,]}),o.ScreenShareClient=s.defineObject(void 0,i.Object,void 0,0,["::Conference::ScreenShareClient","::Ice::Object"],-1,void 0,void 0,!1),o.ScreenShareClientPrx=s.defineProxy(i.ObjectPrx,o.ScreenShareClient.ice_staticId,void 0),s.defineOperations(o.ScreenShareClient,o.ScreenShareClientPrx,{notifyStartScreenShare:[,,,,,,[[o.ScreenShareInfo]],,,,],notifyStopScreenShare:[,,,,,,[[2]],,,,],notifyCtrlReqState:[,,,,,,[[2],[1]],,[r.ConferenceError],,],notifyRequestCtrlRight:[,,,,,,[[2]],,,,],notifyCancelCtrlReq:[,,,,,,[[2]],,,,],notifyRejectCtrlReq:[,,,,,,[[2],[2],[0]],,,,],notifyGiveCtrlRight:[,,,,,,[[2],[2]],,,,],notifyReleaseCtrlRight:[,,,,,,[[2]],,,,],notifyCtrlMsg:[,,,,,,[[2],["Conference.ByteListHelper"]],,,,],notifyTmpSetRemoteCtrlState:[,,,,,,[[2],[1]],,,,],notifyRequestMarked:[,,,,,,[[2]],,,,],notifyCancelMarkedReq:[,,,,,,[[2]],,,,],notifyStartMarked:[,,,,,,[[2]],,,,],notifyStopMarked:[,,,,,,[[2]],,,,],notifyEnableOtherMarked:[,,,,,,[[2],[1]],,,,],notifyMakeIFrame:[,,,,,,[[3]],,,,],notifyMarkData:[,,,,,,[[o.MarkData]],,,,],notifyClearAllMarks:[,,,,,,,,,,],notifyIndicator:[,,,,,,[[2],["Conference.StringStringMapHelper"]],,,,],notifyClearAllMarksV4:[,,,,,,,,,,],notifyMarkDataV4:[,,,,,,[[o.MarkDataV4]],,,,],notifyDelMarkDataV4:[,,,,,,[["Conference.MarkIdSeqHelper"],[2]],,,,]}),n.Conference=o}(void 0!==t&&t.process,_.__require,_),function(e,t,n){var i=t("ice").Ice,r=i.__M,o=t("Common/Exception").Common,s=i.Slice,c=r.module("Conference");c.SameTimeStartMediaError=s.defineUserException((function(e,t,n){o.ConferenceError.call(this,e,t,n)}),o.ConferenceError,"Conference::SameTimeStartMediaError",void 0,void 0,!1,!1),c.MEDIA_STATE=s.defineEnum([["MEDIA_START",0],["MEDIA_PAUSE",1],["MEDIA_STOP",2]]),c.MediaInfo=s.defineStruct((function(e,t,n){this.termid=void 0!==e?e:0,this.state=void 0!==t?t:c.MEDIA_STATE.MEDIA_START,this.mediaName=void 0!==n?n:""}),!0,(function(e){e.writeShort(this.termid),c.MEDIA_STATE.__write(e,this.state),e.writeString(this.mediaName)}),(function(e){this.termid=e.readShort(),this.state=c.MEDIA_STATE.__read(e),this.mediaName=e.readString()}),4,!1),c.MediaCallback=s.defineObject(void 0,i.Object,void 0,0,["::Conference::MediaCallback","::Ice::Object"],-1,void 0,void 0,!1),c.MediaCallbackPrx=s.defineProxy(i.ObjectPrx,c.MediaCallback.ice_staticId,void 0),s.defineOperations(c.MediaCallback,c.MediaCallbackPrx,{notifyStartPlayMedia:[,,,,,,[[c.MediaInfo]],,,,],notifyStopPlayMedia:[,,,,,,[[2]],,,,],notifyPausePlayMedia:[,,,,,,[[2],[1]],,,,],notifyMakeIFrame:[,,,,,,,,,,],notifySubscribeMedia:[,,,,,,[[1]],,,,]}),c.MediaCtrl=s.defineObject(void 0,i.Object,void 0,0,["::Conference::MediaCtrl","::Ice::Object"],-1,void 0,void 0,!1),c.MediaCtrlPrx=s.defineProxy(i.ObjectPrx,c.MediaCtrl.ice_staticId,void 0),s.defineOperations(c.MediaCtrl,c.MediaCtrlPrx,{getMediaInfo:[,,,1,,[c.MediaInfo],,,[o.ConferenceError],,],startPlayMedia:[,,,1,,,[[7]],,[o.ConferenceError],,],stopPlayMedia:[,,,1,,,,,[o.ConferenceError],,],pausePlayMedia:[,,,1,,,[[1]],,[o.ConferenceError],,],subscribeMedia:[,,,1,,,[[1]],,[o.ConferenceError],,]}),n.Conference=c}(void 0!==t&&t.process,_.__require,_),function(e,t,n){var i=t("ice").Ice,r=(i.__M,t("Common/Exception").Common),o=t("Control/PublicTypes").Conference,s=i.Slice;o.WB_BAKIMG_TYPE=s.defineEnum([["WB_BAKIMG_NULL",0],["WB_BAKIMG_EMF",1],["WB_BAKIMG_JPG",2],["WB_BAKIMG_HTML",3]]),o.WB_ELEMENT_ZPOS=s.defineEnum([["WB_ELEMENT_ZTOP",0],["WB_ELEMENT_ZBOTTOM",1]]),o.ElementID=s.defineStruct((function(e,t){this.ownerID=void 0!==e?e:0,this.ID=void 0!==t?t:0}),!0,(function(e){e.writeShort(this.ownerID),e.writeShort(this.ID)}),(function(e){this.ownerID=e.readShort(),this.ID=e.readShort()}),4,!0),s.defineSequence(o,"ElementIDSeqHelper","Conference.ElementID",!0),o.ElementPos=s.defineStruct((function(e,t,n){this.eID=void 0!==e?e:new o.ElementID,this.left=void 0!==t?t:0,this.top=void 0!==n?n:0}),!0,(function(e){o.ElementID.write(e,this.eID),e.writeInt(this.left),e.writeInt(this.top)}),(function(e){this.eID=o.ElementID.read(e,this.eID),this.left=e.readInt(),this.top=e.readInt()}),12,!0),s.defineSequence(o,"ElementPosSeqHelper","Conference.ElementPos",!0),o.ElementData=s.defineStruct((function(e,t,n,i,r,s,c){this.eID=void 0!==e?e:new o.ElementID,this.orderId=void 0!==t?t:0,this.left=void 0!==n?n:0,this.top=void 0!==i?i:0,this.type=void 0!==r?r:0,this.noused=void 0!==s?s:0,this.data=void 0!==c?c:null}),!0,(function(e){o.ElementID.write(e,this.eID),e.writeInt(this.orderId),e.writeInt(this.left),e.writeInt(this.top),e.writeInt(this.type),e.writeInt(this.noused),i.ByteSeqHelper.write(e,this.data)}),(function(e){this.eID=o.ElementID.read(e,this.eID),this.orderId=e.readInt(),this.left=e.readInt(),this.top=e.readInt(),this.type=e.readInt(),this.noused=e.readInt(),this.data=i.ByteSeqHelper.read(e)}),25,!1),s.defineSequence(o,"ElementSeqHelper","Conference.ElementData",!1),o.IndicatorData=s.defineStruct((function(e,t,n,i,r,o){this.termId=void 0!==e?e:0,this.pageNo=void 0!==t?t:0,this.x=void 0!==n?n:0,this.y=void 0!==i?i:0,this.msg=void 0!==r?r:"",this.lifeSec=void 0!==o?o:0}),!0,(function(e){e.writeInt(this.termId),e.writeInt(this.pageNo),e.writeInt(this.x),e.writeInt(this.y),e.writeString(this.msg),e.writeByte(this.lifeSec)}),(function(e){this.termId=e.readInt(),this.pageNo=e.readInt(),this.x=e.readInt(),this.y=e.readInt(),this.msg=e.readString(),this.lifeSec=e.readByte()}),18,!1),s.defineSequence(o,"IndicatorDataSeqHelper","Conference.IndicatorData",!1),o.PageData=s.defineStruct((function(e,t,n,i){this.pageNo=void 0!==e?e:0,this.imgType=void 0!==t?t:o.WB_BAKIMG_TYPE.WB_BAKIMG_NULL,this.imgResourceID=void 0!==n?n:"",this.elementList=void 0!==i?i:null}),!0,(function(e){e.writeInt(this.pageNo),o.WB_BAKIMG_TYPE.__write(e,this.imgType),e.writeString(this.imgResourceID),o.ElementSeqHelper.write(e,this.elementList)}),(function(e){this.pageNo=e.readInt(),this.imgType=o.WB_BAKIMG_TYPE.__read(e),this.imgResourceID=e.readString(),this.elementList=o.ElementSeqHelper.read(e)}),7,!1),s.defineSequence(o,"PageDataSeqHelper","Conference.PageData",!1),o.WhiteBoardData=s.defineStruct((function(e,t){this.descData=void 0!==e?e:new o.WhiteBoardDescribe,this.pageDataList=void 0!==t?t:null}),!0,(function(e){o.WhiteBoardDescribe.write(e,this.descData),o.PageDataSeqHelper.write(e,this.pageDataList)}),(function(e){this.descData=o.WhiteBoardDescribe.read(e,this.descData),this.pageDataList=o.PageDataSeqHelper.read(e)}),38,!1),s.defineSequence(o,"WhiteBoardDataSeqHelper","Conference.WhiteBoardData",!1),s.defineDictionary(o,"PageToDatas","PageToDatasHelper","Ice.IntHelper","Conference.PageData",!1,void 0,void 0,i.HashMap.compareEquals),o.WBMaxError=s.defineUserException((function(e,t,n){r.ConferenceError.call(this,e,t,n)}),r.ConferenceError,"Conference::WBMaxError",void 0,void 0,!1,!1),o.WBNotExistError=s.defineUserException((function(e,t,n){r.ConferenceError.call(this,e,t,n)}),r.ConferenceError,"Conference::WBNotExistError",void 0,void 0,!1,!1),o.WBElementNoExistError=s.defineUserException((function(e,t,n){r.ConferenceError.call(this,e,t,n)}),r.ConferenceError,"Conference::WBElementNoExistError",void 0,void 0,!1,!1),o.WhiteBoardCtrl=s.defineObject(void 0,i.Object,void 0,0,["::Conference::WhiteBoardCtrl","::Ice::Object"],-1,void 0,void 0,!1),o.WhiteBoardCtrlPrx=s.defineProxy(i.ObjectPrx,o.WhiteBoardCtrl.ice_staticId,void 0),s.defineOperations(o.WhiteBoardCtrl,o.WhiteBoardCtrlPrx,{setContainerSize:[,,,1,,,[[3],[3]],,[r.ConferenceError],,],create:[,,,1,,,[[o.WhiteBoardDescribe]],,[r.ConferenceError],,],importPage:[,,,1,,,[[o.TabID],["Conference.PageDataSeqHelper"]],,[r.ConferenceError],,],close:[,,,1,,,[[o.TabID]],,[r.ConferenceError],,],changeName:[,,,1,,,[[o.TabID],[7]],,[r.ConferenceError],,],changeScale:[,,,1,,,[[o.TabID],[o.WB_SCALE_TYPE.__helper]],,[r.ConferenceError],,],changeRatote:[,,,1,,,[[o.TabID],[o.WB_ROTATE_TYPE.__helper]],,[r.ConferenceError],,],setCurrentPage:[,,,1,,,[[o.TabID],[3],[3],[3]],,[r.ConferenceError],,],showThumPage:[,,,1,,,[[o.TabID],[1]],,[r.ConferenceError],,],addElement:[,,,1,,,[[o.TabID],[3],[o.ElementData]],,[r.ConferenceError],,],addElementEx:[,,,1,,,[[o.TabID],[3],["Conference.ElementSeqHelper"]],,[r.ConferenceError],,],moveElement:[,,,1,,,[[o.TabID],[3],["Conference.ElementPosSeqHelper"]],,[r.ConferenceError],,],modifyElement:[,,,1,,,[[o.TabID],[3],[o.ElementData]],,[r.ConferenceError],,],delElement:[,,,1,,,[[o.TabID],[3],["Conference.ElementIDSeqHelper"]],,[r.ConferenceError],,],setElementZPos:[,,,1,,,[[o.TabID],[3],[o.WB_ELEMENT_ZPOS.__helper]],,[r.ConferenceError],,],setIndicator:[,,,1,,,[[o.TabID],[o.IndicatorData]],,[r.ConferenceError],,],setHotspot:[,,,1,,,[[o.TabID],[3],[3],[3]],,[r.ConferenceError],,],queryIndicator:[,,,1,,["Conference.IndicatorDataSeqHelper"],[[o.TabID]],,[r.ConferenceError],,],queryAllBoardList:[,,,1,,["Conference.WhiteBoardDescribeSeqHelper"],,,[r.ConferenceError],,],queryElementByIDs:[,,,1,,["Conference.PageToDatasHelper"],[[o.TabID],["Ice.IntSeqHelper"]],,[r.ConferenceError],,],queryPageElementByIDs:[,,,1,,["Conference.ElementSeqHelper"],[[o.TabID],[3],["Conference.ElementIDSeqHelper"]],,[r.ConferenceError],,],setMarkTerms:[,,,1,,,[[o.TabID],[1],["Ice.ShortSeqHelper"]],,[r.ConferenceError],,]}),o.WhiteBoardCallback=s.defineObject(void 0,i.Object,void 0,0,["::Conference::WhiteBoardCallback","::Ice::Object"],-1,void 0,void 0,!1),o.WhiteBoardCallbackPrx=s.defineProxy(i.ObjectPrx,o.WhiteBoardCallback.ice_staticId,void 0),s.defineOperations(o.WhiteBoardCallback,o.WhiteBoardCallbackPrx,{notifySetContainerSize:[,,,,,,[[3],[3],[2]],,,,],notifyCreate:[,,,,,,[[o.WhiteBoardDescribe],[2]],,,,],notifyImportPage:[,,,,,,[[o.TabID],["Conference.PageDataSeqHelper"],[2]],,,,],notifyClose:[,,,,,,[[o.TabID],[2]],,,,],notifyChangeName:[,,,,,,[[o.TabID],[7],[2]],,,,],notifyChangeScale:[,,,,,,[[o.TabID],[o.WB_SCALE_TYPE.__helper],[2]],,,,],notifyChangeRotate:[,,,,,,[[o.TabID],[o.WB_ROTATE_TYPE.__helper],[2]],,,,],notifySetCurrentPage:[,,,,,,[[o.TabID],[3],[3],[3],[2]],,,,],notifyShowThumPage:[,,,,,,[[o.TabID],[1],[2]],,,,],notifyAddElement:[,,,,,,[[o.TabID],[3],[o.ElementData],[2]],,,,],notifyAddElementEx:[,,,,,,[[o.TabID],[3],["Conference.ElementSeqHelper"],[2]],,,,],notifyMoveElement:[,,,,,,[[o.TabID],[3],["Conference.ElementPosSeqHelper"],[2]],,,,],notifyModifyElement:[,,,,,,[[o.TabID],[3],[o.ElementData],[2]],,,,],notifyDelElement:[,,,,,,[[o.TabID],[3],["Conference.ElementIDSeqHelper"],[2]],,,,],notifySetElementZPos:[,,,,,,[[o.TabID],[3],[o.WB_ELEMENT_ZPOS.__helper],[2]],,,,],notifySetIndicator:[,,,,,,[[o.TabID],[o.IndicatorData],[2]],,,,],notifySetHotspot:[,,,,,,[[o.TabID],[3],[3],[3],[2]],,,,],notifySetMarkTerms:[,,,,,,[[o.TabID],[1],["Ice.ShortSeqHelper"]],,,,]}),n.Conference=o}(void 0!==t&&t.process,_.__require,_),function(e,t,n){var i=t("ice").Ice,r=(i.__M,t("Common/Exception").Common),o=t("Control/PublicTypes").Conference,s=i.Slice;o.SyncCtrlCallback=s.defineObject(void 0,i.Object,void 0,0,["::Conference::SyncCtrlCallback","::Ice::Object"],-1,void 0,void 0,!1),o.SyncCtrlCallbackPrx=s.defineProxy(i.ObjectPrx,o.SyncCtrlCallback.ice_staticId,void 0),s.defineOperations(o.SyncCtrlCallback,o.SyncCtrlCallbackPrx,{notifySetCurrentTab:[,,,,,,[[o.TabID],[o.TabID],[2]],,,,],notifySetFullScreen:[,,,,,,[[1],[2]],,,,],notifySetPrivTabInfo:[,,,,,,[[7],[2]],,,,],notifySetSyncMode:[,,,,,,[[o.SYNCMODE.__helper],[2]],,,,]}),o.SyncCtrl=s.defineObject(void 0,i.Object,void 0,0,["::Conference::SyncCtrl","::Ice::Object"],-1,void 0,void 0,!1),o.SyncCtrlPrx=s.defineProxy(i.ObjectPrx,o.SyncCtrl.ice_staticId,void 0),s.defineOperations(o.SyncCtrl,o.SyncCtrlPrx,{setCurrentTab:[,,,1,,,[[o.TabID],[o.TabID]],,[r.ConferenceError],,],setFullScreen:[,,,1,,,[[1]],,[r.ConferenceError],,],setPrivTabInfo:[,,,1,,,[[7]],,[r.ConferenceError],,],setSyncMode:[,,,1,,,[[o.SYNCMODE.__helper]],,[r.ConferenceError],,],saveLastTabValue:[,,,1,,,[[2]],,[r.ConferenceError],,]}),n.Conference=o}(void 0!==t&&t.process,_.__require,_),function(e,t,n){var i=t("ice").Ice,r=i.__M,o=i.Slice,s=r.module("LogSpace");i.LogSpace=s,s.LogLevel=o.defineEnum([["debug",0],["info",1],["warning",2],["error",3]]),s.FatalLogInfo=o.defineStruct((function(e,t,n,i,r,o,s,c){this.version=void 0!==e?e:"",this.conferenceID=void 0!==t?t:0,this.userID=void 0!==n?n:0,this.client=void 0!==i?i:"",this.clientIP=void 0!==r?r:"",this.logDate=void 0!==o?o:"",this.content=void 0!==s?s:"",this.dumpData=void 0!==c?c:null}),!0,(function(e){e.writeString(this.version),e.writeInt(this.conferenceID),e.writeInt(this.userID),e.writeString(this.client),e.writeString(this.clientIP),e.writeString(this.logDate),e.writeString(this.content),i.ByteSeqHelper.write(e,this.dumpData)}),(function(e){this.version=e.readString(),this.conferenceID=e.readInt(),this.userID=e.readInt(),this.client=e.readString(),this.clientIP=e.readString(),this.logDate=e.readString(),this.content=e.readString(),this.dumpData=i.ByteSeqHelper.read(e)}),14,!1),s.AppendData=o.defineStruct((function(e,t,n){this.uuid=void 0!==e?e:"",this.type=void 0!==t?t:"",this.data=void 0!==n?n:null}),!0,(function(e){e.writeString(this.uuid),e.writeString(this.type),i.ByteSeqHelper.write(e,this.data)}),(function(e){this.uuid=e.readString(),this.type=e.readString(),this.data=i.ByteSeqHelper.read(e)}),3,!1),o.defineSequence(s,"AppendDataSeqHelper","LogSpace.AppendData",!1),s.UsrReportInfo=o.defineStruct((function(e,t,n,i,r,o,s,c,a){this.version=void 0!==e?e:"",this.conferenceID=void 0!==t?t:0,this.userID=void 0!==n?n:0,this.client=void 0!==i?i:"",this.clientIP=void 0!==r?r:"",this.reportDate=void 0!==o?o:"",this.contact=void 0!==s?s:"",this.content=void 0!==c?c:"",this.appendDatas=void 0!==a?a:null}),!0,(function(e){e.writeString(this.version),e.writeInt(this.conferenceID),e.writeInt(this.userID),e.writeString(this.client),e.writeString(this.clientIP),e.writeString(this.reportDate),e.writeString(this.contact),e.writeString(this.content),s.AppendDataSeqHelper.write(e,this.appendDatas)}),(function(e){this.version=e.readString(),this.conferenceID=e.readInt(),this.userID=e.readInt(),this.client=e.readString(),this.clientIP=e.readString(),this.reportDate=e.readString(),this.contact=e.readString(),this.content=e.readString(),this.appendDatas=s.AppendDataSeqHelper.read(e)}),15,!1),s.ClientLogServer=o.defineObject(void 0,i.Object,void 0,1,["::Ice::Object","::LogSpace::ClientLogServer"],-1,void 0,void 0,!1),s.ClientLogServerPrx=o.defineProxy(i.ObjectPrx,s.ClientLogServer.ice_staticId,void 0),o.defineOperations(s.ClientLogServer,s.ClientLogServerPrx,{log:[,,,,,,[["Ice.ByteSeqHelper"]],,,,],logFatal:[,,,,,,[[s.FatalLogInfo]],,,,],usrReport:[,,,,,,[[s.UsrReportInfo]],,,,],logDetail:[,,,,,,[[3],[7],["Ice.ByteSeqHelper"]],,,,]}),n.LogSpace=s}(void 0!==t&&t.process,_.__require,_),function(e,t,n){var i=t("ice").Ice,r=i.__M,o=i.Slice,s=r.module("NetDiskService");o.defineSequence(s,"DataSeqHelper","Ice.ByteHelper",!0),o.defineSequence(s,"StringSeqHelper","Ice.StringHelper",!1),o.defineDictionary(s,"DataDict","DataDictHelper","Ice.StringHelper","Ice.StringHelper",!1,void 0,void 0),o.defineSequence(s,"DataDictSeqHelper","NetDiskService.DataDictHelper",!1),s.NetDiskException=o.defineUserException((function(e,t,n){i.UserException.call(this,n),this.error=void 0!==e?e:0,this.reason=void 0!==t?t:""}),i.UserException,"NetDiskService::NetDiskException",(function(e){e.writeInt(this.error),e.writeString(this.reason)}),(function(e){this.error=e.readInt(),this.reason=e.readString()}),!1,!1),s.NDSessionBase=o.defineObject(void 0,i.Object,void 0,1,["::Ice::Object","::NetDiskService::NDSessionBase"],-1,void 0,void 0,!1),s.NDSessionBasePrx=o.defineProxy(i.ObjectPrx,s.NDSessionBase.ice_staticId,void 0),o.defineOperations(s.NDSessionBase,s.NDSessionBasePrx,{getSessionTimeout:[,2,2,1,,[3],,,,,],keepAlive:[,2,2,1,,,,,[s.NetDiskException],,],destroy:[,,,1,,,,,,,]}),s.InvalidFileDescriptor=o.defineUserException((function(e,t,n){s.NetDiskException.call(this,e,t,n)}),s.NetDiskException,"NetDiskService::InvalidFileDescriptor",void 0,void 0,!1,!1),s.InvalidUserId=o.defineUserException((function(e,t,n){s.NetDiskException.call(this,e,t,n)}),s.NetDiskException,"NetDiskService::InvalidUserId",void 0,void 0,!1,!1),s.InvalidCompanyId=o.defineUserException((function(e,t,n){s.NetDiskException.call(this,e,t,n)}),s.NetDiskException,"NetDiskService::InvalidCompanyId",void 0,void 0,!1,!1),s.InvalidConfId=o.defineUserException((function(e,t,n){s.NetDiskException.call(this,e,t,n)}),s.NetDiskException,"NetDiskService::InvalidConfId",void 0,void 0,!1,!1),s.InvalidTaskId=o.defineUserException((function(e,t,n){s.NetDiskException.call(this,e,t,n)}),s.NetDiskException,"NetDiskService::InvalidTaskId",void 0,void 0,!1,!1),s.PermissionDenied=o.defineUserException((function(e,t,n){s.NetDiskException.call(this,e,t,n)}),s.NetDiskException,"NetDiskService::PermissionDenied",void 0,void 0,!1,!1),s.InvalidAccessMode=o.defineUserException((function(e,t,n){s.NetDiskException.call(this,e,t,n)}),s.NetDiskException,"NetDiskService::InvalidAccessMode",void 0,void 0,!1,!1),s.TaskIdAlreadyExists=o.defineUserException((function(e,t,n){s.NetDiskException.call(this,e,t,n)}),s.NetDiskException,"NetDiskService::TaskIdAlreadyExists",void 0,void 0,!1,!1),s.InvalidFileName=o.defineUserException((function(e,t,n){s.NetDiskException.call(this,e,t,n)}),s.NetDiskException,"NetDiskService::InvalidFileName",void 0,void 0,!1,!1),s.FileAlreadyExists=o.defineUserException((function(e,t,n){s.NetDiskException.call(this,e,t,n)}),s.NetDiskException,"NetDiskService::FileAlreadyExists",void 0,void 0,!1,!1),s.FdfsFileAlreadyExists=o.defineUserException((function(e,t,n){s.NetDiskException.call(this,e,t,n)}),s.NetDiskException,"NetDiskService::FdfsFileAlreadyExists",void 0,void 0,!1,!1),s.FileBuffering=o.defineUserException((function(e,t,n){s.NetDiskException.call(this,e,t,n)}),s.NetDiskException,"NetDiskService::FileBuffering",void 0,void 0,!1,!1),s.FileOrDirectoryNotExists=o.defineUserException((function(e,t,n){s.NetDiskException.call(this,e,t,n)}),s.NetDiskException,"NetDiskService::FileOrDirectoryNotExists",void 0,void 0,!1,!1),s.InconsistentDataValidation=o.defineUserException((function(e,t,n){s.NetDiskException.call(this,e,t,n)}),s.NetDiskException,"NetDiskService::InconsistentDataValidation",void 0,void 0,!1,!1),s.TransformNotRecord=o.defineUserException((function(e,t,n){s.NetDiskException.call(this,e,t,n)}),s.NetDiskException,"NetDiskService::TransformNotRecord",void 0,void 0,!1,!1),s.TransformNotComplete=o.defineUserException((function(e,t,n){s.NetDiskException.call(this,e,t,n)}),s.NetDiskException,"NetDiskService::TransformNotComplete",void 0,void 0,!1,!1),s.AlreadyTransformExcept=o.defineUserException((function(e,t,n){s.NetDiskException.call(this,e,t,n)}),s.NetDiskException,"NetDiskService::AlreadyTransformExcept",void 0,void 0,!1,!1),s.ProgressTransformExcept=o.defineUserException((function(e,t,n){s.NetDiskException.call(this,e,t,n)}),s.NetDiskException,"NetDiskService::ProgressTransformExcept",void 0,void 0,!1,!1),s.TimeoutTransformExcept=o.defineUserException((function(e,t,n){s.NetDiskException.call(this,e,t,n)}),s.NetDiskException,"NetDiskService::TimeoutTransformExcept",void 0,void 0,!1,!1),s.FSNodeAlreadyExists=o.defineUserException((function(e,t,n){s.NetDiskException.call(this,e,t,n)}),s.NetDiskException,"NetDiskService::FSNodeAlreadyExists",void 0,void 0,!1,!1),s.AlreadyImportExcept=o.defineUserException((function(e,t,n){s.NetDiskException.call(this,e,t,n)}),s.NetDiskException,"NetDiskService::AlreadyImportExcept",void 0,void 0,!1,!1),s.notTransformServer=o.defineUserException((function(e,t,n){s.NetDiskException.call(this,e,t,n)}),s.NetDiskException,"NetDiskService::notTransformServer",void 0,void 0,!1,!1),s.notAvailableTransformServer=o.defineUserException((function(e,t,n){s.NetDiskException.call(this,e,t,n)}),s.NetDiskException,"NetDiskService::notAvailableTransformServer",void 0,void 0,!1,!1),s.ImportSameMd5=o.defineUserException((function(e,t,n){s.NetDiskException.call(this,e,t,n)}),s.NetDiskException,"NetDiskService::ImportSameMd5",void 0,void 0,!1,!1),s.ExceedTheCapacityLimit=o.defineUserException((function(e,t,n){s.NetDiskException.call(this,e,t,n)}),s.NetDiskException,"NetDiskService::ExceedTheCapacityLimit",void 0,void 0,!1,!1),s.NotSupportExcept=o.defineUserException((function(e,t,n){s.NetDiskException.call(this,e,t,n)}),s.NetDiskException,"NetDiskService::NotSupportExcept",void 0,void 0,!1,!1),s.ServerInternalError=o.defineUserException((function(e,t,n){s.NetDiskException.call(this,e,t,n)}),s.NetDiskException,"NetDiskService::ServerInternalError",void 0,void 0,!1,!1),n.NetDiskService=s}(void 0!==t&&t.process,_.__require,_),function(e,t,n){var i=t("ice").Ice,r=i.__M,o=i.Slice,s=r.module("FileServer");o.defineSequence(s,"DataSeqHelper","Ice.ByteHelper",!0),o.defineSequence(s,"LongIntArrayHelper","Ice.LongHelper",!0),o.defineSequence(s,"StringListHelper","Ice.StringHelper",!1),o.defineDictionary(s,"OptField","OptFieldHelper","Ice.StringHelper","Ice.StringHelper",!1,void 0,void 0),s.FileType=o.defineEnum([["FT_NORMAL",0],["FT_PROGRAM",1]]),s.FileStatus=o.defineEnum([["FS_UPLOADING",0],["FS_COMPLETE",1]]),s.ConferenceType=o.defineEnum([["CONF_PROVISIONAL",0],["CONF_PERIODIC",1],["CONF_FIXED",2]]),s.PrivilegeAuth=o.defineStruct((function(e,t){this.challengeStr=void 0!==e?e:"",this.accessSecret=void 0!==t?t:""}),!0,(function(e){e.writeString(this.challengeStr),e.writeString(this.accessSecret)}),(function(e){this.challengeStr=e.readString(),this.accessSecret=e.readString()}),2,!1),s.LoginRequest=o.defineStruct((function(e,t,n){this.confId=void 0!==e?e:0,this.termId=void 0!==t?t:0,this.auth=void 0!==n?n:new s.PrivilegeAuth}),!0,(function(e){e.writeLong(this.confId),e.writeShort(this.termId),s.PrivilegeAuth.write(e,this.auth)}),(function(e){this.confId=e.readLong(),this.termId=e.readShort(),this.auth=s.PrivilegeAuth.read(e,this.auth)}),12,!1),s.SessionBase=o.defineObject(void 0,i.Object,void 0,0,["::FileServer::SessionBase","::Ice::Object"],-1,void 0,void 0,!1),s.SessionBasePrx=o.defineProxy(i.ObjectPrx,s.SessionBase.ice_staticId,void 0),o.defineOperations(s.SessionBase,s.SessionBasePrx,{refresh:[,,,,,,,,,,],destroy:[,,,,,,,,,,]}),s.FSExcept=o.defineUserException((function(e,t,n){i.UserException.call(this,n),this.errNo=void 0!==e?e:0,this.errMsg=void 0!==t?t:""}),i.UserException,"FileServer::FSExcept",(function(e){e.writeInt(this.errNo),e.writeString(this.errMsg)}),(function(e){this.errNo=e.readInt(),this.errMsg=e.readString()}),!1,!1),Object.defineProperty(s,"FS_ERROR_UNKNOWN",{value:-1}),s.FSError=o.defineEnum([["FS_OK",0],["FS_REQUEST_TOO_FREQUENT",1],["FS_INVALID_CHALLENGE_STRING",2],["FS_AUTH_FAILED",3],["FS_INVALID_CONFID",4],["FS_INSUFFICIENT_PRIVILEGE",5],["FS_PERMISSION_DENIED",6],["FS_ACCESS_DENIED",7],["FS_DEPLOYMENT_ERROR",8],["FS_APPLICATION_NOT_REGISTRY",9],["FS_FILE_ALREADY_EXISTS",10],["FS_CONFERENCE_NOT_EXISTS",11],["FS_NO_ENOUGH_DISK_SPACE",12],["FS_INVALID_TERMID",13],["FS_PUSHTASK_ALREADY_EXISTS",14],["FS_INVALID_PUSHID",15],["FS_PUSHTASK_ALREADY_CANCEL",16],["FS_CONF_DISK_SPACE_LIMIT_EXCEEDED",17],["FS_INCONSISTENT_DATA_VALIDATION",18],["FS_FILE_NOT_EXISTS",19],["FS_FILE_ALREADY_DELETE",20],["FS_FILE_ALREADY_UPDATE",21],["FS_REJECT_BY_FLOW_CONTROL",22],["FS_CONVERT_TASK_NOT_EXISTS",23],["FS_CONVERT_TASK_ERROR",24]]),s.DocConversionException=o.defineUserException((function(e,t,n){s.FSExcept.call(this,e,t,n)}),s.FSExcept,"FileServer::DocConversionException",void 0,void 0,!1,!1),Object.defineProperty(s,"FS_FC_LEVEL_0",{value:0}),Object.defineProperty(s,"FS_FC_LEVEL_MAX",{value:50}),s.FSFlowCtrlData=o.defineStruct((function(e,t,n,i,r){this.lv=void 0!==e?e:0,this.confTotal=void 0!==t?t:0,this.clientTotal=void 0!==n?n:0,this.bandwith=void 0!==i?i:0,this.requestPerSec=void 0!==r?r:0}),!0,(function(e){e.writeInt(this.lv),e.writeInt(this.confTotal),e.writeInt(this.clientTotal),e.writeInt(this.bandwith),e.writeInt(this.requestPerSec)}),(function(e){this.lv=e.readInt(),this.confTotal=e.readInt(),this.clientTotal=e.readInt(),this.bandwith=e.readInt(),this.requestPerSec=e.readInt()}),20,!0),n.FileServer=s}(void 0!==t&&t.process,_.__require,_),function(e,t,n){var i=t("ice").Ice,r=(i.__M,t("NetDisk/NDCommon").NetDiskService),o=i.Slice;r.StatInfo=o.defineStruct((function(e,t,n,i,r,o){this.name=void 0!==e?e:"",this.path=void 0!==t?t:"",this.md5=void 0!==n?n:"",this.size=void 0!==i?i:0,this.ctime=void 0!==r?r:"",this.attributes=void 0!==o?o:null}),!1,(function(e){e.writeString(this.name),e.writeString(this.path),e.writeString(this.md5),e.writeLong(this.size),e.writeString(this.ctime),r.DataDictHelper.write(e,this.attributes)}),(function(e){this.name=e.readString(),this.path=e.readString(),this.md5=e.readString(),this.size=e.readLong(),this.ctime=e.readString(),this.attributes=r.DataDictHelper.read(e)}),13,!1),o.defineSequence(r,"FileNodeSeqHelper","NetDiskService.StatInfo",!1),o.defineSequence(r,"DirNodeSeqHelper","Ice.ObjectHelper",!1,"NetDiskService.DirNode"),r.DirNode=o.defineObject((function(e,t,n,r,o){i.Object.call(this),this.name=void 0!==e?e:"",this.path=void 0!==t?t:"/",this.attributes=void 0!==n?n:null,this.subDirs=void 0!==r?r:null,this.files=void 0!==o?o:null}),i.Object,void 0,1,["::Ice::Object","::NetDiskService::DirNode"],-1,(function(e){e.writeString(this.name),e.writeString(this.path),r.DataDictHelper.write(e,this.attributes),r.DirNodeSeqHelper.write(e,this.subDirs),r.FileNodeSeqHelper.write(e,this.files)}),(function(e){this.name=e.readString(),this.path=e.readString(),this.attributes=r.DataDictHelper.read(e),this.subDirs=r.DirNodeSeqHelper.read(e),this.files=r.FileNodeSeqHelper.read(e)}),!1),r.DirNodePrx=o.defineProxy(i.ObjectPrx,r.DirNode.ice_staticId,void 0),o.defineOperations(r.DirNode,r.DirNodePrx),r.ConvertStauts=o.defineStruct((function(e,t,n){this.status=void 0!==e?e:0,this.fileList=void 0!==t?t:null,this.attributes=void 0!==n?n:null}),!1,(function(e){e.writeInt(this.status),r.StringSeqHelper.write(e,this.fileList),r.DataDictHelper.write(e,this.attributes)}),(function(e){this.status=e.readInt(),this.fileList=r.StringSeqHelper.read(e),this.attributes=r.DataDictHelper.read(e)}),6,!1),r.DocData=o.defineStruct((function(e,t,n,i,r){this.owern_id=void 0!==e?e:0,this.owner_type=void 0!==t?t:"",this.name=void 0!==n?n:"",this.attributes=void 0!==i?i:null,this.pageDataList=void 0!==r?r:null}),!1,(function(e){e.writeInt(this.owern_id),e.writeString(this.owner_type),e.writeString(this.name),r.DataDictHelper.write(e,this.attributes),r.FileNodeSeqHelper.write(e,this.pageDataList)}),(function(e){this.owern_id=e.readInt(),this.owner_type=e.readString(),this.name=e.readString(),this.attributes=r.DataDictHelper.read(e),this.pageDataList=r.FileNodeSeqHelper.read(e)}),8,!1),o.defineSequence(r,"DocDataSeqHelper","NetDiskService.DocData",!1),n.NetDiskService=r}(void 0!==t&&t.process,_.__require,_),function(e,t,n){var i=t("ice").Ice,r=(i.__M,t("NetDisk/NDCommon").NetDiskService),o=i.Slice;r.FSIOSession=o.defineObject(void 0,i.Object,[r.NDSessionBase],1,["::Ice::Object","::NetDiskService::FSIOSession","::NetDiskService::NDSessionBase"],-1,void 0,void 0,!1),r.FSIOSessionPrx=o.defineProxy(i.ObjectPrx,r.FSIOSession.ice_staticId,[r.NDSessionBasePrx]),o.defineOperations(r.FSIOSession,r.FSIOSessionPrx,{write:[,,,1,,,[[4],["NetDiskService.DataSeqHelper"]],,[r.NetDiskException],,],read:[,,,1,,,[[4],[4]],[["NetDiskService.DataSeqHelper"]],[r.NetDiskException],,],getFileSize:[,,,1,,[4],,,[r.NetDiskException],,],getServerNo:[,,,1,,[3],,,[r.NetDiskException],,]}),o.defineSequence(r,"FSIOSessionProxySeqHelper","NetDiskService.FSIOSessionPrx",!1),r.FileStorageGateway=o.defineObject(void 0,i.Object,void 0,1,["::Ice::Object","::NetDiskService::FileStorageGateway"],-1,void 0,void 0,!1),r.FileStorageGatewayPrx=o.defineProxy(i.ObjectPrx,r.FileStorageGateway.ice_staticId,void 0),o.defineOperations(r.FileStorageGateway,r.FileStorageGatewayPrx,{createFSIOSession:[,,,1,,["NetDiskService.FSIOSessionPrx"],[[7],[7],[7]],,[r.NetDiskException],,],fileUploadCompleted:[,,,1,,[7],[[7],[1]],,[r.NetDiskException],,],cacheFile:[,,,1,,,[[7],[7]],,[r.NetDiskException],,],deleteFileList:[,,,1,,,[["NetDiskService.StringSeqHelper"]],,[r.NetDiskException],,]}),o.defineSequence(r,"FSGatewayProxySeqHelper","NetDiskService.FileStorageGatewayPrx",!1),r.FileStorageGatewayStat=o.defineStruct((function(e,t,n){this.servNo=void 0!==e?e:0,this.id=void 0!==t?t:"",this.proxy=void 0!==n?n:null}),!1,(function(e){e.writeInt(this.servNo),e.writeString(this.id),r.FileStorageGatewayPrx.write(e,this.proxy)}),(function(e){this.servNo=e.readInt(),this.id=e.readString(),this.proxy=r.FileStorageGatewayPrx.read(e,this.proxy)}),7,!1),r.FileStorageGatewayKeepAliveSession=o.defineObject(void 0,i.Object,[r.NDSessionBase],1,["::Ice::Object","::NetDiskService::FileStorageGatewayKeepAliveSession","::NetDiskService::NDSessionBase"],-1,void 0,void 0,!1),r.FileStorageGatewayKeepAliveSessionPrx=o.defineProxy(i.ObjectPrx,r.FileStorageGatewayKeepAliveSession.ice_staticId,[r.NDSessionBasePrx]),o.defineOperations(r.FileStorageGatewayKeepAliveSession,r.FileStorageGatewayKeepAliveSessionPrx,{updateStat:[,,,1,,,[[r.FileStorageGatewayStat]],,[r.NetDiskException],,]}),r.NDFileStorageGateway=o.defineObject(void 0,i.Object,void 0,1,["::Ice::Object","::NetDiskService::NDFileStorageGateway"],-1,void 0,void 0,!1),r.NDFileStorageGatewayPrx=o.defineProxy(i.ObjectPrx,r.NDFileStorageGateway.ice_staticId,void 0),o.defineOperations(r.NDFileStorageGateway,r.NDFileStorageGatewayPrx,{registerFSGW:[,,,1,,["NetDiskService.FileStorageGatewayKeepAliveSessionPrx"],[[r.FileStorageGatewayStat]],,[r.NetDiskException],,]}),n.NetDiskService=r}(void 0!==t&&t.process,_.__require,_),function(e,t,n){var i=t("ice").Ice,r=i.__M,o=t("FileServer/FSCommon").FileServer,s=t("NetDisk/NDFilesystem").NetDiskService,c=i.Slice,a=r.module("DocConverter");c.defineSequence(a,"StringListHelper","Ice.StringHelper",!1),a.DocConverterException=c.defineUserException((function(e,t,n){i.UserException.call(this,n),this.error=void 0!==e?e:0,this.reason=void 0!==t?t:""}),i.UserException,"DocConverter::DocConverterException",(function(e){e.writeInt(this.error),e.writeString(this.reason)}),(function(e){this.error=e.readInt(),this.reason=e.readString()}),!1,!1),a.TaskNotExistException=c.defineUserException((function(e,t,n){a.DocConverterException.call(this,e,t,n)}),a.DocConverterException,"DocConverter::TaskNotExistException",void 0,void 0,!1,!1),a.ConversionException=c.defineUserException((function(e,t,n){a.DocConverterException.call(this,e,t,n)}),a.DocConverterException,"DocConverter::ConversionException",void 0,void 0,!1,!1),a.ConversionModuleException=c.defineUserException((function(e,t,n){a.DocConverterException.call(this,e,t,n)}),a.DocConverterException,"DocConverter::ConversionModuleException",void 0,void 0,!1,!1),a.TaskState=c.defineEnum([["PENDING",0],["DOWNLOADING",1],["CONVERTING",2],["UPLOADING",3],["DONE",4]]),c.defineDictionary(a,"ParamDict","ParamDictHelper","Ice.StringHelper","Ice.StringHelper",!1,void 0,void 0),a.DocConvertRequest=c.defineStruct((function(e,t,n,i,r,s,c,a){this.confId=void 0!==e?e:0,this.ownerId=void 0!==t?t:0,this.fileName=void 0!==n?n:"",this.md5=void 0!==i?i:"",this.fType=void 0!==r?r:o.FileType.FT_NORMAL,this.size=void 0!==s?s:0,this.originSize=void 0!==c?c:0,this.param=void 0!==a?a:null}),!1,(function(e){e.writeInt(this.confId),e.writeShort(this.ownerId),e.writeString(this.fileName),e.writeString(this.md5),o.FileType.__write(e,this.fType),e.writeLong(this.size),e.writeLong(this.originSize),a.ParamDictHelper.write(e,this.param)}),(function(e){this.confId=e.readInt(),this.ownerId=e.readShort(),this.fileName=e.readString(),this.md5=e.readString(),this.fType=o.FileType.__read(e),this.size=e.readLong(),this.originSize=e.readLong(),this.param=a.ParamDictHelper.read(e)}),26,!1),a.DocConvertResponse=c.defineStruct((function(e,t,n,i){this.rsltType=void 0!==e?e:0,this.width=void 0!==t?t:0,this.height=void 0!==n?n:0,this.fileList=void 0!==i?i:null}),!0,(function(e){e.writeInt(this.rsltType),e.writeInt(this.width),e.writeInt(this.height),a.StringListHelper.write(e,this.fileList)}),(function(e){this.rsltType=e.readInt(),this.width=e.readInt(),this.height=e.readInt(),this.fileList=a.StringListHelper.read(e)}),13,!1),a.FSConverter=c.defineObject(void 0,i.Object,void 0,0,["::DocConverter::FSConverter","::Ice::Object"],-1,void 0,void 0,!1),a.FSConverterPrx=c.defineProxy(i.ObjectPrx,a.FSConverter.ice_staticId,void 0),c.defineOperations(a.FSConverter,a.FSConverterPrx,{convert:[,,,1,,[7],[[a.DocConvertRequest]],,[a.DocConverterException],,],getTaskState:[,,,1,,[a.TaskState.__helper],[[7]],[[a.DocConvertResponse]],[a.DocConverterException],,],cancelTask:[,,,1,,,[[7]],,[a.DocConverterException],,]}),a.NDConverter=c.defineObject(void 0,i.Object,void 0,0,["::DocConverter::NDConverter","::Ice::Object"],-1,void 0,void 0,!1),a.NDConverterPrx=c.defineProxy(i.ObjectPrx,a.NDConverter.ice_staticId,void 0),c.defineOperations(a.NDConverter,a.NDConverterPrx,{convert:[,,,1,,[7],[[s.StatInfo]],,[a.DocConverterException],,],cancelTask:[,,,1,,,[[7]],,[a.DocConverterException],,]}),n.DocConverter=a}(void 0!==t&&t.process,_.__require,_),function(e,t,n){var i=t("ice").Ice,r=i.__M,o=t("DocConverter/DocConverter").DocConverter,s=(t("FileServer/FSCommon").FileServer,r.require(e,["NetDisk/FileStorageGateway","NetDisk/NDFilesystem","NetDisk/NDCommon"]).NetDiskService),c=i.Slice;s.NDSession=c.defineObject(void 0,i.Object,[s.NDSessionBase],1,["::Ice::Object","::NetDiskService::NDSession","::NetDiskService::NDSessionBase"],-1,void 0,void 0,!1),s.NDSessionPrx=c.defineProxy(i.ObjectPrx,s.NDSession.ice_staticId,[s.NDSessionBasePrx]),c.defineOperations(s.NDSession,s.NDSessionPrx,{listDirTree:[,2,2,1,,["NetDiskService.DirNode",!0],[[7]],,[s.NetDiskException],,!0],listDir:[,2,2,1,,["NetDiskService.DirNode",!0],[[7]],,[s.NetDiskException],,!0],mkdir:[,,,1,,,[[7]],,[s.NetDiskException],,],renameFile:[,,,1,,,[[7],[7]],,[s.NetDiskException],,],renameDir:[,,,1,,,[[7],[7]],,[s.NetDiskException],,],deleteFile:[,,,1,,,[[7]],,[s.NetDiskException],,],deleteDir:[,,,1,,,[[7]],,[s.NetDiskException],,],stat:[,,,1,,[s.StatInfo],[[7]],,[s.NetDiskException],,],getSummary:[,,,1,,,,[["NetDiskService.DataDictHelper"]],[s.NetDiskException],,],beginUpload:[,,,1,,,[[s.StatInfo]],[[7],["NetDiskService.FSGatewayProxySeqHelper"]],[s.NetDiskException],,],endUpload:[,,,1,,,[[7],[7]],,[s.NetDiskException],,],beginDownload:[,,,1,,,[[7]],[["NetDiskService.FSGatewayProxySeqHelper"]],[s.NetDiskException],,],convert:[,,,1,,[7],[[7],["NetDiskService.DataDictHelper"],["NetDiskService.FSIOSessionPrx"]],,[o.DocConverterException,s.NetDiskException],,],getConvertStatus:[,,,1,,[s.ConvertStauts],[[7]],,[o.DocConverterException,s.NetDiskException],,],updateFileAttr:[,,,1,,,[[7],["NetDiskService.DataDictHelper"]],,[s.NetDiskException],,],getHttpUrl:[,2,2,1,,["NetDiskService.StringSeqHelper"],[[7]],,[s.NetDiskException],,]}),s.NDUserSession=c.defineObject(void 0,i.Object,[s.NDSession],3,["::Ice::Object","::NetDiskService::NDSession","::NetDiskService::NDSessionBase","::NetDiskService::NDUserSession"],-1,void 0,void 0,!1),s.NDUserSessionPrx=c.defineProxy(i.ObjectPrx,s.NDUserSession.ice_staticId,[s.NDSessionPrx]),c.defineOperations(s.NDUserSession,s.NDUserSessionPrx,{import2Conf:[,,,1,,,[[7],[3],["NetDiskService.DataDictHelper"]],,[s.NetDiskException],,],import2ConfDD:[,,,1,,["NetDiskService.DataDictHelper"],[[7],[3],["NetDiskService.DataDictHelper"]],,[s.NetDiskException],,],save2CompanyNetDisk:[,,,1,,,[[7],[7],["NetDiskService.DataDictHelper"]],,[s.NetDiskException],,]}),s.NDCompanySession=c.defineObject(void 0,i.Object,[s.NDSession],1,["::Ice::Object","::NetDiskService::NDCompanySession","::NetDiskService::NDSession","::NetDiskService::NDSessionBase"],-1,void 0,void 0,!1),s.NDCompanySessionPrx=c.defineProxy(i.ObjectPrx,s.NDCompanySession.ice_staticId,[s.NDSessionPrx]),c.defineOperations(s.NDCompanySession,s.NDCompanySessionPrx,{import2Conf:[,,,1,,,[[7],[3],["NetDiskService.DataDictHelper"]],,[s.NetDiskException],,],import2ConfDD:[,,,1,,["NetDiskService.DataDictHelper"],[[7],[3],["NetDiskService.DataDictHelper"]],,[s.NetDiskException],,],save2UserNetDisk:[,,,1,,,[[3],[7],[7],["NetDiskService.DataDictHelper"]],,[s.NetDiskException],,]}),s.NDConfSession=c.defineObject(void 0,i.Object,[s.NDSession],1,["::Ice::Object","::NetDiskService::NDConfSession","::NetDiskService::NDSession","::NetDiskService::NDSessionBase"],-1,void 0,void 0,!1),s.NDConfSessionPrx=c.defineProxy(i.ObjectPrx,s.NDConfSession.ice_staticId,[s.NDSessionPrx]),c.defineOperations(s.NDConfSession,s.NDConfSessionPrx,{getConvertList:[,,,1,,["NetDiskService.DocDataSeqHelper"],,,[s.NetDiskException],,]}),s.NDConvertSession=c.defineObject(void 0,i.Object,[s.NDSession],1,["::Ice::Object","::NetDiskService::NDConvertSession","::NetDiskService::NDSession","::NetDiskService::NDSessionBase"],-1,void 0,void 0,!1),s.NDConvertSessionPrx=c.defineProxy(i.ObjectPrx,s.NDConvertSession.ice_staticId,[s.NDSessionPrx]),c.defineOperations(s.NDConvertSession,s.NDConvertSessionPrx,{docConvertStateNotice:[,2,2,1,,,[[7],[3],["NetDiskService.DataDictHelper"]],,[s.NetDiskException],,]}),s.NDClient=c.defineObject(void 0,i.Object,void 0,1,["::Ice::Object","::NetDiskService::NDClient"],-1,void 0,void 0,!1),s.NDClientPrx=c.defineProxy(i.ObjectPrx,s.NDClient.ice_staticId,void 0),c.defineOperations(s.NDClient,s.NDClientPrx,{createUserSession:[,,,1,,["NetDiskService.NDUserSessionPrx"],[[3],[7]],,[s.NetDiskException],,],createCompanySession:[,,,1,,["NetDiskService.NDCompanySessionPrx"],[[3],[7]],,[s.NetDiskException],,],createConfSession:[,,,1,,["NetDiskService.NDConfSessionPrx"],[[3],[7]],,[s.NetDiskException],,],createConvertSession:[,,,1,,["NetDiskService.NDConvertSessionPrx"],[[3],[7]],,[s.NetDiskException],,]}),s.NetDisk=c.defineObject(void 0,i.Object,void 0,1,["::Ice::Object","::NetDiskService::NetDisk"],-1,void 0,void 0,!1),s.NetDiskPrx=c.defineProxy(i.ObjectPrx,s.NetDisk.ice_staticId,void 0),c.defineOperations(s.NetDisk,s.NetDiskPrx,{createUserNetDisk:[,,,1,,,[[3]],,[s.NetDiskException],,],deleteUserNetDisk:[,2,2,1,,,[[3]],,[s.NetDiskException],,],createCompanyNetDisk:[,,,1,,,[[3],[7]],,[s.NetDiskException],,],deleteCompanyNetDisk:[,2,2,1,,,[[3]],,[s.NetDiskException],,],setCompanyNDAuthToken:[,2,2,1,,,[[3],[7]],,[s.NetDiskException],,],createConfNetDisk:[,,,1,,,[[3],[7]],,[s.NetDiskException],,],deleteConfNetDisk:[,2,2,1,,,[[3]],,[s.NetDiskException],,],setConfNDAuthToken:[,2,2,1,,,[[3],[7]],,[s.NetDiskException],,],clean:[,2,2,1,,,,,[s.NetDiskException],,]}),n.NetDiskService=s}(void 0!==t&&void 0!==t.process?i:void 0,_.__require,_),function(e,t,n){var i=t("ice").Ice,r=i.__M,o=i.Slice,s=r.module("Resm");s.ResmError=o.defineUserException((function(e,t,n){i.UserException.call(this,n),this.error=void 0!==e?e:0,this.reason=void 0!==t?t:""}),i.UserException,"Resm::ResmError",(function(e){e.writeInt(this.error),e.writeString(this.reason)}),(function(e){this.error=e.readInt(),this.reason=e.readString()}),!1,!1),s.ServerIdNotConfiger=o.defineUserException((function(e,t,n){s.ResmError.call(this,e,t,n)}),s.ResmError,"Resm::ServerIdNotConfiger",void 0,void 0,!1,!1),s.ServerNotEnable=o.defineUserException((function(e,t,n){s.ResmError.call(this,e,t,n)}),s.ResmError,"Resm::ServerNotEnable",void 0,void 0,!1,!1),s.NotAddedToService=o.defineUserException((function(e,t,n){s.ResmError.call(this,e,t,n)}),s.ResmError,"Resm::NotAddedToService",void 0,void 0,!1,!1),s.NoServerAvailable=o.defineUserException((function(e,t,n){s.ResmError.call(this,e,t,n)}),s.ResmError,"Resm::NoServerAvailable",void 0,void 0,!1,!1),s.NotConnected2Db=o.defineUserException((function(e,t,n){s.ResmError.call(this,e,t,n)}),s.ResmError,"Resm::NotConnected2Db",void 0,void 0,!1,!1),s.ResSessionBase=o.defineObject(void 0,i.Object,void 0,1,["::Ice::Object","::Resm::ResSessionBase"],-1,void 0,void 0,!1),s.ResSessionBasePrx=o.defineProxy(i.ObjectPrx,s.ResSessionBase.ice_staticId,void 0),o.defineOperations(s.ResSessionBase,s.ResSessionBasePrx,{nouse:[,,,,,,,,,,]}),s.InfoResponse=o.defineStruct((function(e,t,n,i){this.serverNo=void 0!==e?e:0,this.domain=void 0!==t?t:0,this.registerInverval=void 0!==n?n:0,this.reportInverval=void 0!==i?i:0}),!0,(function(e){e.writeInt(this.serverNo),e.writeInt(this.domain),e.writeInt(this.registerInverval),e.writeInt(this.reportInverval)}),(function(e){this.serverNo=e.readInt(),this.domain=e.readInt(),this.registerInverval=e.readInt(),this.reportInverval=e.readInt()}),16,!0),Object.defineProperty(s,"SERVER_ACCESS",{value:0}),Object.defineProperty(s,"SERVER_SS",{value:1}),Object.defineProperty(s,"SERVER_CONTROL",{value:2}),Object.defineProperty(s,"SERVER_FILE",{value:3}),Object.defineProperty(s,"SERVER_MIX",{value:4}),Object.defineProperty(s,"SERVER_FN",{value:5}),Object.defineProperty(s,"SERVER_MCU",{value:6}),s.ResmCommon=o.defineObject(void 0,i.Object,void 0,1,["::Ice::Object","::Resm::ResmCommon"],-1,void 0,void 0,!1),s.ResmCommonPrx=o.defineProxy(i.ObjectPrx,s.ResmCommon.ice_staticId,void 0),o.defineOperations(s.ResmCommon,s.ResmCommonPrx,{getSelfInfo:[,,,,,[s.InfoResponse],[[7],[3]],,[s.ResmError],,],getActiveConference:[,,,,,["Ice.IntSeqHelper"],,,[s.ResmError],,]}),o.defineDictionary(s,"ReportDict","ReportDictHelper","Ice.StringHelper","Ice.IntHelper",!1,void 0,void 0),o.defineDictionary(s,"DataDict","DataDictHelper","Ice.StringHelper","Ice.IntHelper",!1,void 0,void 0),o.defineSequence(s,"IpAddressSeqHelper","Ice.StringHelper",!1),s.NetworkStatus=o.defineStruct((function(e,t){this.latency=void 0!==e?e:0,this.lostRate=void 0!==t?t:0}),!0,(function(e){e.writeInt(this.latency),e.writeInt(this.lostRate)}),(function(e){this.latency=e.readInt(),this.lostRate=e.readInt()}),8,!0),s.NetworkReport=o.defineStruct((function(e,t,n,i,r,o,s,c){this.avgLatency=void 0!==e?e:0,this.maxLatency=void 0!==t?t:0,this.minLatency=void 0!==n?n:0,this.lostRate=void 0!==i?i:0,this.singleLost=void 0!==r?r:0,this.contLostCnt=void 0!==o?o:0,this.contLostPkt=void 0!==s?s:0,this.statisTime=void 0!==c?c:""}),!0,(function(e){e.writeInt(this.avgLatency),e.writeInt(this.maxLatency),e.writeInt(this.minLatency),e.writeInt(this.lostRate),e.writeInt(this.singleLost),e.writeInt(this.contLostCnt),e.writeInt(this.contLostPkt),e.writeString(this.statisTime)}),(function(e){this.avgLatency=e.readInt(),this.maxLatency=e.readInt(),this.minLatency=e.readInt(),this.lostRate=e.readInt(),this.singleLost=e.readInt(),this.contLostCnt=e.readInt(),this.contLostPkt=e.readInt(),this.statisTime=e.readString()}),29,!1),s.PathStatus=o.defineStruct((function(e,t,n,i){this.remoteServerNo=void 0!==e?e:0,this.remoteIP=void 0!==t?t:"",this.netReport=void 0!==n?n:new s.NetworkReport,this.weight=void 0!==i?i:0}),!0,(function(e){e.writeInt(this.remoteServerNo),e.writeString(this.remoteIP),s.NetworkReport.write(e,this.netReport),e.writeInt(this.weight)}),(function(e){this.remoteServerNo=e.readInt(),this.remoteIP=e.readString(),this.netReport=s.NetworkReport.read(e,this.netReport),this.weight=e.readInt()}),38,!1),o.defineSequence(s,"PathStatusSeqHelper","Resm.PathStatus",!1),o.defineDictionary(s,"PathStatusDict","PathStatusDictHelper","Ice.StringHelper","Resm.PathStatusSeqHelper",!1,void 0,void 0,i.ArrayUtil.equals),s.MixSession=o.defineObject(void 0,i.Object,[s.ResSessionBase],1,["::Ice::Object","::Resm::MixSession","::Resm::ResSessionBase"],-1,void 0,void 0,!1),s.MixSessionPrx=o.defineProxy(i.ObjectPrx,s.MixSession.ice_staticId,[s.ResSessionBasePrx]),o.defineOperations(s.MixSession,s.MixSessionPrx,{abilityReport:[,,,,,,[["Resm.ReportDictHelper"]],,[s.ResmError],,]}),s.NetworkProperty=o.defineEnum([["TELECOM",0],["UNICOM",1],["TELEUNI",2],["UNKNOW",3]]),s.MixM=o.defineObject(void 0,i.Object,void 0,1,["::Ice::Object","::Resm::MixM"],-1,void 0,void 0,!1),s.MixMPrx=o.defineProxy(i.ObjectPrx,s.MixM.ice_staticId,void 0),o.defineOperations(s.MixM,s.MixMPrx,{register:[,,,,,["Resm.MixSessionPrx"],[[3],[7],[7],["Resm.IpAddressSeqHelper"]],[["Resm.DataDictHelper"]],[s.ResmError],,],locate:[,,,,,[3],[[3],[3],[s.NetworkProperty.__helper]],,[s.ResmError],,],locateMixAndSs:[,,,,,["Resm.DataDictHelper"],[[3],[3],[3]],,[s.ResmError],,]}),s.SsSession=o.defineObject(void 0,i.Object,[s.ResSessionBase],2,["::Ice::Object","::Resm::ResSessionBase","::Resm::SsSession"],-1,void 0,void 0,!1),s.SsSessionPrx=o.defineProxy(i.ObjectPrx,s.SsSession.ice_staticId,[s.ResSessionBasePrx]),o.defineOperations(s.SsSession,s.SsSessionPrx,{abilityReport:[,,,,,,[["Resm.ReportDictHelper"]],,,,]}),s.SsM=o.defineObject(void 0,i.Object,void 0,1,["::Ice::Object","::Resm::SsM"],-1,void 0,void 0,!1),s.SsMPrx=o.defineProxy(i.ObjectPrx,s.SsM.ice_staticId,void 0),o.defineOperations(s.SsM,s.SsMPrx,{register:[,,,,,["Resm.SsSessionPrx"],[[3],[7],[7]],[["Resm.DataDictHelper"]],[s.ResmError],,],locate:[,,,,,[3],[[3],[3]],,[s.ResmError],,]}),s.ControlSession=o.defineObject(void 0,i.Object,[s.ResSessionBase],1,["::Ice::Object","::Resm::ControlSession","::Resm::ResSessionBase"],-1,void 0,void 0,!1),s.ControlSessionPrx=o.defineProxy(i.ObjectPrx,s.ControlSession.ice_staticId,[s.ResSessionBasePrx]),o.defineOperations(s.ControlSession,s.ControlSessionPrx,{abilityReport:[,,,,,,[["Resm.ReportDictHelper"]],,,,]}),s.ControlM=o.defineObject(void 0,i.Object,void 0,1,["::Ice::Object","::Resm::ControlM"],-1,void 0,void 0,!1),s.ControlMPrx=o.defineProxy(i.ObjectPrx,s.ControlM.ice_staticId,void 0),o.defineOperations(s.ControlM,s.ControlMPrx,{register:[,,,,,["Resm.ControlSessionPrx"],[[3],[7],[7]],,[s.ResmError],,],locate:[,,,,,["Resm.DataDictHelper"],[[3],[3],[3],[3]],,[s.ResmError],,]}),s.FileCallback=o.defineObject(void 0,i.Object,void 0,1,["::Ice::Object","::Resm::FileCallback"],-1,void 0,void 0,!1),s.FileCallbackPrx=o.defineProxy(i.ObjectPrx,s.FileCallback.ice_staticId,void 0),o.defineOperations(s.FileCallback,s.FileCallbackPrx,{setFileData:[,,,,,,[["Resm.DataDictHelper"]],,,,]}),s.FileSession=o.defineObject(void 0,i.Object,[s.ResSessionBase],1,["::Ice::Object","::Resm::FileSession","::Resm::ResSessionBase"],-1,void 0,void 0,!1),s.FileSessionPrx=o.defineProxy(i.ObjectPrx,s.FileSession.ice_staticId,[s.ResSessionBasePrx]),o.defineOperations(s.FileSession,s.FileSessionPrx,{abilityReport:[,,,,,,[["Resm.ReportDictHelper"]],,,,]}),s.FileM=o.defineObject(void 0,i.Object,void 0,1,["::Ice::Object","::Resm::FileM"],-1,void 0,void 0,!1),s.FileMPrx=o.defineProxy(i.ObjectPrx,s.FileM.ice_staticId,void 0),o.defineOperations(s.FileM,s.FileMPrx,{register:[,,,,,["Resm.FileSessionPrx"],[[3],[7],[7],["Resm.FileCallbackPrx"]],[["Resm.DataDictHelper"]],[s.ResmError],,],locate:[,,,,,["Resm.DataDictHelper"],[[3],[3]],,[s.ResmError],,]}),o.defineDictionary(s,"ConfMemberDict","ConfMemberDictHelper","Ice.IntHelper","Ice.IntHelper",!0,void 0,void 0),s.AccessSession=o.defineObject(void 0,i.Object,[s.ResSessionBase],1,["::Ice::Object","::Resm::AccessSession","::Resm::ResSessionBase"],-1,void 0,void 0,!1),s.AccessSessionPrx=o.defineProxy(i.ObjectPrx,s.AccessSession.ice_staticId,[s.ResSessionBasePrx]),o.defineOperations(s.AccessSession,s.AccessSessionPrx,{abilityReport:[,,,,,,[["Resm.ReportDictHelper"],["Resm.ConfMemberDictHelper"]],,,,]}),o.defineDictionary(s,"NetworkResult","NetworkResultHelper","Ice.IntHelper","Resm.NetworkStatus",!0,void 0,void 0,i.HashMap.compareEquals),s.NetworkAddress=o.defineStruct((function(e,t,n){this.ip=void 0!==e?e:"",this.port=void 0!==t?t:0,this.glacier2Port=void 0!==n?n:0}),!0,(function(e){e.writeString(this.ip),e.writeShort(this.port),e.writeShort(this.glacier2Port)}),(function(e){this.ip=e.readString(),this.port=e.readShort(),this.glacier2Port=e.readShort()}),5,!1),o.defineDictionary(s,"AccessAddrDict","AccessAddrDictHelper","Ice.IntHelper","Resm.NetworkAddress",!1,void 0,void 0,i.HashMap.compareEquals),s.AccessM=o.defineObject(void 0,i.Object,void 0,1,["::Ice::Object","::Resm::AccessM"],-1,void 0,void 0,!1),s.AccessMPrx=o.defineProxy(i.ObjectPrx,s.AccessM.ice_staticId,void 0),o.defineOperations(s.AccessM,s.AccessMPrx,{register:[,,,,,["Resm.AccessSessionPrx"],[[3],[7],[7],["Resm.IpAddressSeqHelper"]],[["Resm.DataDictHelper"]],[s.ResmError],,],locate:[,,,,,[3],[[3],[3],["Resm.NetworkResultHelper"],[7],[7]],,[s.ResmError],,],getAccessList:[,,,,,["Resm.AccessAddrDictHelper"],[[3]],,,,],sendCmd:[,,,,,,[[7],[7],[7],["Ice.ByteSeqHelper"]],[[7],["Ice.ByteSeqHelper"]],[s.ResmError],,]}),s.NetworkBandwidth=o.defineStruct((function(e,t){this.sendBandWidth=void 0!==e?e:0,this.recvBandWidth=void 0!==t?t:0}),!0,(function(e){e.writeInt(this.sendBandWidth),e.writeInt(this.recvBandWidth)}),(function(e){this.sendBandWidth=e.readInt(),this.recvBandWidth=e.readInt()}),8,!0),o.defineDictionary(s,"FNBandwidthDict","FNBandwidthDictHelper","Ice.StringHelper","Resm.NetworkBandwidth",!1,void 0,void 0,i.HashMap.compareEquals),s.FnSession=o.defineObject(void 0,i.Object,[s.ResSessionBase],1,["::Ice::Object","::Resm::FnSession","::Resm::ResSessionBase"],-1,void 0,void 0,!1),s.FnSessionPrx=o.defineProxy(i.ObjectPrx,s.FnSession.ice_staticId,[s.ResSessionBasePrx]),o.defineOperations(s.FnSession,s.FnSessionPrx,{abilityReport:[,,,,,,[["Resm.ReportDictHelper"],["Resm.FNBandwidthDictHelper"]],,,,]}),s.FnM=o.defineObject(void 0,i.Object,void 0,1,["::Ice::Object","::Resm::FnM"],-1,void 0,void 0,!1),s.FnMPrx=o.defineProxy(i.ObjectPrx,s.FnM.ice_staticId,void 0),o.defineOperations(s.FnM,s.FnMPrx,{register:[,,,,,["Resm.FnSessionPrx"],[[3],[7],[7],["Resm.IpAddressSeqHelper"]],[["Resm.DataDictHelper"]],[s.ResmError],,]}),s.RouteType=o.defineEnum([["UNREACHABLE",0],["DIRECT",1],["FORWARD",2]]),s.RouteScore=o.defineEnum([["BROKEN",0],["BAD",1],["AVAILABLE",2],["PERFECT",3]]),o.defineSequence(s,"IntSeqHelper","Ice.IntHelper",!0),s.Route=o.defineStruct((function(e,t,n,i,r,o,c){this.type=void 0!==e?e:s.RouteType.UNREACHABLE,this.score=void 0!==t?t:s.RouteScore.BROKEN,this.srcIP=void 0!==n?n:"",this.dstIP=void 0!==i?i:"",this.fnNo=void 0!==r?r:0,this.srcFnIP=void 0!==o?o:"",this.dstFnIP=void 0!==c?c:""}),!0,(function(e){s.RouteType.__write(e,this.type),s.RouteScore.__write(e,this.score),e.writeString(this.srcIP),e.writeString(this.dstIP),e.writeInt(this.fnNo),e.writeString(this.srcFnIP),e.writeString(this.dstFnIP)}),(function(e){this.type=s.RouteType.__read(e),this.score=s.RouteScore.__read(e),this.srcIP=e.readString(),this.dstIP=e.readString(),this.fnNo=e.readInt(),this.srcFnIP=e.readString(),this.dstFnIP=e.readString()}),10,!1),o.defineDictionary(s,"RouteMap","RouteMapHelper","Ice.IntHelper","Resm.Route",!1,void 0,void 0,i.HashMap.compareEquals),s.RouteM=o.defineObject(void 0,i.Object,void 0,1,["::Ice::Object","::Resm::RouteM"],-1,void 0,void 0,!1),s.RouteMPrx=o.defineProxy(i.ObjectPrx,s.RouteM.ice_staticId,void 0),o.defineOperations(s.RouteM,s.RouteMPrx,{RouteAllocBatch:[,,,,,["Resm.RouteMapHelper"],[[3],[3],["Resm.IntSeqHelper"]],,,,],RouteAlloc:[,,,,,[s.Route],[[3],[3],[3],["Resm.IntSeqHelper"]],,,,],PathReport:[,,,,,,[[3],["Resm.PathStatusDictHelper"]],,,,],RouteMapGet:[,,,,,["Resm.RouteMapHelper"],[[3],[3]],,,,]}),s.McuSession=o.defineObject(void 0,i.Object,[s.ResSessionBase],1,["::Ice::Object","::Resm::McuSession","::Resm::ResSessionBase"],-1,void 0,void 0,!1),s.McuSessionPrx=o.defineProxy(i.ObjectPrx,s.McuSession.ice_staticId,[s.ResSessionBasePrx]),o.defineOperations(s.McuSession,s.McuSessionPrx,{abilityReport:[,,,,,,[["Resm.ReportDictHelper"]],,,,]}),s.McuM=o.defineObject(void 0,i.Object,void 0,1,["::Ice::Object","::Resm::McuM"],-1,void 0,void 0,!1),s.McuMPrx=o.defineProxy(i.ObjectPrx,s.McuM.ice_staticId,void 0),o.defineOperations(s.McuM,s.McuMPrx,{register:[,,,,,["Resm.McuSessionPrx"],[[3],[7],[7]],[["Resm.DataDictHelper"]],[s.ResmError],,],locate:[,,,,,[3],[[3]],,[s.ResmError],,]}),n.Resm=s}(void 0!==t&&t.process,_.__require,_);var ae={__init:!1,CbProxy:function(e){this.name=e,this.callback=null}};ae.CbProxy.prototype.call=function(e){this.callback&&"function"==typeof this.callback&&this.callback.apply(null,e)},ae.MsgInfo=function(e){this.type=e.type,this.index=e.index,this.msg=e.msg,this.head=e.head,this.sendTime=e.sendTime,this.targetNickname=e.targetNickname,this.targetTermId=e.targetTermId,this.srcNickname=e.srcNickname,this.srcTermId=e.srcTermId,this.ishost=e.ishost},ae.MeetInfo=function(e){this.termId=e.termId,this.nickname=e.nickname,this.userId=e.userId,this.bindId=e.bindId,this.camList=e.camList,this.subscribeCams=e.subscribeCams,this.activeMembers=e.activeMembers,this.myDetail=e.myDetail,this.serverTime=e.serverTime,this.isBegan=e.isBegan,this.countdown=e.countdown,this.mainVideoTermID=e.mainVideoTermID,this.windowMode=e.windowMode,this.srvRecordState=e.srvRecordState,this.srvRecordCfg=e.srvRecordCfg,this.wbDescibes=e.wbDescibes,this.ServerUTCTime=e.ServerUTCTime,this.bAllowWall=e.bAllowWall,this.bFull=e.bFull,this.bRoomLocked=e.bRoomLocked,this.curMainTab=e.curMainTab,this.curSubTab=e.curSubTab,this.option=e.option,this.lastElemValue=e.lastElemValue,this.lastTabValue=e.lastTabValue,this.confInfo=e.confInfo,this.existHost=e.existHost},ae.Quesask=function(e){this.typeID=e.typeID,this.asktime=e.asktime,this.termID=e.termID,this.content=e.content,this.nickname=e.nickname},ae.QuesDeal=function(e){this.state=e.state._value,this.replyCon=e.replyCon,this.replyTermId=e.replyTermId,this.replyTime=e.replyTime,this.publishTermID=e.publishTermID,this.publishTime=e.publishTime,this.delTermID=e.delTermID,this.delTime=e.delTime},ae.QuesInf=function(e){this.quesID=e.quesID,this.ask=new ae.Quesask(e.ask),this.deal=new ae.QuesDeal(e.deal)},ae.ScreenShareInfo=function(e){this.scrSviceProxy=e.scrSviceProxy,this.authKey=e.authKey,this.allowCtrlReq=e.allowCtrlReq,this.state=e.state,this.sharer=e.sharer,this.controller=e.controller,this.allowOtherMark=e.allowOtherMark},ae.MediaInfo=function(e){this.termid=e.termid,this.MEDIA_STATE=e.MEDIA_STATE,this.mediaName=e.mediaName},ae.ElementID=function(e){this.ownerID=e.ownerID,this.ID=e.ID},ae.ElementData=function(e){this.eID=e.eID,this.orderId=e.orderId,this.left=e.left,this.top=e.top,this.type=e.type,this.noused=e.noused,this.data=e.data},ae.AsyncResult=function(){},ae.AsyncResult.prototype.then=function(e){return this.__child=new ae.AsyncResult,this.__complete=e,this.__child},ae.AsyncResult.prototype.complete=function(e){var t=function(){this.next(e),this.__parent&&"function"==typeof this.__parent.next&&this.__parent.next(e)}.bind(this);setTimeout(t,0)},ae.AsyncResult.prototype.next=function(e){if(this.__complete&&"function"==typeof this.__complete){var t=this.__complete.apply(this,e);t&&this.__child&&(t.__parent=this.__child)}},ae.AsyncResult.prototype.finish=function(e){this.next(e),this.__parent&&"function"==typeof this.__parent.next&&this.__parent.next(e)},ae.AsyncResult2As=function(e,t){this.id=e,this.proxy=t},ae.AsyncResult2As.prototype.complete=function(e){e.unshift(this.id),this.proxy.callback.apply(this.proxy,e)},ae.Swf={__callbackId_generator:0,__generateCallbackId:function(){return ae.Swf.__callbackId_generator++},__callbackAsyncDict:{},__registerCallbackAsync:function(e,t){if(ae.Swf.__callbackAsyncDict[e])throw"register swf callback error:duplicate id";ae.Swf.__callbackAsyncDict[e]=t},asyncAsCallback:function(){if(!(arguments.length>=1))throw"swf callback error:arguments deficient";for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];var n=e.shift(),i=ae.Swf.__callbackAsyncDict[n];if(!i)throw"swf callback error:async not exist";i.complete(e)},callJs:function(){if(arguments.length>=2){for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];if(cmd=e.shift(),id=e.shift(),cmdObj=ae.Swf.__asCallbackCmdDict[cmd],cmdObj){var n=cmdObj.fun;cmdObj.proxy;n.call(null,e)}}},__asCallbackCmdDict:{},addAsCallback:function(e,t,n){if(ae.Swf.__asCallbackCmdDict[e])throw"register swf callback error:duplicate id";ae.Swf.__asCallbackCmdDict[e]={fun:t,proxy:n}}},ae.crmt=null,ae.Utils={generate_uuid:function(){for(var e=[],t=0;t<36;t++)e[t]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]="0123456789abcdef".substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")},setCookie:function(e,t){var n=new Date;n.setTime(n.getTime()+2592e6),document.cookie=e+"="+escape(t)+";expires="+n.toGMTString()},getCookie:function(e){var t=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),n=document.cookie.match(t);return n?unescape(n[2]):void 0},delCookie:function(e){var t=new Date;t.setTime(t.getTime()-1);var n=Utils.getCookie(e);null!=n&&(document.cookie=e+"="+n+";expires="+t.toGMTString())},Uint8ToString:function(e){for(var t=[],n=0;n<e.length;n+=32768)t.push(String.fromCharCode.apply(null,e.subarray(n,n+32768)));return t.join("")},Uint8ToBase64:function(e){for(var t,n=0,i=e.length,r="";n<i;)t=e.subarray(n,Math.min(n+32768,i)),r+=String.fromCharCode.apply(null,t),n+=32768;return btoa(r)},compare:function(e){return function(t,n){var i=t[e],r=n[e];return r>i?-1:r<i?1:0}},deepCopy:function(e){var t={};for(var n in e)t[n]="object"===s(e[n])?deepCoyp(e[n]):e[n];return t},chat2html:function(e,t,n){var i="",r="",o="";if(e.indexOf("0x10x4")>=0)(i=e.split("0x10x4")[1]).indexOf("0x1")>=0&&(i=i.split("0x1")[0]),r=(i=JSON.parse(i)).opt,o=i.headerUrl;else if(e.indexOf("0x10x5")>=0){(i=e.split("0x10x5")[1]).indexOf("0x1")>=0&&(i=i.split("0x1")[0]),r=(i=JSON.parse(i)).opt,o=i.headerUrl}else if(e.indexOf("0x10x6")>=0){(i=e.split("0x10x6")[1]).indexOf("0x1")>=0&&(i=i.split("0x1")[0]),r=(i=JSON.parse(i)).opt,o=i.headerUrl}else{null==ae._imgRegExp&&(ae._sign=ae.Utils.utf8ByteToUnicodeStr([1]),ae._signB=ae.Utils.utf8ByteToUnicodeStr([2]),ae._signA=ae.Utils.utf8ByteToUnicodeStr([3]),ae._imgRegExp=new RegExp(ae._sign+ae._sign+":*/*([^"+ae._sign+"]+?)"+ae._sign,"g"),ae._headimgRegExp=new RegExp(ae._sign+ae._signA+":*/*([^"+ae._sign+"]+?)"+ae._sign,"g"),ae._captureRegExp=new RegExp(ae._sign+ae._signB+":*/*([^"+ae._sign+"]+?)"+ae._sign,"g")),i=(i=(i=(i=(i=(i=(i=(i=(i=(i=e.replace(/<br\/>/g,"\n")).replace(/&quot;/g,'"')).replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/\&/g,"&amp;")).replace(/\"/g,"&quot;")).replace(/\</g,"&lt;")).replace(/\>/g,"&gt;")).replace(ae._imgRegExp,'<img  src="$1"></img>')).replace(ae._captureRegExp,"");var s=ae._headimgRegExp.exec(i);if(s)o=s[1];i=i.replace(ae._headimgRegExp,"");for(var c=(16777215&t).toString(16),a=6-c.length,l=0;l<a;l++)c="0"+c;i='<p style="color:#'+c+";font-size:"+n+'">'+i+"</p>",r=0}return[r,o,i]},html2chat:function(e){return null==ae._imgRegExp&&(ae._sign=ae.Utils.utf8ByteToUnicodeStr([1]),ae._signB=ae.Utils.utf8ByteToUnicodeStr([2]),ae._signA=ae.Utils.utf8ByteToUnicodeStr([3]),ae._imgRegExp=new RegExp(ae._sign+ae._sign+":*/*([^"+ae._sign+"]+?)"+ae._sign,"g"),ae._headimgRegExp=new RegExp(ae._sign+ae._signA+":*/*([^"+ae._sign+"]+?)"+ae._sign,"g"),ae._captureRegExp=new RegExp(ae._sign+ae._signB+":*/*([^"+ae._sign+"]+?)"+ae._sign,"g")),[e=(e=(e=(e=e.replace(/\<headimg\s+src=[\"\']([^\"\']*?)[\"\']\s*\/\>/gi,ae._sign+ae._signA+":$1"+ae._sign)).replace(/\<headimg\s+src=[\"\']([^\"\']*?)[\"\']\s*\>.*?\<\/s*imgs*\>/gi,ae._sign+ae._signA+":$1"+ae._sign)).replace(/\<img\s+[^>]*?src=[\"\']([\w\/\.\:]*)[\"\'][^>]*\/\>/gi,ae._sign+ae._sign+":/$1"+ae._sign)).replace(/\<img\s+[^>]*?src=[\"\']([\w\/\.\:]*)[\"\'][^>]*\>.*?\<\/s*imgs*\>/gi,ae._sign+ae._sign+":/$1"+ae._sign)]},ask2html:function(e){null==ae._imgRegExp&&(ae._sign=ae.Utils.utf8ByteToUnicodeStr([1]),ae._signA=ae.Utils.utf8ByteToUnicodeStr([3]),ae._imgRegExp=new RegExp(ae._sign+ae._sign+":*/*([^"+ae._sign+"]+?)"+ae._sign,"g"),ae._headimgRegExp=new RegExp(ae._sign+ae._signA+":*/*([^"+ae._sign+"]+?)"+ae._sign,"g"));var t=e.replace(/<br\/>/g,"\n");t=(t=(t=(t=(t=t.replace(/\&/g,"&amp;")).replace(/\"/g,"&quot;")).replace(/\</g,"&lt;")).replace(/\>/g,"&gt;")).replace(ae._imgRegExp,'<img  src="$1"></img>');var n=ae._headimgRegExp.exec(t);if(n)var i=n[1];return[i,t=t=t.replace(ae._headimgRegExp,"")]},utf8ByteToUnicodeStr:function(e){for(var t="",n=0;n<e.length;){var i=e[n],r=0;i>>>7==0?(t+=String.fromCharCode(e[n]),n+=1):252==(252&i)?(r=(3&e[n])<<30,r|=(63&e[n+1])<<24,r|=(63&e[n+2])<<18,r|=(63&e[n+3])<<12,r|=(63&e[n+4])<<6,r|=63&e[n+5],t+=String.fromCharCode(r),n+=6):248==(248&i)?(r=(7&e[n])<<24,r|=(63&e[n+1])<<18,r|=(63&e[n+2])<<12,r|=(63&e[n+3])<<6,r|=63&e[n+4],t+=String.fromCharCode(r),n+=5):240==(240&i)?(r=(15&e[n])<<18,r|=(63&e[n+1])<<12,r|=(63&e[n+2])<<6,r|=63&e[n+3],t+=String.fromCharCode(r),n+=4):224==(224&i)?(r=(31&e[n])<<12,r|=(63&e[n+1])<<6,r|=63&e[n+2],t+=String.fromCharCode(r),n+=3):192==(192&i)?(r=(63&e[n])<<6,r|=63&e[n+1],t+=String.fromCharCode(r),n+=2):(t+=String.fromCharCode(e[n]),n+=1)}return t},parse_url:function(e,t){for(var n=["source","scheme","authority","userInfo","user","pass","host","port","relative","path","directory","file","query","fragment"],i=this.php_js&&this.php_js.ini||{},r=i["phpjs.parse_url.mode"]&&i["phpjs.parse_url.mode"].local_value||"php",o={php:/^(?:([^:\/?#]+):)?(?:\/\/()(?:(?:()(?:([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?()(?:(()(?:(?:[^?#\/]*\/)*)()(?:[^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/\/?)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},s=o[r].exec(e),c={},a=14;a--;)s[a]&&(c[n[a]]=s[a]);if(t)return c[t.replace("PHP_URL_","").toLowerCase()];if("php"!==r){var l=i["phpjs.parse_url.queryKey"]&&i["phpjs.parse_url.queryKey"].local_value||"queryKey";o=/(?:^|&)([^&=]*)=?([^&]*)/g,c[l]={},c[n[12]].replace(o,(function(e,t,n){t&&(c[l][t]=n)}))}return delete c.source,c},log:function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);console.crlog.apply(console,e)}};var le=new ae.CbProxy("CR__LoginRslt"),ue=new ae.CbProxy("CR__RefreshSessionRslt"),de=new ae.CbProxy("CR__KeepAliveRslt"),he=new ae.CbProxy("CR__ChangeNicknameRslt"),fe=new ae.CbProxy("CR__SetDemoActorRslt"),pe=new ae.CbProxy("CR__SetHostActorRslt"),_e=new ae.CbProxy("CR__SetAssistantActorRslt"),ge=new ae.CbProxy("CR__KickoutRslt"),ye=new ae.CbProxy("CR__LockRoomRslt"),Ce=new ae.CbProxy("CR__ExitRslt"),ve=new ae.CbProxy("CR__GetActiveMembersRslt"),me=new ae.CbProxy("CR__EndConferenceRslt"),Se=new ae.CbProxy("CR__ReceiveIMMsg"),Ie=new ae.CbProxy("CR__SendIMMsgRslt"),Ee=new ae.CbProxy("CR__GetLastMsgRslt"),be=new ae.CbProxy("CR__GetLastNMsgRslt"),Re=new ae.CbProxy("CR__UserLeftMeet"),we=new ae.CbProxy("CR__UserEnter"),xe=new ae.CbProxy("CR__OptionChanged"),Pe=new ae.CbProxy("CR__MeetEnded"),De=new ae.CbProxy("CR__NotifyStartBroadCast"),Oe=new ae.CbProxy("CR__NotifyStopBroadCast"),Me=new ae.CbProxy("CR__NotifyBroadCastStartPush"),Ae=new ae.CbProxy("CR__NotifyBroadCastStopPush"),Ne=new ae.CbProxy("CR__GetBroadCastUrlRslt"),ke=new ae.CbProxy("CR__NotifyIMForbidStatus"),Te=new ae.CbProxy("CR__NotifyClearIMMsg"),Le=new ae.CbProxy("CR__RightChanged"),Ue=new ae.CbProxy("CR__AskQuesRslt"),Ve=new ae.CbProxy("CR__GetQuesListRslt"),Fe=new ae.CbProxy("CR__AskQuesNotify"),je=new ae.CbProxy("CR__LockQuesNotify"),Be=new ae.CbProxy("CR__ReplyQuesNotify"),He=new ae.CbProxy("CR__ModifyQuesNotify"),qe=new ae.CbProxy("CR__DelQuesNotify"),We=new ae.CbProxy("CR__DelAllQuesNotify"),ze=new ae.CbProxy("CR__PublicQuesNotify"),Ge=new ae.CbProxy("CR__QuesTypeChangeNotify"),Ke=new ae.CbProxy("CR__ModifyQuesTypeNotify"),Qe=new ae.CbProxy("CR__SetBroadCastQuesNotify"),Ye=new ae.CbProxy("CR__NotifyPlayBackStartPush"),Je=new ae.CbProxy("CR__NotifyDeleteIMMsg"),Xe=new ae.CbProxy("CR__GetIMMsgCountRslt"),Ze=new ae.CbProxy("CR__Notifypayback"),$e=new ae.CbProxy("CR__NotifyBroadCastPlaybackStop"),et=new ae.CbProxy("CR__NotifySwtichLiveAppElements"),tt=new ae.CbProxy("CR__NotifyThumbUp"),nt=new ae.CbProxy("CR__NotifyLuckyDrawCfg"),it=new ae.CbProxy("CR__GetLuckyDrawCfgRslt"),rt=new ae.CbProxy("CR__JoinLuckyDrawMembersRslt"),ot=new ae.CbProxy("CR__NotifyLDMembersStatus"),st=new ae.CbProxy("CR__NotifyNickNameChanged"),ct=new ae.CbProxy("CR__NotifyLuckyDrawResult"),at=new ae.CbProxy("CR__NotifyTerminalMsg"),lt=new ae.CbProxy("CR__NotifyShareStateChanged"),ut=new ae.CbProxy("CR__SetAudioDeviceStatusRslt"),dt=new ae.CbProxy("CR__AskForMicRslt"),ht=new ae.CbProxy("CR__OpenMicExRslt"),ft=new ae.CbProxy("CR__CloseMicExRslt"),pt=new ae.CbProxy("CR__CloseAllRslt"),_t=new ae.CbProxy("CR__AudioAllocRaw"),gt=new ae.CbProxy("CR__AudioAllocRawExt"),yt=new ae.CbProxy("CR__AudioAllocRawExt2"),Ct=new ae.CbProxy("CR__VideoAllocRaw"),vt=new ae.CbProxy("CR__VideoAllocRawExt"),mt=new ae.CbProxy("CR__VideoAllocRawExt2"),St=new ae.CbProxy("CR__ModifyPeerAddr"),It=new ae.CbProxy("CR__ModifyPeerAddrExt"),Et=new ae.CbProxy("CR__NotifyRTMPStreamPublishFinished"),bt=new ae.CbProxy("CR__DisableSendVideo2Internet"),Rt=new ae.CbProxy("CR__EnableSendScreen2Internet"),wt=new ae.CbProxy("CR__DisableSendScreen2Internet"),xt=new ae.CbProxy("CR__EnableSendFilm2Internet"),Pt=new ae.CbProxy("CR__DisableSendFilm2Internet"),Dt=new ae.CbProxy("CR__EnableSendVideo2Internet"),Ot=new ae.CbProxy("CR__Free"),Mt=new ae.CbProxy("CR__NotifyAllowVideoWall"),At=new ae.CbProxy("CR__VideoUpdateStatus"),Nt=new ae.CbProxy("CR__NotifyOpenVideo"),kt=new ae.CbProxy("CR__StartVideoByManager"),Tt=new ae.CbProxy("CR__NotifyEnableVideo"),Lt=new ae.CbProxy("CR__UpdateFocusWindow"),Ut=new ae.CbProxy("CR__UpdateVLayout"),Vt=new ae.CbProxy("CR__UpdateVLayout2"),Ft=new ae.CbProxy("CR__UpdateMainVideoShowMode"),jt=new ae.CbProxy("CR__UpdateVideoListMode"),Bt=new ae.CbProxy("CR__EnableUpload"),Ht=new ae.CbProxy("CR__EnableUpload2"),qt=new ae.CbProxy("CR__GenerateIFrame"),Wt=new ae.CbProxy("CR__NotifyRefuseOpenVideo"),zt=new ae.CbProxy("CR__NotifySetCamera"),Gt=new ae.CbProxy("CR__NotifySetCameraById"),Kt=new ae.CbProxy("CR__NotifyVideoPolling"),Qt=new ae.CbProxy("CR__NotifyPollingVideo"),Yt=new ae.CbProxy("CR__NotifyVideoList"),Jt=new ae.CbProxy("CR__NotifyUpdateAllCameraInfos"),Xt=new ae.CbProxy("CR__NotifySetOpenedCameraNumber"),Zt=new ae.CbProxy("CR__NotifyStartAdjustDirection"),$t=new ae.CbProxy("CR__NotifyStartAdjustZoom"),en=new ae.CbProxy("CR__NotifyStopAdjustDirection"),tn=new ae.CbProxy("CR__NotifyStopAdjustZoom"),nn=new ae.CbProxy("CR__SetVideoDeviceStatusRslt"),rn=new ae.CbProxy("CR__AllowVideoWallRslt"),on=new ae.CbProxy("CR__StartVideoRslt"),sn=new ae.CbProxy("CR__StopVideoRslt"),cn=new ae.CbProxy("CR__ReqOpenVideoRslt"),an=new ae.CbProxy("CR__StartVideoExRslt"),ln=new ae.CbProxy("CR__StopVideoExExRslt"),un=new ae.CbProxy("CR__EnableVideoRslt"),dn=new ae.CbProxy("CR__SetFocusWindowRslt"),hn=new ae.CbProxy("CR__BatchSubscribeVideoRslt"),fn=new ae.CbProxy("CR__BatchSubscribeVideo2Rslt"),pn=new ae.CbProxy("CR__SubscribeFocusWindowRslt"),_n=new ae.CbProxy("CR__SubscribeFocusWindow2Rslt"),gn=new ae.CbProxy("CR__SetVLayoutRslt"),yn=new ae.CbProxy("CR__SetMainVideoShowModeRslt"),Cn=new ae.CbProxy("CR__SetVideoListModeRslt"),vn=new ae.CbProxy("CR__RefuseOpenVideoRslt"),mn=new ae.CbProxy("CR__GetVideoSettingRslt"),Sn=new ae.CbProxy("CR__SetCameraRslt"),In=new ae.CbProxy("CR__SetCameraByIdRslt"),En=new ae.CbProxy("CR__SetVideoPollingRslt"),bn=new ae.CbProxy("CR__UpdatePollingVideoRslt"),Rn=new ae.CbProxy("CR__UpdateVideoListRslt"),wn=new ae.CbProxy("CR__GetVideoPollingStateRslt"),xn=new ae.CbProxy("CR__UpdateAllCameraInfosRslt"),Pn=new ae.CbProxy("CR__SetOpenedCameraNumberRslt"),Dn=new ae.CbProxy("CR__StartAdjustDirectionRslt"),On=new ae.CbProxy("CR__StartAdjustZoomRslt"),Mn=new ae.CbProxy("CR__StopAdjustDirectionRslt"),An=new ae.CbProxy("CR__VideoResolutionReportRslt"),Nn=new ae.CbProxy("CR__AudioUpdateStatus"),kn=new ae.CbProxy("CR__UpdateVoiceEnergy"),Tn=new ae.CbProxy("CR__UpdateSpeaker"),Ln=new ae.CbProxy("CR__NotifyCloseAll"),Un=new ae.CbProxy("CR__PlayBackgroundMusic"),Vn=new ae.CbProxy("CR__NotifyVoiceHowling"),Fn=new ae.CbProxy("CR__NotifyVoiceNoise"),jn=new ae.CbProxy("CR__GetRemoteAudioInfNotify"),Bn=new ae.CbProxy("CR__RemoteAudioSetNotify"),Hn=new ae.CbProxy("CR__NotifyLanLessMicOpen"),qn=new ae.CbProxy("CR__SetVoiceEnergyRslt"),Wn=new ae.CbProxy("CR__PstnSwitchMicStatusRslt"),zn=new ae.CbProxy("CR__StartRecordRslt"),Gn=new ae.CbProxy("CR__IsRecordingRslt"),Kn=new ae.CbProxy("CR__StopRecordRslt"),Qn=new ae.CbProxy("CR__PlayApplauseRslt"),Yn=new ae.CbProxy("CR__GetMusicListRslt"),Jn=new ae.CbProxy("CR__GetPlayBGMusicRslt"),Xn=new ae.CbProxy("CR__StartBGMusicRslt"),Zn=new ae.CbProxy("CR__StopPlayBGMusicRslt"),$n=new ae.CbProxy("CR__SetPlayBGMusicVolumnRslt"),ei=new ae.CbProxy("CR__GetPlayBGMusicVolumnRslt"),ti=new ae.CbProxy("CR__VoiceHowlingRslt"),ni=new ae.CbProxy("CR__VoiceNoiseRslt"),ii=new ae.CbProxy("CR__RemoteAudioSetRslt"),ri=new ae.CbProxy("CR__GetRemoteAudioInfRslt"),oi=new ae.CbProxy("CR__NotifyStartScreenShare"),si=new ae.CbProxy("CR__NotifyStopScreenShare"),ci=new ae.CbProxy("CR__NotifyStartMarked"),ai=new ae.CbProxy("CR__NotifyStopMarked"),li=new ae.CbProxy("CR__NotifyMarkData"),ui=new ae.CbProxy("CR__NotifyClearAllMarks"),di=new ae.CbProxy("CR__NotifyCtrlReqState"),hi=new ae.CbProxy("CR__GetScreenShareInfoRslt"),fi=new ae.CbProxy("CR__StartScreenShareRslt"),pi=new ae.CbProxy("CR__StopScreenShareRslt"),_i=new ae.CbProxy("CR__GetAllMarkDataRslt"),gi=new ae.CbProxy("CR__NotifyStartPlayMedia"),yi=new ae.CbProxy("CR__NotifyStopPlayMedia"),Ci=new ae.CbProxy("CR__NotifyPausePlayMedia"),vi=new ae.CbProxy("CR__NotifyMediaMakeIFrame"),mi=new ae.CbProxy("CR__NotifySubscribeMedia"),Si=new ae.CbProxy("CR__GetMediaInfoRslt"),Ii=new ae.CbProxy("CR__StartPlayMediaRslt"),Ei=new ae.CbProxy("CR__StopPlayMediaRslt"),bi=new ae.CbProxy("CR__PausePlayMediaRslt"),Ri=new ae.CbProxy("CR__SubscribeMediaRslt"),wi=new ae.CbProxy("CR__NotifySetContainerSize"),xi=new ae.CbProxy("CR__NotifyCreate"),Pi=new ae.CbProxy("CR__NotifyImportPage"),Di=new ae.CbProxy("CR__NotifyClose"),Oi=new ae.CbProxy("CR__NotifyChangeName"),Mi=new ae.CbProxy("CR__NotifyChangeScale"),Ai=new ae.CbProxy("CR__NotifyChangeRotate"),Ni=new ae.CbProxy("CR__NotifySetCurrentPage"),ki=new ae.CbProxy("CR__NotifyShowThumPage"),Ti=new ae.CbProxy("CR__NotifyAddElement"),Li=new ae.CbProxy("CR__NotifyAddElementEx"),Ui=new ae.CbProxy("CR__NotifyMoveElement"),Vi=new ae.CbProxy("CR__NotifyModifyElement"),Fi=new ae.CbProxy("CR__NotifyDelElement"),ji=new ae.CbProxy("CR__NotifySetElementZPos"),Bi=new ae.CbProxy("CR__NotifySetIndicator"),Hi=new ae.CbProxy("CR__NotifySetHotspot"),qi=new ae.CbProxy("CR__SetContainerSizeRslt"),Wi=new ae.CbProxy("CR__CreateRslt"),zi=new ae.CbProxy("CR__ImportPageRslt"),Gi=new ae.CbProxy("CR__CloseRslt"),Ki=new ae.CbProxy("CR__ChangeNameRslt"),Qi=new ae.CbProxy("CR__ChangeScaleRslt"),Yi=new ae.CbProxy("CR__ChangeRatoteRslt"),Ji=new ae.CbProxy("CR__SetCurrentPageRslt"),Xi=new ae.CbProxy("CR__ShowThumPageRslt"),Zi=new ae.CbProxy("CR__AddElementRslt"),$i=new ae.CbProxy("CR__AddElementExRslt"),er=new ae.CbProxy("CR__MoveElementRslt"),tr=new ae.CbProxy("CR__ModifyElementRslt"),nr=new ae.CbProxy("CR__DelElementRslt"),ir=new ae.CbProxy("CR__SetElementZPosRslt"),rr=new ae.CbProxy("CR__SetIndicatorRslt"),or=new ae.CbProxy("CR__SetHotspotRslt"),sr=new ae.CbProxy("CR__QueryIndicatorRslt"),cr=new ae.CbProxy("CR__QueryAllBoardListRslt"),ar=new ae.CbProxy("CR__QueryElementByIDsRslt"),lr=new ae.CbProxy("CR__QueryPageElementByIDsRslt"),ur=new ae.CbProxy("CR__SetMarkTermsRslt"),dr=new ae.CbProxy("CR__NotifySetCurrentTab"),hr=new ae.CbProxy("CR__NotifySetFullScreen"),fr=new ae.CbProxy("CR__NotifySetPrivTabInfo"),pr=new ae.CbProxy("CR__SetCurrentTabRslt"),_r=new ae.CbProxy("CR__NotifyActorChanged"),gr=new ae.CbProxy("CR__NotifyApplyDemo"),yr=new ae.CbProxy("CR__NotifyApplyDemo"),Cr=function(e){var t=e.extProperty;e.camList=t.get(m.MINFO_OPENEDCAMIDS)||"",void 0!==t.get(m.MINFO_ALLCAMS)&&(e.allCams=t.get(m.MINFO_ALLCAMS).split("\n").slice(0,-1)),e.subscribeCams=[],e.userId=t.get(m.CLIETN_PRIV_DAT),e.client_platform=t.get(m.CLINET_PLATFORM),e.sdk_ver=t.get(m.CLINET_SDK_VER),e.slice_ver=t.get(m.SLICE_VER)},vr=_.Class(m.ConferenceCallback,(o(r={setProxy:function(e){this.proxy=e},entered:function(e){Cr(e),ae.Utils.log("[RTC] New member entered..."),this.proxy.callCallback("entered",[e])},left:function(e,t,n,i){ae.Utils.log("[RTC] User left meeting...  reason: "+i),this.proxy.callCallback("left",[t,i])},actorChanged:function(e,t,n){ae.Utils.log("[RTC] actorChanged"),this.proxy.callCallback("actorChanged",[e,t,n])},nicknameChanged:function(e,t,n){ae.Utils.log("[RTC] nicknameChanged"),this.proxy.callCallback("notifyNicknameChanged",arguments)},optionChanged:function(e){ae.Utils.log("[RTC] optionChanged"),this.proxy.callCallback("optionChanged",[e])},agendaUpdated:function(e){ae.Utils.log("[RTC] agendaUpdated")},autoEndCancelled:function(){ae.Utils.log("[RTC] autoEndCancelled")},conferenceBegan:function(){ae.Utils.log("[RTC] conferenceBegan")},conferenceEnded:function(e,t){ae.Utils.log("[RTC] conferenceEnded"),this.proxy.callCallback("conferenceEnded",[e])},confirmAutoEnd:function(e){ae.Utils.log("[RTC] confirmAutoEnd")},inviteStateChanged:function(e,t){ae.Utils.log("[RTC] inviteStateChanged:")},memberCount:function(e){ae.Utils.log("[RTC] memberCount")},notifyApplyDemo:function(e){ae.Utils.log("[RTC] notifyApplyDemo"),this.proxy.callCallback("notifyApplyDemo",[e])},notifyApplyRejected:function(e,t){ae.Utils.log("[RTC] notifyApplyRejected")},notifyAssistantChanged:function(e,t,n){ae.Utils.log("[RTC] notifyAssistantChanged,".concat(n)),h.SDK_event.emitEventListener("NotifyAssistantChanged",e,t,n)},notifyNetDetectResults:function(e,t,n){ae.Utils.log("[RTC] notifyNetDetectResults")},notifyReportStatus:function(e,t){ae.Utils.log("[RTC] notifyReportStatus")},exeCmd:function(e){ae.Utils.log("[RTC] exeCmd")},notifyStart1v1SubMeeting:function(e){ae.Utils.log("[RTC] notifyStart1v1SubMeeting")},notifyStop1v1SubMeeting:function(e){ae.Utils.log("[RTC] notifyStop1v1SubMeeting")},notifyStart1v1SubMeetingRslt:function(e,t){ae.Utils.log("[RTC] notifyStart1v1SubMeetingRslt")},setWDT1v1SubMeetingMode:function(e,t){ae.Utils.log("[RTC] setWDT1v1SubMeetingMode")},notifyIVRStatus:function(e,t){ae.Utils.log("[RTC] notifyIVRStatus")},notifyStartSvrBroadcast:function(e,t){ae.Utils.log("[RTC] notifyStartSvrBroadcast")},notifyLuckyDrawCfg:function(e){ae.Utils.log("[RTC] notifyLuckyDrawCfg")},notifyLuckyDrawResult:function(e){ae.Utils.log("[RTC] notifyLuckyDrawResult")},roomKnocked:function(e,t){ae.Utils.log("[RTC] roomKnocked")},roomStateChanged:function(e){ae.Utils.log("[RTC] roomStateChanged"),h.SDK_event.emitEventListener("NotifyRoomStateChanged",e)},serverNotify:function(e){ae.Utils.log("[RTC] serverNotify, id:"+e)},serverNotifyMsg:function(e){ae.Utils.log("[RTC] serverNotifyMsg, msg:"+e)},subjectUpdated:function(e){ae.Utils.log("[RTC] subjectUpdated")},updateAppStatus:function(e,t){ae.Utils.log("[RTC] updateAppStatus")},notifyStartBroadCast:function(){ae.Utils.log("[RTC] notifyStartBroadCast"),this.proxy.callCallback("notifyStartBroadCast")},notifyStopBroadCast:function(){ae.Utils.log("[RTC] notifyStopBroadCast"),this.proxy.callCallback("notifyStopBroadCast")},notifyWebViewerNum:function(e){ae.Utils.log("[RTC] notifyWebViewerNum")},notifyBroadCastStartPush:function(){ae.Utils.log("[RTC] notifyBroadCastStartPush"),this.proxy.callCallback("notifyBroadCastStartPush")},notifyBroadCastStopPush:function(){ae.Utils.log("[RTC] CR__NotifyBroadCastStopPush"),this.proxy.callCallback("notifyBroadCastStopPush")},rightChanged:function(e){ae.Utils.log("[RTC] rightChanged");var t=Array.from(e.addedRights),n=Array.from(e.reducedRights);Le.call([e.termId,t,n])},notifyBroadCastPlayback:function(e){this.proxy.callCallback("notifyPlayBackStartPush",[e])},notifypayback:function(){this.proxy.callCallback("notifypayback")},notifyBroadCastPlaybackStop:function(e){this.proxy.callCallback("notifyBroadCastPlaybackStop",[e])},notifySwtichLiveAppElements:function(e,t){this.proxy.callCallback("notifySwtichLiveAppElements",[e,t])},notifyThumbUp:function(e,t,n){this.proxy.callCallback("notifyThumbUp",[e,t,n])}},"notifyLuckyDrawCfg",(function(e){ae.Utils.log("[RTC] notifyLuckyDrawCfg"),this.proxy.callCallback("notifyLuckyDrawCfg",[e.cdTime,e.isAutoDraw,e.memberType,e.prizes])})),o(r,"notifyLDMembersStatus",(function(e){this.proxy.callCallback("notifyLDMembersStatus",e)})),o(r,"notifyLuckyDrawResult",(function(e){ae.Utils.log("[RTC] notifyLuckyDrawResult"),this.proxy.callCallback("notifyLuckyDrawResult",[e.prize,e.annouceTime,e.res])})),o(r,"notifySvrRecordStateChanged",(function(e,t,n){h.SDK_event.emitEventListener("notifySvrRecordStateChanged",e,t,n)})),o(r,"notifySvrRecordCfgChanged",(function(e,t){h.SDK_event.emitEventListener("notifySvrRecordCfgChanged",e,t)})),o(r,"notifySvrRecordFileState",(function(e){h.SDK_event.emitEventListener("notifySvrRecordFileState",e)})),o(r,"notifySvrBroadcastCfgChanged",(function(e,t){ae.Utils.log("[RTC] notifySvrBroadcastCfgChanged"),this.proxy.callCallback("notifySvrBroadcastCfgChanged",[e,t])})),o(r,"notifyAppUILocked",(function(e){ae.Utils.log("[RTC] notifyAppUILocked")})),o(r,"notifyBeginVote",(function(e,t,n){ae.Utils.log("[RTC] notifyBeginVote")})),o(r,"notifyEndVote",(function(e){ae.Utils.log("[RTC] notifyEndVote")})),o(r,"notifyPublishVoteResult",(function(e,t){ae.Utils.log("[RTC] notifyPublishVoteResult")})),o(r,"notifyCommitVote",(function(e,t){ae.Utils.log("[RTC] notifyCommitVote")})),o(r,"notifyTerminalMsg",(function(e,t,n,i){ae.Utils.log("[RTC] notifyTerminalMsg"),this.proxy.callCallback("notifyTerminalMsg",[e,t,n,i])})),o(r,"notifyShareStateChanged",(function(e){ae.Utils.log("[RTC] notifyShareStateChanged"),this.proxy.callCallback("notifyShareStateChanged",[e])})),o(r,"notifySCEPChanged",(function(e,t){ae.Utils.log("[RTC] notifySCEPChanged",e,t)})),o(r,"notifyMeetingAttrsChanged",(function(e,t,n){ae.Utils.log("[RTC] notifyMeetingAttrsChanged"),h.SDK_event.emitEventListener("notifyMeetingAttrsChanged",e,t,n)})),o(r,"notifyUserAttrsChanged",(function(e,t,n,i){ae.Utils.log("[RTC] notifyUserAttrsChanged"),h.SDK_event.emitEventListener("notifyUserAttrsChanged",e,t,n,i)})),o(r,"notifyClodudRecordStateChanged",(function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];(e=h.SDK_event).emitEventListener.apply(e,["notifyClodudRecordStateChanged"].concat(n))})),o(r,"notifyClodudRecordCfgChanged",(function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];(e=h.SDK_event).emitEventListener.apply(e,["notifyClodudRecordCfgChanged"].concat(n))})),o(r,"notifyClodudRecordFileState",(function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];(e=h.SDK_event).emitEventListener.apply(e,["notifyClodudRecordFileState"].concat(n))})),r)),mr=_.Class(S.MSClient,{setProxy:function(e){this.proxy=e},VideoAllocRaw_async:function(e,t,n){ae.Utils.log("[RTC] VideoAllocRaw"),this.proxy.callCallback("VideoAllocRaw",[e,t,n])},VideoAllocRawExt_async:function(e,t,n,i,r){ae.Utils.log("[RTC] VideoAllocRawExt_async"),this.proxy.callCallback("VideoAllocRawExt",[e,t,n,i])},VideoAllocRawExt2_async:function(e,t,n,i,r){ae.Utils.log("[RTC] VideoAllocRawExt2_async"),this.proxy.callCallback("VideoAllocRawExt2",[e,t,n,i])},AudioAllocRaw_async:function(e,t){ae.Utils.log("[RTC] AudioAllocRaw"),this.proxy.callCallback("AudioAllocRaw",[e,t])},AudioAllocRawExt_async:function(e,t,n,i){ae.Utils.log("[RTC] AudioAllocRawExt"),this.proxy.callCallback("AudioAllocRawExt",[e,t,n])},AudioAllocRawExt2_async:function(e,t,n,i){n=n.get("mediashare"),ae.Utils.log("[RTC] AudioAllocRawExt2"),this.proxy.callCallback("AudioAllocRawExt2",[e,t,n])},ModifyPeerAddr_async:function(e,t,n){ae.Utils.log("[RTC] ModifyPeerAddr"),this.proxy.callCallback("ModifyPeerAddr",[e,asParam,strParams])},ModifyPeerAddrExt_async:function(e,t,n){e.ice_response(),ae.Utils.log("[RTC] ModifyPeerAddrExt"),this.proxy.callCallback("ModifyPeerAddrExt",[e,t,n])},NotifyRTMPStreamPublishFinished_async:function(e,t,n,i,r,o,s,c){ae.Utils.log("[RTC] NotifyRTMPStreamPublishFinished_async"),this.proxy.callCallback("NotifyRTMPStreamPublishFinished",[e,t,n])},DisableSendVideo2Internet_async:function(e,t){e.ice_response(),ae.Utils.log("[RTC] DisableSendVideo2Internet"),this.proxy.callCallback("DisableSendVideo2Internet",[t])},EnableSendScreen2Internet_async:function(e){e.ice_response(),ae.Utils.log("[RTC] EnableSendScreen2Internet"),this.proxy.callCallback("EnableSendScreen2Internet",[e])},DisableSendScreen2Internet_async:function(e){e.ice_response(),ae.Utils.log("[RTC] DisableSendScreen2Internet"),this.proxy.callCallback("DisableSendScreen2Internet",[e])},EnableSendFilm2Internet_async:function(e){e.ice_response(),ae.Utils.log("[RTC] EnableSendFilm2Internet"),this.proxy.callCallback("EnableSendFilm2Internet",[e])},DisableSendFilm2Internet_async:function(e){e.ice_response(),ae.Utils.log("[RTC] DisableSendFilm2Internet"),this.proxy.callCallback("DisableSendFilm2Internet",[e])},EnableSendVideo2Internet_async:function(e,t){e.ice_response(),ae.Utils.log("[RTC] EnableSendVideo2Internet"),this.proxy.callCallback("EnableSendVideo2Internet",[t])},Free_async:function(e,t){e.ice_response(),ae.Utils.log("[RTC] Free"),this.proxy.callCallback("Free",[t])}}),Sr=_.Class(m.AnsQueCallback,{setProxy:function(e){this.proxy=e},askQuesNotify:function(e,t){ae.Utils.log("[RTC] askQuesNotify(id:%s)",e),this.proxy.callCallback("askQuesNotify",[e,t])},lockQuesNotify:function(e,t){ae.Utils.log("[RTC] lockQuesNotify(id:%s)",e),this.proxy.callCallback("lockQuesNotify",[e,t])},replyQuesNotify:function(e,t){ae.Utils.log("[RTC] replyQuesNotify(id:%s)",e),this.proxy.callCallback("replyQuesNotify",[e,t])},modifyQuesNotify:function(e,t){ae.Utils.log("[RTC] modifyQuesNotify(id:%s)",e),this.proxy.callCallback("modifyQuesNotify",[e,t])},delQuesNotify:function(e,t){ae.Utils.log("[RTC] delQuesNotify(id:%s)",e),this.proxy.callCallback("delQuesNotify",[e,t])},delAllQuesNotify:function(e){ae.Utils.log("[RTC] delAllQuesNotify(termId:%s)",e),this.proxy.callCallback("delAllQuesNotify",[e])},publicQuesNotify:function(e,t,n){ae.Utils.log("[RTC] publicQuesNotify(id:%s)",e),this.proxy.callCallback("publicQuesNotify",[e,t,n])},quesTypeChangeNotify:function(e,t){ae.Utils.log("[RTC] quesTypeChangeNotify(id:%s)",e),this.proxy.callCallback("quesTypeChangeNotify",[e,t])},modifyQuesTypeNotify:function(e,t){ae.Utils.log("[RTC] modifyQuesTypeNotify(termId:%s)",e),this.proxy.callCallback("modifyQuesTypeNotify",[e,t])},setBroadCastQuesNotify:function(e){ae.Utils.log("[RTC] setBroadCastQuesNotify(bEnable:%s)",e),this.proxy.callCallback("setBroadCastQuesNotify",[e])}}),Ir=_.Class(m.IMCallback,{setProxy:function(e){this.proxy=e},receiveIMMsg:function(e){ae.Utils.log("[RTC] receiveIMMsg(srcNickname:".concat(e.srcNickname,")")),this.proxy.callCallback("receiveIMMsg",[e])},notifyIMForbidStatus:function(e,t,n){ae.Utils.log("[RTC] notifyIMForbidStatus"),this.proxy.callCallback("notifyIMForbidStatus",[t,n])},notifyClearIMMsg:function(e){ae.Utils.log("[RTC] notifyClearIMMsg"),this.proxy.callCallback("notifyClearIMMsg")},notifyDeleteIMMsg:function(e){ae.Utils.log("[RTC] notifyDeleteIMMsg"),this.proxy.callCallback("notifyDeleteIMMsg",[e])}}),Er=_.Class(m.VideoCallback,{setProxy:function(e){this.proxy=e},notifyAllowVideoWall:function(e,t){ae.Utils.log("[RTC] notifyAllowVideoWall"),this.proxy.callCallback("notifyAllowVideoWall",[e,t])},updateStatus:function(e,t,n){ae.Utils.log("[RTC] VideoUpdateStatus"),this.proxy.callCallback("VideoUpdateStatus",[e,t,n])},notifyOpenVideo:function(e){ae.Utils.log("[RTC] notifyOpenVideo"),this.proxy.callCallback("notifyOpenVideo",[e])},startVideoByManager:function(){ae.Utils.log("[RTC] startVideoByManager"),this.proxy.callCallback("startVideoByManager")},notifyEnableVideo:function(e,t,n){ae.Utils.log("[RTC] notifyEnableVideo"),this.proxy.callCallback("notifyEnableVideo",[e,t,n])},updateFocusWindow:function(e,t){ae.Utils.log("[RTC] updateFocusWindow"),this.proxy.callCallback("updateFocusWindow",[e,t])},updateVLayout:function(e,t){ae.Utils.log("[RTC] updateVLayout"),this.proxy.callCallback("updateVLayout",[e,t])},updateVLayout2:function(e,t){ae.Utils.log("[RTC] updateVLayout2"),this.proxy.callCallback("updateVLayout2",[e,t])},updateMainVideoShowMode:function(e,t){ae.Utils.log("[RTC] updateMainVideoShowMode"),this.proxy.callCallback("updateMainVideoShowMode",[e,t])},updateVideoListMode:function(e,t){ae.Utils.log("[RTC] updateVideoListMode"),this.proxy.callCallback("updateVideoListMode",[e,t])},enableUpload:function(e,t){ae.Utils.log("[RTC] enableUpload"),this.proxy.callCallback("enableUpload",[e,t])},enableUpload2:function(e,t){ae.Utils.log("[RTC] enableUpload2"),this.proxy.callCallback("enableUpload2",[e,t])},generateIFrame:function(e){ae.Utils.log("[RTC] generateIFrame"),this.proxy.callCallback("generateIFrame",[e])},notifyRefuseOpenVideo:function(e){ae.Utils.log("[RTC] notifyRefuseOpenVideo"),this.proxy.callCallback("notifyRefuseOpenVideo",[e])},getVideoSetting:function(){ae.Utils.log("[RTC] getVideoSetting"),this.proxy.callCallback("getVideoSetting")},setCamera:function(e,t){ae.Utils.log("[RTC] setCamera"),this.proxy.callCallback("notifySetCamera",[e,t])},setCameraById:function(){ae.Utils.log("[RTC] setCameraById"),this.proxy.callCallback("notifySetCameraById")},notifyVideoPolling:function(e,t,n){ae.Utils.log("[RTC] notifyVideoPolling"),this.proxy.callCallback("notifyVideoPolling",[e,t,n])},notifyPollingVideo:function(e,t){ae.Utils.log("[RTC] notifyPollingVideo"),this.proxy.callCallback("notifyPollingVideo",[e,t])},notifyPollingVideo2:function(e,t,n){ae.Utils.log("[RTC] notifyPollingVideo2")},notifyVideoList:function(e,t){ae.Utils.log("[RTC] notifyVideoList"),this.proxy.callCallback("notifyVideoList",[e,t])},notifyUpdateAllCameraInfos:function(e,t){ae.Utils.log("[RTC] notifyUpdateAllCameraInfos"),this.proxy.callCallback("notifyUpdateAllCameraInfos",[e,t])},notifySetOpenedCameraNumber:function(e,t){ae.Utils.log("[RTC] notifySetOpenedCameraNumber"),this.proxy.callCallback("notifySetOpenedCameraNumber",[e,t.join(";")])},notifyStartAdjustDirection:function(e,t){ae.Utils.log("[RTC] notifyStartAdjustDirection"),this.proxy.callCallback("notifyStartAdjustDirection",[e,t])},notifyStartAdjustZoom:function(e,t){ae.Utils.log("[RTC] notifyStartAdjustZoom"),this.proxy.callCallback("notifyStartAdjustZoom",[e,t])},notifyStopAdjustDirection:function(e){ae.Utils.log("[RTC] notifyStopAdjustDirection"),this.proxy.callCallback("notifyStopAdjustDirection",[e])},notifyStopAdjustZoom:function(e){ae.Utils.log("[RTC] notifyStopAdjustZoom"),this.proxy.callCallback("notifyStopAdjustZoom",[e])}}),br=_.Class(m.AudioCallback,{setProxy:function(e){this.proxy=e},updateStatus:function(e,t,n){ae.Utils.log("[RTC] AudioUpdateStatus"),this.proxy.callCallback("AudioUpdateStatus",[t,n,e])},updateVoiceEnergy:function(e){this.proxy.callCallback("updateVoiceEnergy",[e])},updateSpeaker:function(e){ae.Utils.log("[RTC] updateSpeaker"),this.proxy.callCallback("updateSpeaker",[e])},closeAll:function(e){ae.Utils.log("[RTC] NotifyCloseAll"),this.proxy.callCallback("NotifyCloseAll",[e])},playBackgroundMusic:function(e,t){ae.Utils.log("[RTC] playBackgroundMusic"),this.proxy.callCallback("playBackgroundMusic",[e,t])},notifyVoiceHowling:function(e,t){ae.Utils.log("[RTC] notifyVoiceHowling"),this.proxy.callCallback("notifyVoiceHowling",[e,t])},notifyVoiceNoise:function(e,t){ae.Utils.log("[RTC] notifyVoiceNoise"),this.proxy.callCallback("notifyVoiceNoise",[e,t])},getRemoteAudioInfNotify:function(e,t){e.ice_response(),ae.Utils.log("[RTC] getRemoteAudioInfNotify"),this.proxy.callCallback("getRemoteAudioInfNotify",[t])},remoteAudioSetNotify:function(e,t){ae.Utils.log("[RTC] remoteAudioSetNotify"),this.proxy.callCallback("remoteAudioSetNotify",[e,t])},notifyLanLessMicOpen:function(){ae.Utils.log("[RTC] notifyLanLessMicOpen"),this.proxy.callCallback("notifyLanLessMicOpen")}}),Rr=_.Class(m.ScreenShareClient,{setProxy:function(e){this.proxy=e},notifyStartScreenShare:function(e){ae.Utils.log("[RTC] notifyStartScreenShare",e),this.proxy.callCallback("notifyStartScreenShare",[e])},notifyStopScreenShare:function(e){ae.Utils.log("[RTC] notifyStopScreenShare",e),this.proxy.callCallback("notifyStopScreenShare",[e])},notifyCtrlReqState:function(e,t){ae.Utils.log("[RTC] notifyCtrlReqState",e,t),this.proxy.callCallback("notifyCtrlReqState",[e,t])},notifyRequestCtrlRight:function(e){ae.Utils.log("[RTC] notifyRequestCtrlRight",e),this.proxy.callCallback("notifyRequestCtrlRight",[e])},notifyCancelCtrlReq:function(e){ae.Utils.log("[RTC] notifyCancelCtrlReq",e),this.proxy.callCallback("notifyCancelCtrlReq",[e])},notifyRejectCtrlReq:function(e,t,n){ae.Utils.log("[RTC] notifyRejectCtrlReq",e,t,n),this.proxy.callCallback("notifyRejectCtrlReq",[e,t,n])},notifyGiveCtrlRight:function(e,t){ae.Utils.log("[RTC] notifyGiveCtrlRight",e,t),this.proxy.callCallback("notifyGiveCtrlRight",[e,t])},notifyReleaseCtrlRight:function(e){ae.Utils.log("[RTC] notifyReleaseCtrlRight",e),this.proxy.callCallback("notifyReleaseCtrlRight",[e])},notifyCtrlMsg:function(e,t){ae.Utils.log("[RTC] notifyCtrlMsg",e,t),this.proxy.callCallback("notifyCtrlMsg",[e,t])},notifyTmpSetRemoteCtrlState:function(e,t){ae.Utils.log("[RTC] notifyTmpSetRemoteCtrlState",e,t),this.proxy.callCallback("notifyTmpSetRemoteCtrlState",[e,t])},notifyRequestMarked:function(e){ae.Utils.log("[RTC] notifyRequestMarked",e),this.proxy.callCallback("notifyRequestMarked",[e])},notifyCancelMarkedReq:function(e){ae.Utils.log("[RTC] notifyCancelMarkedReq",e),this.proxy.callCallback("notifyCancelMarkedReq",[e])},notifyStartMarked:function(e){ae.Utils.log("[RTC] notifyStartMarked",e),this.proxy.callCallback("notifyStartMarked",[e])},notifyStopMarked:function(e){ae.Utils.log("[RTC] notifyStopMarked",e),this.proxy.callCallback("notifyStopMarked",[e])},notifyEnableOtherMarked:function(e,t){ae.Utils.log("[RTC] notifyEnableOtherMarked",e,t),this.proxy.callCallback("notifyEnableOtherMarked",[e,t])},notifyMakeIFrame:function(e){ae.Utils.log("[RTC] notifyScMakeIFrame"),this.proxy.callCallback("notifyScMakeIFrame",[e])},notifyMarkData:function(e){ae.Utils.log("[RTC] notifyMarkData",e),this.proxy.callCallback("notifyMarkData",[e,"v3"])},notifyClearAllMarks:function(){ae.Utils.log("[RTC] notifyClearAllMarks"),this.proxy.callCallback("notifyClearAllMarks")},notifyIndicator:function(e,t){ae.Utils.log("[RTC] notifyIndicator",e,t),this.proxy.callCallback("notifyIndicator",[e,t])},notifyClearAllMarksV4:function(){ae.Utils.log("[RTC] notifyClearAllMarksV4"),this.proxy.callCallback("notifyClearAllMarks")},notifyMarkDataV4:function(e){ae.Utils.log("[RTC] notifyMarkDataV4",e),this.proxy.callCallback("notifyMarkData",[e,"v4"])},notifyDelMarkDataV4:function(e,t){ae.Utils.log("[RTC] notifyMarkDataV4",e,t)}}),wr=_.Class(m.MediaCallback,{setProxy:function(e){this.proxy=e},notifyStartPlayMedia:function(e){e.state=e.state.name,ae.Utils.log("[RTC] notifyStartPlayMedia",e),this.proxy.callCallback("notifyStartPlayMedia",[e])},notifyStopPlayMedia:function(e){ae.Utils.log("[RTC] notifyStopPlayMedia",e),this.proxy.callCallback("notifyStopPlayMedia",[e])},notifyPausePlayMedia:function(e,t){ae.Utils.log("[RTC] notifyPausePlayMedia",e,t),this.proxy.callCallback("notifyPausePlayMedia",[e,t])},notifyMakeIFrame:function(){ae.Utils.log("[RTC] notifyMediaMakeIFrame"),this.proxy.callCallback("notifyMediaMakeIFrame")},notifySubscribeMedia:function(e){ae.Utils.log("[RTC] notifySubscribeMedia",e),this.proxy.callCallback("notifySubscribeMedia",[e])}}),xr=_.Class(m.WhiteBoardCallback,{setProxy:function(e){this.proxy=e},notifySetContainerSize:function(e,t,n){ae.Utils.log("[RTC] notifySetContainerSize(id:%s)",e,t,n),this.proxy.callCallback("notifySetContainerSize",[e,t,n])},notifyCreate:function(e,t){ae.Utils.log("[RTC] notifyCreate",e),this.proxy.callCallback("notifyCreate",[e,t])},notifyImportPage:function(e,t,n){ae.Utils.log("[RTC] notifyImportPage",e,t,n),this.proxy.callCallback("notifyImportPage",[e,t,n])},notifyClose:function(e,t){ae.Utils.log("[RTC] notifyClose",e,t),this.proxy.callCallback("notifyClose",[e,t])},notifyChangeName:function(e,t,n){ae.Utils.log("[RTC] notifyChangeName",e,t,n),this.proxy.callCallback("notifyChangeName",[e,t,n])},notifyChangeScale:function(e,t,n){ae.Utils.log("[RTC] notifyChangeScale",e,t,n),this.proxy.callCallback("notifyChangeScale",[e,t,n])},notifyChangeRotate:function(e,t,n){ae.Utils.log("[RTC] notifyChangeRotate",e,t,n),this.proxy.callCallback("notifyChangeRotate",[e,t,n])},notifySetCurrentPage:function(e,t,n,i,r){this.whiteBoardId&&this.whiteBoardId.localID===e.localID&&this.whiteBoardId.termID===e.termID&&this.iPage===t&&this.animID===n&&this.animFrames===i&&this.opId===r||(this.whiteBoardId=e,this.iPage=t,this.animID=n,this.animFrames=i,this.opId=r,ae.Utils.log("[RTC] notifySetCurrentPage",e,t,n,i,r),this.proxy.callCallback("notifySetCurrentPage",[e,t,n,i,r]))},notifyShowThumPage:function(e,t,n){ae.Utils.log("[RTC] notifyShowThumPage",e,t,n),this.proxy.callCallback("notifyShowThumPage",[e,t,n])},notifyAddElement:function(e,t,n,i){ae.Utils.log("[RTC] notifyAddElement",e,t,n,i),this.proxy.callCallback("notifyAddElement",[e,t,n,i])},notifyAddElementEx:function(e,t,n,i){ae.Utils.log("[RTC] notifyAddElementEx",e,t,n,i),this.proxy.callCallback("notifyAddElementEx",[e,t,n,i])},notifyMoveElement:function(e,t,n,i){ae.Utils.log("[RTC] notifyMoveElement",e,t,n,i),this.proxy.callCallback("notifyMoveElement",[e,t,n,i])},notifyModifyElement:function(e,t,n,i){ae.Utils.log("[RTC] notifyModifyElement",e,t,n,i),this.proxy.callCallback("notifyModifyElement",[e,t,n,i])},notifyDelElement:function(e,t,n,i){ae.Utils.log("[RTC] notifyDelElement",e,t,n,i),this.proxy.callCallback("notifyDelElement",[e,t,n,i])},notifySetElementZPos:function(e,t,n,i){ae.Utils.log("[RTC] notifySetElementZPos",e,t,n,i),this.proxy.callCallback("notifySetElementZPos",[e,t,n,i])},notifySetIndicator:function(e,t,n){ae.Utils.log("[RTC] notifySetIndicator",e,t,n),this.proxy.callCallback("notifySetIndicator",[e,t,n])},notifySetHotspot:function(e,t,n,i,r){this.proxy.callCallback("notifySetHotspot",[e,t,n,i,r])},notifySetMarkTerms:function(e,t,n){ae.Utils.log("[RTC] notifySetMarkTerms",e,t,n),h.SDK_event.emitEventListener("NotifySetMarkTerms",e,t,n)}}),Pr=_.Class(m.SyncCtrlCallback,{setProxy:function(e){this.proxy=e},notifySetCurrentTab:function(){ae.Utils.log("[RTC] notifySetCurrentTab"),this.proxy.callCallback("notifySetCurrentTab",arguments)},notifySetFullScreen:function(){ae.Utils.log("[RTC] notifySetFullScreen",arguments)},notifySetPrivTabInfo:function(){ae.Utils.log("[RTC] notifySetPrivTabInfo",arguments)},notifySetSyncMode:function(){ae.Utils.log("[RTC] notifySetSyncMode",arguments)}});function Dr(){try{ae._routerPrx&&ae._routerPrx.destroySession(),ae._routerPrx=null,ae._connection&&ae._connection.destroy(0),ae._connection=null,ae._adapter&&ae._adapter.destroy(),ae._adapter=null,ae._communicator&&(ae._communicator.shutdown(),ae._communicator.destroy()),ae._communicator=null}catch(e){return a.CRVideo_INNER_ERR}}function Or(e){ae._proxy.getVideoSetting(e).then((function(e,t){mn.call([e,t])}))}function Mr(e,t){ae._proxy.setCamera(e,t).then((function(e,t){Sn.call([e,t])}))}function Ar(e){ae._proxy.setCameraById(e).then((function(e,t){In.call([e,t])}))}function Nr(e){ae._proxy.startPlayMedia(e).then((function(e,t){Ii.call([e,t])}))}function kr(e){ae._proxy.stopPlayMedia(e).then((function(e,t){Ei.call([e,t])}))}function Tr(e){ae._proxy.pausePlayMedia(e).then((function(e,t){bi.call([e,t])}))}function Lr(e){ae._proxy.subscribeMedia(e).then((function(e,t){Ri.call([e,t])}))}if(ae.LHProxy=function(e){this.__config=e,!this.__config||"ws"!=this.__config.protocol&&"wss"!=this.__config.protocol?this._protocol="wss":this._protocol=this.__config.protocol,this._type="html5",this._logining=!1,ae.__init=!0},ae.LHProxy.prototype.init=function(){var e=new ae.AsyncResult;return this.callbackDict={},this._initData=new _.InitializationData,this._initData.properties=_.createProperties(),this._initData.properties.setProperty("Ice.Trace.Network","0"),this._initData.properties.setProperty("Ice.Trace.Protocol","0"),this._initData.properties.setProperty("Ice.ACM.Client","0"),this._initData.properties.setProperty("Ice.Default.EncodingVersion","1.0"),this._initData.properties.setProperty("Ice.ThreadPool.Client.Serialize","1"),this._initData.properties.setProperty("Ice.ThreadPool.Server.Serialize","1"),e.complete([0,""]),e},ae.LHProxy.prototype.registeredCallback=function(e,t){if(this.callbackDict[e])throw"已经存在的注册对象";this.callbackDict[e]=t},ae.LHProxy.prototype.unregisterCallback=function(e,t){this.callbackDict[e]=null,delete this.callbackDict[e]},ae.LHProxy.prototype.callCallback=function(e,t){var n=this.callbackDict[e];n&&"function"==typeof n&&n.call(null,t)},ae.LHProxy.prototype.login=function(e,t,n,i,r,o,s){var p=this;console.crlog("[RTC] enter meeting server");var g=function e(t,i){ae.Utils.log("[RTC] acssvr loginmeeting:"+t[0]);var c={},g=t[0];ae._routerPrx=p._routerPrx=x.routerPrx,p._routerPrx.createSession("N"+ae.crmt.MEET[0],"").then((function(e){return p._session=e,p._routerPrx.getCategoryForClient()})).then((function(t){if(p._category=t,p._communicator.setDefaultRouter(p._routerPrx),i)return console.crlog('[Resm] _communicator.createObjectAdapterWithRouter("CallbackAdapter", "this._routerPrx")'),p._communicator.createObjectAdapterWithRouter("CallbackAdapter",p._routerPrx);console.crlog("[Resm] Resm.AccessMPrx uncheckedCast...");var n=E.AccessMPrx.uncheckedCast(p._communicator.stringToProxy("d0/AccessM")),r=ae.crmt.DOMAIN,o=ae.crmt.MEET[0],s=ae.crmt.MYPUBIP,c=_.generateUUID(),a=new E.NetworkResult,l="";return p.acssvrs.forEach((function(e){var t=new E.NetworkStatus;t.latency=30,t.lostRate=0,a.set(e[0],t),l+=e[0]+","})),console.crlog("[Resm] Resm locate".concat(JSON.stringify({domain:r,confID:o,publicIP:s,uuid:c,serverlog:l}))),n.locate(r,o,a,s,c).then((function(t){if(console.crlog("[Resm] Got resm accessNo: ".concat(t)),+t==+x.acssvr[0])return console.crlog('[Resm] _communicator.createObjectAdapterWithRouter("CallbackAdapter", "this._routerPrx")'),p._communicator.createObjectAdapterWithRouter("CallbackAdapter",p._routerPrx);var n=p.acssvrs.findIndex((function(e){return+e[0]===t})),i=p.acssvrs[n];y(i).then((function(){return e(i,!0),!1})).catch((function(e){return p.acssvrs.splice(n,1),C(),!1}))})).exception((function(e){return console.crlog("[Resm] Resm locate fail!"),console.crlog(e),p._communicator.createObjectAdapterWithRouter("CallbackAdapter",p._routerPrx)}))})).then((function(e){if(e){Vr.accessSvr||(Vr.accessSvr=t[1]),ae._adapter=p._adapter=e;var i=new m.LoginRequest;i.confId=ae.crmt.MEET[0],i.confKey=ae.crmt.MEET[1],i.nickname=ae.crmt.ACNT[3]||n.nickname;var o=f.readInfo(ae.crmt.MEET[0]);i.memberId=o.memberID||ae.crmt.ACNT[0],i.memberType=o.memberType||ae.crmt.ACNT[1],i.termId=o.termId||"",i.priv_dat=n.userId,i.accessNo=g,i.callbacks=new _.HashMap,i.extProperty=new _.HashMap;var s=function(){var e=wx.getStorageSync("CR_DeviceID");if(e)return e;var t=_.generateUUID();return wx.setStorage({key:"CR_DeviceID",data:t}),t}();i.extProperty.set(m.CLINET_PCID,s),n&&i.extProperty.set(m.CLIETN_PRIV_DAT,n.userId||_.generateUUID());var c="",a=u.deviceInfo,l=a.platform,h=a.brand,y=a.system;"ios"==l||"iPhone"==h||y.indexOf("iOS")>-1?c=m.PLATFORMTYPE_IOS:("android"==l||y.indexOf("Android")>-1)&&(c=m.PLATFORMTYPE_ANDROID);i.extProperty.set(m.CLINET_PLATFORM,c),i.extProperty.set(m.CLINET_BROWSER_INFO,"wxmini"),i.extProperty.set(m.CLINET_OPENID,r),i.extProperty.set(m.CLINET_SDK_VER,d.sdkver),i.extProperty.set(m.CLINET_DEVICETYPE,"wxmini"),i.extProperty.set(m.CLINET_LOGIN_TIMESTAMP,parseInt((new Date).getTime()/1e3));var C=new _.Identity;C.name="ConferenceCallback",C.category=p._category,p._conferenceReceptor=new vr,p._conferenceReceptor.setProxy(p),p._adapter.add(p._conferenceReceptor,C);var I=m.ConferenceCallbackPrx.uncheckedCast(p._adapter.createDirectProxy(C));i.callbacks.set("ConferenceCallback",I);var E=new _.Identity;E.name="IMCallback",E.category=p._category,p._chatReceptor=new Ir,p._chatReceptor.setProxy(p),p._adapter.add(p._chatReceptor,E);var b=m.IMCallbackPrx.uncheckedCast(p._adapter.createDirectProxy(E));i.callbacks.set("IMCallback",b);var R=new _.Identity;R.name="AnsQueCallback",R.category=p._category,p._ansQueReceptor=new Sr,p._ansQueReceptor.setProxy(p),p._adapter.add(p._ansQueReceptor,R);var w=m.AnsQueCallbackPrx.uncheckedCast(p._adapter.createDirectProxy(R));i.callbacks.set("AnsQueCallback",w);var x=new _.Identity;x.name="VideoCallback",x.category=p._category,p._videoReceptor=new Er,p._videoReceptor.setProxy(p),p._adapter.add(p._videoReceptor,x);var P=m.VideoCallbackPrx.uncheckedCast(p._adapter.createDirectProxy(x));i.callbacks.set("VideoCallback",P);var D=new _.Identity;D.name="AudioCallback",D.category=p._category,p._audioReceptor=new br,p._audioReceptor.setProxy(p),p._adapter.add(p._audioReceptor,D);var O=m.AudioCallbackPrx.uncheckedCast(p._adapter.createDirectProxy(D));i.callbacks.set("AudioCallback",O);var M=new _.Identity;M.name="MS.MSClient",M.category=p._category,p._mSClientI=new mr,p._mSClientI.setProxy(p),p._adapter.add(p._mSClientI,M);var A=S.MSClientPrx.uncheckedCast(p._adapter.createDirectProxy(M));i.callbacks.set("MS.MSClient",A);var N=new _.Identity;N.name="ScreenShareClient",N.category=p._category,p._screenShareReceptor=new Rr,p._screenShareReceptor.setProxy(p),p._adapter.add(p._screenShareReceptor,N);var k=m.ScreenShareClientPrx.uncheckedCast(p._adapter.createDirectProxy(N));i.callbacks.set("ScreenShareClient",k);var T=new _.Identity;T.name="MediaCallback",T.category=p._category,p._mediaReceptor=new wr,p._mediaReceptor.setProxy(p),p._adapter.add(p._mediaReceptor,T);var L=m.MediaCallbackPrx.uncheckedCast(p._adapter.createDirectProxy(T));i.callbacks.set("MediaCallback",L);var U=new _.Identity;U.name="WhiteBoardCallback",U.category=p._category,p._whiteBoardReceptor=new xr,p._whiteBoardReceptor.setProxy(p),p._adapter.add(p._whiteBoardReceptor,U);var V=m.WhiteBoardCallbackPrx.uncheckedCast(p._adapter.createDirectProxy(U));i.callbacks.set("WhiteBoardCallback",V);var F=new _.Identity;F.name="SyncCtrlCallback",F.category=p._category,p._syncCtrlReceptor=new Pr,p._syncCtrlReceptor.setProxy(p),p._adapter.add(p._syncCtrlReceptor,F);var j=m.SyncCtrlCallbackPrx.uncheckedCast(p._adapter.createDirectProxy(F));i.callbacks.set("SyncCtrlCallback",j),v(i)}})).exception((function(e){p._logining=!1,ae.Utils.log(e.toString()),s({errCode:a.CRVideo_INNER_ERR})}));var v=function e(t){console.crlog("[RTC] login start...");var n="c"+ae.crmt.MEET[0]+"/ConferenceRoom  @ c"+ae.crmt.MEET[0]+"-ReplicaConfCtrlAdapters";m.ConferenceRoomPrx.uncheckedCast(p._communicator.stringToProxy(n)).login(t).then((function(e){console.crlog("[RTC] enter meeting success"),c.termId=e.termId,c.activeMembers=e.activeMembers,c.myDetail=e.myDetail,f.writeInfo(ae.crmt.MEET[0],{termId:c.termId,memberType:c.myDetail.type,memberID:c.myDetail.id}),c.serverTime=1e3*e.ServerUTCTime-(new Date).getTime(),c.isBegan=e.isBegan,c.countdown=e.countdown,c.mainVideoTermID=e.mainVideoTermID,"VSPEAKER_TRACK"==e.windowMode._name?c.windowMode=1:"VPRESENTER_LOCK"==e.windowMode._name?c.windowMode=2:"VMANAGER_LOCK"==e.windowMode._name&&(c.windowMode=3),c.wbDescibes=e.wbDescibes,c.ServerUTCTime=e.ServerUTCTime,c.bAllowWall=e.bAllowWall,c.bFull=e.bFull,c.bRoomLocked=e.bRoomLocked,c.curMainTab=e.curMainTab,c.curSubTab=e.curSubTab,c.option=e.option,c.lastElemValue=e.lastElemValue,c.lastTabValue=e.lastTabValue;for(var t=e.confInfo.keys(),n={},i=0;i<t.length;i++)n[t[i]]=e.confInfo.get(t[i]);c.confInfo=n;for(var r=0;r<c.activeMembers.length;r++){var s=c.activeMembers[r];Cr(s),s.termId==c.termId&&(c.nickname=s.nickname,c.userId=s.userId,c.bindId=s.bindId,c.camList=s.camList)}p._conferenceRequest=m.ConferenceSessionPrx.uncheckedCast(e.modules.get("ConferenceSession")),p._chatRequest=m.IMSessionPrx.uncheckedCast(e.modules.get("IMSession")),p._ansQuesCtrl=m.AnsQuesCtrlPrx.uncheckedCast(e.modules.get("AnsQuesCtrl")),p._videoCtrl=m.VideoCtrlPrx.uncheckedCast(e.modules.get("VideoCtrl")),p._audioCtrl=m.AudioCtrlPrx.uncheckedCast(e.modules.get("AudioCtrl")),p._syncCtrl=m.SyncCtrlPrx.uncheckedCast(e.modules.get("SyncCtrl")),p._clientReport=S.ClientReportPrx.uncheckedCast(e.modules.get("MS.ClientReport")),p._screenShareCtrl=m.ScreenShareCtrlPrx.uncheckedCast(e.modules.get("ScreenShareCtrl")),p._mediaCtrl=m.MediaCtrlPrx.uncheckedCast(e.modules.get("MediaCtrl")),p._whiteBoardCtrl=m.WhiteBoardCtrlPrx.uncheckedCast(e.modules.get("WhiteBoardCtrl")),h.SDK_event.emitEventListener("startNetDiskService",p._communicator,_.NetDiskService,ae.crmt.MEET[0],ae.crmt.WEBID),p._logining=!1,c.existHost=M,o(new ae.MeetInfo(c)),ae.Utils.log("[RTC] Time-consuming login:"+((new Date).getTime()-ae.startTime))})).exception((function(n){if(p._logining=!1,ae.Utils.log(n.toString()),n instanceof _.SocketException)s({errCode:a.CRVideo_SOCKETEXCEPTION});else{if(n instanceof m.MemberAlreadyInCanTryVisitor){M=!0;var i=f.readInfo(ae.crmt.MEET[0]),r=i&&i[6]||{};return t.memberId=ae.crmt.ACNT[0]=r.memberID||0,t.memberType=ae.crmt.ACNT[1]=r.memberType||6,t.termId=r&&r.termId,void e(t)}if(n instanceof m.MemberAlreadyInMeet)s({errCode:a.CRVideo_ALREADYLOGIN});else if(n instanceof m.MemberOverflowError)s({errCode:a.CRVideo_MEMBEROVERFLOWERROR});else if(n instanceof m.RoomLockedError)s({errCode:a.CRVideo_MEETROOMLOCKED});else if(n instanceof m.ConfMemberOverflowError)s({errCode:a.CRVideo_EXCEED_CONNECTED});else if(n instanceof m.OnlyInviteeCanLogin)s({errCode:a.CRVideo_ONLY_INVITEE_CAN_LOGIN});else if(n instanceof _.ObjectNotExistException||n instanceof m.ConferenceEndError)setTimeout((function(){var n=d.server.getServerAddr()+l.ArrangeConfAPI;console.crlog("[RTC] The meeting is being manually deployed"),wx.request({url:n,data:{MeetID:Number(ae.crmt.MEET[0]),RequestId:"9ee1fa87-5e8e-4361-8954-3ce2fa125223"},method:"POST",success:function(n){404!=n.statusCode&&0===n.data.RspCode?(console.crlog("[RTC] The deployment was successful"),e(t)):(console.crlog("[RTC] Deployment failure"),s({errCode:a.CRVideo_UNKNOWERR}))},fail:function(){console.crlog("[RTC] Deployment failure"),s({errCode:a.CRVideo_UNKNOWERR})}})}),500);else if(n instanceof m.ConferenceBusy)setTimeout((function(){console.crlog("[RTC] Waited ".concat(n.retry_delay," secend, reEnter meeting...")),e(t)}),1e3*n.retry_delay);else if(n.toString().indexOf("Ice::")>-1||n instanceof m.ConferencePrepareError){if(!(A<12))return void s({errCode:a.CRVideo_MEETNOTEXIST});setTimeout((function(){e(t)}),A<10?200:1e3),A++}else s({errCode:a.CRVideo_UNKNOWERR})}}))}},y=function(e){return new Promise((function(t,n){console.crlog("[RTC]"+JSON.stringify(e)),Dr();var i=e[3],r=_.initialize(p._initData);ae._communicator=r;var o=parseInt(i.split("/sig/")[0]);i="/sig/"+i.split("/sig/")[1];var s="".concat(p._protocol,"://").concat(e[1],":").concat(o).concat(i),c="s".concat(e[0],"/Access:").concat(p._protocol," -r ").concat(i," -h ").concat(e[1]," -p ").concat(o).concat(d.IceTimeOut?" -t "+d.IceTimeOut:"");console.crlog("[RTC]stringToProxy: ".concat(c));var a=v.RouterPrx.uncheckedCast(r.stringToProxy(c)),l=(new Date).getTime();a.ice_ping().then((function(){var n=(new Date).getTime()-l;ae.Utils.log("[RTC] finish ping(".concat(s,") ,耗时：").concat(n)),x={url:s,delay:n,routerPrx:a,acssvr:e},p._communicator=r,Vr.communicatorIc=p._communicator,t()})).exception((function(e){r.destroy().finally2((function(){n(e)})),ae.Utils.log("[RTC] finish ping(".concat(s,") Fail,reson: ").concat(e&&e.toString&&e.toString()))}))}))},C=function e(){if(w[O])y(w[O]).then((function(){P=2,g(x.acssvr)})).catch((function(t){w.shift(),0===P&&(void 0===t.ice_cause?P=1:t.ice_cause&&t.ice_cause.errMsg&&(P=3,D=t)),e()}));else switch(P){case 0:console.crlog("[RTC] error: access is empty"),s({errCode:a.CRVideo_NO_SERVERINFO,errDesc:"probeAcssvr Fail2!"});break;case 1:console.crlog("[RTC] 连接超时"),s({errCode:a.CRVideo_SOCKETTIMEOUT});break;case 3:var t=a.WXErrorToCode(D.ice_cause.errMsg);s({errCode:t});break;default:s({errCode:a.CRVideo_SOCKETEXCEPTION})}},I=function(){_.Promise.try2((function(){w=ae.crmt.ACSSVR,w.length,p._logining=!0,p.acssvrs=w,C()})).exception((function(e){ae.Utils.log(e.toString()),ae.Utils.log(e.stack),p._logining=!1,s({errCode:a.CRVideo_UNKNOWERR,errDesc:"probeAcssvr Fail3!"})}))},b=function(e){ae.crmt={};var t=h.base64;if(c)var n=t.decode(e.substr(5));else n=atob(e.substr(5));for(var i=n.split("\n"),r=0;r<i.length;r++){var o=i[r].match(/-(\w+?)=(\S+)/);null!=o&&3==o.length&&(ae.crmt[o[1]]=o[2],ae.Utils.log("[RTC] parseCrmt ".concat(r,":").concat(o[1]).concat("MYPUBIP"===o[1]?"****":o[2])))}var s=ae.crmt.ACNT.split(";"),a=s[3].match(/../g),l=new ArrayBuffer(a.length),u=new DataView(l),d=[];for(r=0;r<a.length;r++)u.setUint8(r,parseInt(a[r],16)),d[r]=u.getUint8(r);var f=ae.Utils.utf8ByteToUnicodeStr(d);s[3]=f,s[1]=4===s[1]?6:s[1],ae.crmt.ACNT=s,ae.crmt.WEBID=s[0],ae.crmt.MEET=ae.crmt.MEET.split(";");var p=ae.crmt.ACSSVR.split(";");for(r=0;r<p.length;r++)p[r]?p[r]=p[r].split(":"):p.splice(r,1);ae.crmt.ACSSVR=p,ae.crmt.WXMINRTMPPORT=ae.crmt.WXMINRTMPPORT||1935;var _=ae.crmt.TUNNEL.split(";");Vr.accessSvr="1"===_[0]&&_[1]?_[1]:null}.bind(this);console.crlog("[RTC] Access login begain...");var R=h.base64;try{this._logining=!0;var w=null,x=null,P=0,D=null,O=0,M=!1,A=0;if(ae.startTime=(new Date).getTime(),ae.crmt)_.Promise.try2(function(){I()}.bind(this)).exception(function(e){ae.Utils.log(e.toString()),s({errCode:a.CRVideo_UNKNOWERR,errDesc:"probeAcssvr Fail!"})}.bind(this));else{var N=R.decode(e);N+="\n-JSCLIENT=wxmini";var k=R.encode(N);_.Promise.try2(function(){var e=d.server.getServerAddr()+l.GetAccKey1;wx.request({url:e,data:"crmt:"+k,method:"POST",dataType:"text",header:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},success:function(e){"200"==e.statusCode?-1!=e.data.indexOf("erro:")?(this._logining=!1,console.crlog("[RTC] GetAccKey1.1 Fail: ".concat(e.data)),s({errCode:e.data.indexOf("erro:2")>-1?a.CRVideo_MEETNOTEXIST:a.CRVideo_SERVER_EXCEPTION,errDesc:"crmt Fail!"})):(b(e.data),I()):(this._logining=!1,console.crlog("[RTC] GetAccKey1.2 Fail: ".concat(e)),s({errCode:a.CRVideo_SERVER_EXCEPTION,errDesc:"crmt Fail!"}))},fail:function(e){this._logining=!1,console.crlog("[RTC] GetAccKey1.3 Fail: ".concat(JSON.stringify(e))),s({errCode:a.WXErrorToCode(e.errMsg),errDesc:"crmt Fail!"})}})}.bind(this)).exception(function(e){ae.Utils.log(e.toString()),this._logining=!1,s({errCode:a.CRVideo_UNKNOWERR,errDesc:"rtc login1 Fail!"})}.bind(this))}}catch(e){ae.Utils.log(e.toString()),s({errCode:a.CRVideo_UNKNOWERR,errDesc:"rtc login2 Fail!"})}},ae.LHProxy.prototype.refreshSession=function(){var e=new ae.AsyncResult;try{this._routerPrx.refreshSession().then(function(){e.complete([0,""])}.bind(this)).exception(function(t){ae.Utils.log("[Error] refreshSession ShakeHand Fail, reson: \n".concat(t.toString())),t instanceof v.SessionNotExistException?e.complete([a.CRVideo_CONNECTIONLOST]):t instanceof _.ConnectFailedException?e.complete([a.CRVideo_CREATE_CONN_FAILED]):e.complete([a.CRVideo_UNKNOWERR])}.bind(this))}catch(t){e.complete([a.CRVideo_INNER_ERR,t.toString()])}return e},ae.LHProxy.prototype.keepAlive=function(e){var t=new ae.AsyncResult;try{var n=new _.HashMap;n.set("w",e.toString()),this._conferenceRequest.keepAlive(n).then(function(){t.complete([0,""])}.bind(this)).exception(function(e){var n=1;e instanceof _.SocketException&&(n=a.CRVideo_SOCKETEXCEPTION),ae.Utils.log(e.toString()),t.complete([n])}.bind(this))}catch(e){t.complete([a.CRVideo_INNER_ERR,e.toString()])}return t},ae.LHProxy.prototype.changeNickname=function(e,t){var n=this;return new Promise((function(i,r){try{n._conferenceRequest.changeNickname(e,t).then(function(){i(0)}.bind(n)).exception(function(e){var t=1;e instanceof _.SocketException&&(t=a.CRVideo_SOCKETEXCEPTION),ae.Utils.log(e.toString()),i(t)}.bind(n))}catch(e){i(a.CRVideo_INNER_ERR)}}))},ae.LHProxy.prototype.changeMemberRights=function(e,t,n){var i=this;return new Promise((function(e,r){try{var o=new m.ChangedRights(0,new Uint8Array(t),new Uint8Array(n));i._conferenceRequest.changeMemberRights([o]).then(function(){e([0,""])}.bind(i)).exception(function(t){var n=1;t instanceof _.SocketException&&(n=a.CRVideo_SOCKETEXCEPTION),ae.Utils.log(t.toString()),e([n])}.bind(i))}catch(t){e([a.CRVideo_INNER_ERR,t.toString()])}}))},ae.LHProxy.prototype.changeOption=function(e){var t=this;return new Promise((function(n,i){try{t._conferenceRequest.changeOption(e).then(function(){n([0,""])}.bind(t)).exception(function(e){var t=1;e instanceof _.SocketException&&(t=a.CRVideo_SOCKETEXCEPTION),ae.Utils.log(e.toString()),n([t])}.bind(t))}catch(e){n([a.CRVideo_INNER_ERR,e.toString()])}}))},ae.LHProxy.prototype.setDemoActor=function(e){var t=this;return new Promise((function(n,i){try{t._conferenceRequest.setDemoActor(e).then(function(){n([0,""])}.bind(t)).exception(function(e){var t=1;e instanceof _.SocketException&&(t=a.CRVideo_SOCKETEXCEPTION),ae.Utils.log(e.toString()),n([t])}.bind(t))}catch(e){n([a.CRVideo_INNER_ERR,e.toString()])}}))},ae.LHProxy.prototype.setHostActor=function(e,t){var n=this;return new Promise((function(i,r){try{n._conferenceRequest.setHostActor(e,t||"").then(function(){i(0)}.bind(n)).exception(function(e){var t=1;e instanceof _.SocketException?t=a.CRVideo_SOCKETEXCEPTION:e instanceof m.AuthError&&(t=a.CRVideo_HOST_PASSWORD_ERROR),ae.Utils.log(e.toString()),i(t)}.bind(n))}catch(e){i(a.CRVideo_INNER_ERR)}}))},ae.LHProxy.prototype.setAssistantActor=function(e,t){var n=this;return new Promise((function(i,r){try{n._conferenceRequest.setAssistantActor(e,t).then(function(){i(0)}.bind(n)).exception(function(e){var t=1;e instanceof _.SocketException?t=a.CRVideo_SOCKETEXCEPTION:e instanceof m.AuthError&&(t=a.CRVideo_HOST_PASSWORD_ERROR),ae.Utils.log(e.toString()),i(t)}.bind(n))}catch(e){i(a.CRVideo_INNER_ERR)}}))},ae.LHProxy.prototype.kickout=function(e){var t=this;return new Promise((function(n,i){try{t._conferenceRequest.kickout(e).then(function(){n(0)}.bind(t)).exception(function(e){var t=1;e instanceof _.SocketException&&(t=a.CRVideo_SOCKETEXCEPTION),ae.Utils.log(e.toString()),n(t)}.bind(t))}catch(e){n(a.CRVideo_INNER_ERR)}}))},ae.LHProxy.prototype.lockRoom=function(e){var t=this;return new Promise((function(n,i){try{t._conferenceRequest.lockRoom(e).then(function(){n([0,""])}.bind(t)).exception(function(e){var t=1;e instanceof _.SocketException&&(t=a.CRVideo_SOCKETEXCEPTION),ae.Utils.log(e.toString()),n([t])}.bind(t))}catch(e){n([a.CRVideo_INNER_ERR,e.toString()])}}))},ae.LHProxy.prototype.exit=function(e){var t=new ae.AsyncResult;try{this._conferenceRequest.exit(e).then(function(){t.complete([0,""])}.bind(this)).exception(function(e){t.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([a.CRVideo_INNER_ERR,e.toString()])}return t},ae.LHProxy.prototype.getActiveMembers=function(){var e=new ae.AsyncResult;try{this._conferenceRequest.getActiveMembers().then(function(t){for(var n=0;n<t.length;n++){var i=t[n].extProperty;t[n].camList=i.get(m.MINFO_OPENEDCAMIDS)||""}e.complete([0,"",t])}.bind(this)).exception(function(t){e.complete([204,"网络错误"]),ae.Utils.log(t.toString()),ae.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([a.CRVideo_INNER_ERR,t.toString()])}return e},ae.LHProxy.prototype.endConference=function(){var e=this;return new Promise((function(t,n){try{e._conferenceRequest.endConference().then(function(){t([0,""])}.bind(e)).exception(function(e){ae.Utils.log(e.toString()),t([a.CRVideo_INNER_ERR])}.bind(e))}catch(e){t([a.CRVideo_INNER_ERR,e.toString()])}}))},ae.LHProxy.prototype.SendIMMsg=function(e,t,n,i,r){var o=new ae.AsyncResult;try{var s=new _.Context;s._fwd="z";var c=new m.InIMMsgInfo;c.targetTermId=e,c.targetNickname=t,c.font=n,c.msg=ae.Utils.html2chat(i),c.sendTime=r,this._chatRequest.sendIMMsg(c,s).then(function(){o.complete([0,""])}.bind(this)).exception(function(e){e instanceof m.ContainsSensitiveWords?o.complete([a.CRVideo_CONTAIN_SENSITIVEWORDS,"包含了敏感词"]):e instanceof m.NotPermitError?o.complete([a.CRVideo_NOT_CHAT_PERMIT,"没有聊天权限"]):o.complete([a.CRVideo_SENDFAIL,"未知错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){o.complete([a.CRVideo_INNER_ERR,e.toString()])}return o},ae.LHProxy.prototype.getIMMsgCount=function(){var e=new ae.AsyncResult;try{this._chatRequest.getIMMsgCount().then(function(t){e.complete([0,"",t])}.bind(this)).exception(function(t){e.complete([1,"未知错误"]),ae.Utils.log(t.toString()),ae.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([a.CRVideo_INNER_ERR,t.toString()])}return e},ae.LHProxy.prototype.getLastMsg=function(e){var t=new ae.AsyncResult;try{var n=new _.Context;n._fwd="z",this._chatRequest.getLastMsg(e,n).then(function(e){var n=[];for(var i in e){var r=e[i],o=r.srcNickname.split("\0"),s=ae.Utils.chat2html(r.inMsg.msg,r.inMsg.font.color,r.inMsg.font.size),c={type:s[0],index:r.index,msg:s[2],head:s[1],sendTime:r.inMsg.sendTime,targetNickname:r.inMsg.targetNickname,targetTermId:r.inMsg.targetTermId,srcNickname:o[0],srcTermId:r.srcTermId,ishost:o.length>1};n.push(new ae.MsgInfo(c))}t.complete([0,"",n])}.bind(this)).exception(function(e){t.complete([1,"未知错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([a.CRVideo_INNER_ERR,e.toString()])}return t},ae.LHProxy.prototype.getLastNMsg=function(e,t){var n=new ae.AsyncResult;try{var i=new _.Context;i._fwd="z",this._chatRequest.getLastNMsg(e,t,i).then(function(e){var t=[];for(var i in e){var r=e[i],o=r.srcNickname.split("\0"),s=ae.Utils.chat2html(r.inMsg.msg,r.inMsg.font.color,r.inMsg.font.size),c={type:s[0],index:r.index,msg:s[2],head:s[1],sendTime:r.inMsg.sendTime,targetNickname:r.inMsg.targetNickname,targetTermId:r.inMsg.targetTermId,srcNickname:o[0],srcTermId:r.srcTermId,ishost:o.length>1};t.push(new ae.MsgInfo(c))}n.complete([0,"",t]),ae.Utils.log("[RTC] It takes time to get chat history:"+((new Date).getTime()-ae.startTime))}.bind(this)).exception(function(e){n.complete([1,"未知错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){n.complete([a.CRVideo_INNER_ERR,e.toString()])}return n},ae.LHProxy.prototype.getBroadCastUrl=function(){var e=new ae.AsyncResult;try{this._conferenceRequest.getBroadCastUrl().then((function(t){var n={rtmp:t.get(m.BOARDCAST_RTMP),hls:t.get(m.BOARDCAST_HLS)};e.complete([0,"",n])})).exception((function(t){e.complete([1,"未知错误"]),ae.Utils.log(t.toString()),ae.Utils.log(t.stack)}))}catch(t){e.complete([a.CRVideo_INNER_ERR,t.toString()])}return e},ae.LHProxy.prototype.askQues=function(e,t,n,i,r,o){var s=new ae.AsyncResult;try{var c=new m.QuesAsk;c.typeID=e,c.asktime=t,c.termID=n,i&&""!=i&&(r='<headimg src="'+i+'"/>'+ +r),c.content=r,c.nickname=o,this._ansQuesCtrl.askQues(c).then((function(e){s.complete([0,"",e])})).exception((function(e){s.complete([1,"未知错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}))}catch(e){s.complete([a.CRVideo_INNER_ERR,e.toString()])}return s},ae.LHProxy.prototype.getQuesList=function(){var e=new ae.AsyncResult;try{this._ansQuesCtrl.getQuesList().then((function(t){for(var n in quesList=[],t){var i=t[n];quesList.push(new ae.QuesInf(i))}e.complete([0,"",quesList])})).exception((function(t){e.complete([1,"未知错误"]),ae.Utils.log(t.toString()),ae.Utils.log(t.stack)}))}catch(t){e.complete([a.CRVideo_INNER_ERR,t.toString()])}return e},ae.LHProxy.prototype.getLuckyDrawCfg=function(){var e=new ae.AsyncResult;try{this._conferenceRequest.getLuckyDrawCfg().then((function(t){var n=t;e.complete([0,"",n])})).exception((function(t){e.complete([1,"未知错误"])}))}catch(t){e.complete([a.CRVideo_INNER_ERR,t.toString()])}return e},ae.LHProxy.prototype.joinLuckyDrawMembers=function(e,t){var n=new ae.AsyncResult;try{this._conferenceRequest.joinLuckyDrawMembers(e,t).then(function(){n.complete([0,""])}.bind(this)).exception(function(e){n.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){n.complete([a.CRVideo_INNER_ERR,e.toString()])}return n},ae.LHProxy.prototype.startSvrRecord=function(e){var t=new ae.AsyncResult;try{this._conferenceRequest.startSvrRecord(e).then((function(){t.complete([0])})).exception((function(e){console.crlog("[rtc] startSvrFail: ".concat(e.toString())),t.complete([1,"未知错误"])}))}catch(e){t.complete([a.CRVideo_INNER_ERR,e.toString()])}return t},ae.LHProxy.prototype.updateSvrRecCfg=function(e){var t=new ae.AsyncResult;try{this._conferenceRequest.updateSvrRecCfg(e).then((function(){t.complete([0,""])})).exception((function(e){t.complete([1,"未知错误"])}))}catch(e){t.complete([a.CRVideo_INNER_ERR,e.toString()])}return t},ae.LHProxy.prototype.stopSvrRecord=function(){var e=new ae.AsyncResult;try{this._conferenceRequest.stopSvrRecord().then((function(){e.complete([0,""])})).exception((function(t){e.complete([1,"未知错误"])}))}catch(t){e.complete([a.CRVideo_INNER_ERR,t.toString()])}return e},ae.LHProxy.prototype.terminalMsg=function(e,t,n,i){var r=new ae.AsyncResult;try{this._conferenceRequest.terminalMsg(e,t,n,i).then((function(){r.complete([0,""])})).exception((function(e){r.complete([1,"未知错误"])}))}catch(e){r.complete([CR_INNER_ERR,e.toString()])}return r},ae.LHProxy.prototype.setVideoDeviceStatus=function(e){var t=new ae.AsyncResult;try{this._videoCtrl.setDeviceStatus(e).then(function(){t.complete([0,""])}.bind(this)).exception(function(e){t.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([a.CRVideo_INNER_ERR,e.toString()])}return t},ae.LHProxy.prototype.allowVideoWall=function(e){var t=new ae.AsyncResult;try{this._videoCtrl.allowVideoWall(e).then(function(){t.complete([0,""])}.bind(this)).exception(function(e){t.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([a.CRVideo_INNER_ERR,e.toString()])}return t},ae.LHProxy.prototype.startVideo=function(){var e=new ae.AsyncResult;try{this._videoCtrl.startVideo().then(function(){e.complete([0,""])}.bind(this)).exception(function(t){e.complete([204,"网络错误"]),ae.Utils.log(t.toString()),ae.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([a.CRVideo_INNER_ERR,t.toString()])}return e},ae.LHProxy.prototype.stopVideo=function(){var e=new ae.AsyncResult;try{this._videoCtrl.stopVideo().then(function(){e.complete([0,""])}.bind(this)).exception(function(t){e.complete([204,"网络错误"]),ae.Utils.log(t.toString()),ae.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([a.CRVideo_INNER_ERR,t.toString()])}return e},ae.LHProxy.prototype.reqOpenVideo=function(e){var t=new ae.AsyncResult;try{this._videoCtrl.reqOpenVideo(e).then(function(){t.complete([0,""])}.bind(this)).exception(function(e){t.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([a.CRVideo_INNER_ERR,e.toString()])}return t},ae.LHProxy.prototype.startVideoEx=function(e){var t=new ae.AsyncResult;try{this._videoCtrl.startVideoEx(e).then(function(){t.complete([0,""])}.bind(this)).exception(function(e){t.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([a.CRVideo_INNER_ERR,e.toString()])}return t},ae.LHProxy.prototype.stopVideoEx=function(e){var t=new ae.AsyncResult;try{this._videoCtrl.stopVideoEx(e).then(function(){t.complete([0,""])}.bind(this)).exception(function(e){t.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([a.CRVideo_INNER_ERR,e.toString()])}return t},ae.LHProxy.prototype.enableVideo=function(e){var t=new ae.AsyncResult;try{this._videoCtrl.enableVideo(e).then(function(){t.complete([0,""])}.bind(this)).exception(function(e){t.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([a.CRVideo_INNER_ERR,e.toString()])}return t},ae.LHProxy.prototype.setFocusWindow=function(e,t){var n=new ae.AsyncResult,i=m.WINDOW_MODE[e];try{this._videoCtrl.setFocusWindow(i,t).then(function(){n.complete([0,""])}.bind(this)).exception(function(e){n.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){n.complete([a.CRVideo_INNER_ERR,e.toString()])}return n},ae.LHProxy.prototype.batchSubscribeVideo=function(e,t){var n=new ae.AsyncResult;try{this._videoCtrl.batchSubscribeVideo(e,t).then(function(){n.complete([0,""])}.bind(this)).exception(function(e){n.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){n.complete([a.CRVideo_INNER_ERR,e.toString()])}return n},ae.LHProxy.prototype.batchSubscribeVideo2=function(e,t,n){var i=new ae.AsyncResult,r=[new m.UsrCamSize(Number(e),Number(t),Number(m[n]))],o=new _.Context;o._fwd="z",console.crlog("[RTC] batchSubscribeVideo2:"+JSON.stringify(r));try{this._videoCtrl.batchSubscribeVideo2(r,o).then(function(){i.complete([0,""])}.bind(this)).exception(function(e){i.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){i.complete([a.CRVideo_INNER_ERR,e.toString()])}return i},ae.LHProxy.prototype.subscribeFocusWindow=function(e){var t=new ae.AsyncResult;try{this._videoCtrl.subscribeFocusWindow(e).then(function(){t.complete([0,""])}.bind(this)).exception(function(e){t.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([a.CRVideo_INNER_ERR,e.toString()])}return t},ae.LHProxy.prototype.subscribeFocusWindow2=function(e){var t=new ae.AsyncResult;try{this._videoCtrl.subscribeFocusWindow2(e).then(function(){t.complete([0,""])}.bind(this)).exception(function(e){t.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([a.CRVideo_INNER_ERR,e.toString()])}return t},ae.LHProxy.prototype.setVLayout=function(e){var t=new ae.AsyncResult;try{this._videoCtrl.setVLayout(e).then(function(){t.complete([0,""])}.bind(this)).exception(function(e){t.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([a.CRVideo_INNER_ERR,e.toString()])}return t},ae.LHProxy.prototype.setVLayout2=function(e){var t=new ae.AsyncResult;try{this._videoCtrl.setVLayout2(e).then(function(){t.complete([0,""])}.bind(this)).exception(function(e){t.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([a.CRVideo_INNER_ERR,e.toString()])}return t},ae.LHProxy.prototype.setMainVideoShowMode=function(e){var t=new ae.AsyncResult;try{this._videoCtrl.setMainVideoShowMode(e).then(function(){t.complete([0,""])}.bind(this)).exception(function(e){t.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([a.CRVideo_INNER_ERR,e.toString()])}return t},ae.LHProxy.prototype.setVideoListMode=function(e){var t=new ae.AsyncResult;try{this._videoCtrl.setVideoListMode(e).then(function(){t.complete([0,""])}.bind(this)).exception(function(e){t.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([a.CRVideo_INNER_ERR,e.toString()])}return t},ae.LHProxy.prototype.refuseOpenVideo=function(e){var t=new ae.AsyncResult;try{this._videoCtrl.refuseOpenVideo(e).then(function(){t.complete([0,""])}.bind(this)).exception(function(e){t.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([a.CRVideo_INNER_ERR,e.toString()])}return t},ae.LHProxy.prototype.getVideoSetting=function(e){var t=new ae.AsyncResult;try{this._videoCtrl.getVideoSetting(e).then(function(){t.complete([0,""])}.bind(this)).exception(function(e){t.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([a.CRVideo_INNER_ERR,e.toString()])}return t},ae.LHProxy.prototype.setCamera=function(e,t){var n=new ae.AsyncResult;try{this._videoCtrl.setCamera(e,t).then(function(){n.complete([0,""])}.bind(this)).exception(function(e){n.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){n.complete([a.CRVideo_INNER_ERR,e.toString()])}return n},ae.LHProxy.prototype.setCameraById=function(e){var t=new ae.AsyncResult;try{this._videoCtrl.setCameraById(e).then(function(){t.complete([0,""])}.bind(this)).exception(function(e){t.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([a.CRVideo_INNER_ERR,e.toString()])}return t},ae.LHProxy.prototype.setVideoPolling=function(e,t){var n=new ae.AsyncResult;try{this._videoCtrl.setVideoPolling(e,t).then(function(){n.complete([0,""])}.bind(this)).exception(function(e){n.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){n.complete([a.CRVideo_INNER_ERR,e.toString()])}return n},ae.LHProxy.prototype.updatePollingVideo=function(e){var t=new ae.AsyncResult;try{this._videoCtrl.updatePollingVideo(e).then(function(){t.complete([0,""])}.bind(this)).exception(function(e){t.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([a.CRVideo_INNER_ERR,e.toString()])}return t},ae.LHProxy.prototype.updateVideoList=function(e){var t=new ae.AsyncResult;try{this._videoCtrl.updateVideoList(e).then(function(){t.complete([0,""])}.bind(this)).exception(function(e){t.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([a.CRVideo_INNER_ERR,e.toString()])}return t},ae.LHProxy.prototype.getVideoPollingState=function(e,t){var n=new ae.AsyncResult;try{this._videoCtrl.getVideoPollingState(e,t).then(function(){n.complete([0,""])}.bind(this)).exception(function(e){n.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){n.complete([a.CRVideo_INNER_ERR,e.toString()])}return n},ae.LHProxy.prototype.updateAllCameraInfos=function(e){var t=new ae.AsyncResult;try{this._videoCtrl.updateAllCameraInfos(e).then(function(){t.complete([0,""])}.bind(this)).exception(function(e){t.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([a.CRVideo_INNER_ERR,e.toString()])}return t},ae.LHProxy.prototype.setOpenedCameraNumber=function(e){var t=new ae.AsyncResult;try{this._videoCtrl.setOpenedCameraNumber(e).then(function(){t.complete([0,""])}.bind(this)).exception(function(e){t.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([a.CRVideo_INNER_ERR,e.toString()])}return t},ae.LHProxy.prototype.startAdjustDirection=function(e,t){var n=new ae.AsyncResult;try{this._videoCtrl.startAdjustDirection(e,t).then(function(){n.complete([0,""])}.bind(this)).exception(function(e){n.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){n.complete([a.CRVideo_INNER_ERR,e.toString()])}return n},ae.LHProxy.prototype.startAdjustZoom=function(e,t){var n=new ae.AsyncResult;try{this._videoCtrl.startAdjustZoom(e,t).then(function(){n.complete([0,""])}.bind(this)).exception(function(e){n.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){n.complete([a.CRVideo_INNER_ERR,e.toString()])}return n},ae.LHProxy.prototype.stopAdjustDirection=function(e){var t=new ae.AsyncResult;try{this._videoCtrl.stopAdjustDirection(e).then(function(){t.complete([0,""])}.bind(this)).exception(function(e){t.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([a.CRVideo_INNER_ERR,e.toString()])}return t},ae.LHProxy.prototype.stopAdjustDirection=function(e){var t=new ae.AsyncResult;try{this._videoCtrl.stopAdjustDirection(e).then(function(){t.complete([0,""])}.bind(this)).exception(function(e){t.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([a.CRVideo_INNER_ERR,e.toString()])}return t},ae.LHProxy.prototype.VideoResolutionReport=function(e,t,n){var i=new ae.AsyncResult;try{this._clientReport.VideoResolutionReport(e,t,n).then(function(){i.complete([0,""])}.bind(this)).exception(function(e){i.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){i.complete([a.CRVideo_INNER_ERR,e.toString()])}return i},ae.LHProxy.prototype.setAudioDeviceStatus=function(e){var t=new ae.AsyncResult;try{this._audioCtrl.setDeviceStatus(e).then(function(){t.complete([0,""])}.bind(this)).exception(function(e){t.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([a.CRVideo_INNER_ERR,e.toString()])}return t},ae.LHProxy.prototype.askForMic=function(){var e=new ae.AsyncResult;try{this._audioCtrl.askForMic().then(function(){e.complete([0,""])}.bind(this)).exception(function(t){e.complete([204,"网络错误"]),ae.Utils.log(t.toString()),ae.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([a.CRVideo_INNER_ERR,t.toString()])}return e},ae.LHProxy.prototype.askForMic=function(){var e=new ae.AsyncResult;try{this._audioCtrl.askForMic().then(function(){e.complete([0,""])}.bind(this)).exception(function(t){e.complete([204,"网络错误"]),ae.Utils.log(t.toString()),ae.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([a.CRVideo_INNER_ERR,t.toString()])}return e},ae.LHProxy.prototype.openMicEx=function(e){var t=new ae.AsyncResult;try{this._audioCtrl.openMicEx(e).then(function(){t.complete([0,""])}.bind(this)).exception(function(e){t.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([a.CRVideo_INNER_ERR,e.toString()])}return t},ae.LHProxy.prototype.closeMicEx=function(e){var t=new ae.AsyncResult;try{this._audioCtrl.closeMicEx(e).then(function(){t.complete([0,""])}.bind(this)).exception(function(e){t.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([a.CRVideo_INNER_ERR,e.toString()])}return t},ae.LHProxy.prototype.closeAll=function(){var e=new ae.AsyncResult;try{this._audioCtrl.closeAll().then(function(){e.complete([0,""])}.bind(this)).exception(function(t){e.complete([204,"网络错误"]),ae.Utils.log(t.toString()),ae.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([a.CRVideo_INNER_ERR,t.toString()])}return e},ae.LHProxy.prototype.setVoiceEnergy=function(e){var t=new ae.AsyncResult;try{this._audioCtrl.setVoiceEnergy(e).then(function(){t.complete([0,""])}.bind(this)).exception(function(e){t.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([a.CRVideo_INNER_ERR,e.toString()])}return t},ae.LHProxy.prototype.pstnSwitchMicStatus=function(){var e=new ae.AsyncResult;try{this._audioCtrl.pstnSwitchMicStatus().then(function(){e.complete([0,""])}.bind(this)).exception(function(t){e.complete([204,"网络错误"]),ae.Utils.log(t.toString()),ae.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([a.CRVideo_INNER_ERR,t.toString()])}return e},ae.LHProxy.prototype.startRecord=function(){var e=new ae.AsyncResult;try{this._audioCtrl.startRecord().then(function(){e.complete([0,""])}.bind(this)).exception(function(t){e.complete([204,"网络错误"]),ae.Utils.log(t.toString()),ae.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([a.CRVideo_INNER_ERR,t.toString()])}return e},ae.LHProxy.prototype.isRecording=function(){var e=new ae.AsyncResult;try{this._audioCtrl.isRecording().then(function(){e.complete([0,""])}.bind(this)).exception(function(t){e.complete([204,"网络错误"]),ae.Utils.log(t.toString()),ae.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([a.CRVideo_INNER_ERR,t.toString()])}return e},ae.LHProxy.prototype.stopRecord=function(){var e=new ae.AsyncResult;try{this._audioCtrl.stopRecord().then(function(){e.complete([0,""])}.bind(this)).exception(function(t){e.complete([204,"网络错误"]),ae.Utils.log(t.toString()),ae.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([a.CRVideo_INNER_ERR,t.toString()])}return e},ae.LHProxy.prototype.playApplause=function(){var e=new ae.AsyncResult;try{this._audioCtrl.playApplause().then(function(){e.complete([0,""])}.bind(this)).exception(function(t){e.complete([204,"网络错误"]),ae.Utils.log(t.toString()),ae.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([a.CRVideo_INNER_ERR,t.toString()])}return e},ae.LHProxy.prototype.getMusicList=function(){var e=new ae.AsyncResult;try{this._audioCtrl.getMusicList().then(function(){e.complete([0,""])}.bind(this)).exception(function(t){e.complete([204,"网络错误"]),ae.Utils.log(t.toString()),ae.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([a.CRVideo_INNER_ERR,t.toString()])}return e},ae.LHProxy.prototype.getPlayBGMusic=function(){var e=new ae.AsyncResult;try{this._audioCtrl.getPlayBGMusic().then(function(){e.complete([0,""])}.bind(this)).exception(function(t){e.complete([204,"网络错误"]),ae.Utils.log(t.toString()),ae.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([a.CRVideo_INNER_ERR,t.toString()])}return e},ae.LHProxy.prototype.startBGMusic=function(e,t){var n=new ae.AsyncResult;try{this._audioCtrl.startBGMusic(e,t).then(function(){n.complete([0,""])}.bind(this)).exception(function(e){n.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){n.complete([a.CRVideo_INNER_ERR,e.toString()])}return n},ae.LHProxy.prototype.stopPlayBGMusic=function(){var e=new ae.AsyncResult;try{this._audioCtrl.stopPlayBGMusic().then(function(){e.complete([0,""])}.bind(this)).exception(function(t){e.complete([204,"网络错误"]),ae.Utils.log(t.toString()),ae.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([a.CRVideo_INNER_ERR,t.toString()])}return e},ae.LHProxy.prototype.setPlayBGMusicVolumn=function(e){var t=new ae.AsyncResult;try{this._audioCtrl.setPlayBGMusicVolumn(e).then(function(){t.complete([0,""])}.bind(this)).exception(function(e){t.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([a.CRVideo_INNER_ERR,e.toString()])}return t},ae.LHProxy.prototype.getPlayBGMusicVolumn=function(){var e=new ae.AsyncResult;try{this._audioCtrl.getPlayBGMusicVolumn().then(function(){e.complete([0,""])}.bind(this)).exception(function(t){e.complete([204,"网络错误"]),ae.Utils.log(t.toString()),ae.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([a.CRVideo_INNER_ERR,t.toString()])}return e},ae.LHProxy.prototype.voiceHowling=function(e){var t=new ae.AsyncResult;try{this._audioCtrl.voiceHowling(e).then(function(){t.complete([0,""])}.bind(this)).exception(function(e){t.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([a.CRVideo_INNER_ERR,e.toString()])}return t},ae.LHProxy.prototype.voiceNoise=function(e){var t=new ae.AsyncResult;try{this._audioCtrl.voiceNoise(e).then(function(){t.complete([0,""])}.bind(this)).exception(function(e){t.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([a.CRVideo_INNER_ERR,e.toString()])}return t},ae.LHProxy.prototype.remoteAudioSet=function(e,t){var n=new ae.AsyncResult;try{this._audioCtrl.remoteAudioSet(e,t).then(function(){n.complete([0,""])}.bind(this)).exception(function(e){n.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){n.complete([a.CRVideo_INNER_ERR,e.toString()])}return n},ae.LHProxy.prototype.getRemoteAudioInf=function(e){var t=new ae.AsyncResult;try{this._audioCtrl.getRemoteAudioInf(e).then(function(){t.complete([0,""])}.bind(this)).exception(function(e){t.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([a.CRVideo_INNER_ERR,e.toString()])}return t},ae.LHProxy.prototype.getRemoteAudioInf=function(e){var t=new ae.AsyncResult;try{this._audioCtrl.getRemoteAudioInf(e).then(function(){t.complete([0,""])}.bind(this)).exception(function(e){t.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([a.CRVideo_INNER_ERR,e.toString()])}return t},ae.LHProxy.prototype.getScreenShareInfo=function(){var e=new ae.AsyncResult;try{this._screenShareCtrl.getScreenShareInfo().then(function(t){e.complete([0,"",t])}.bind(this)).exception(function(t){e.complete([204,"网络错误"]),ae.Utils.log(t.toString()),ae.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([a.CRVideo_INNER_ERR,t.toString()])}return e},ae.LHProxy.prototype.startScreenShare=function(){var e=new ae.AsyncResult;try{this._screenShareCtrl.startScreenShare().then(function(){e.complete([0,""])}.bind(this)).exception(function(t){e.complete([204,"网络错误"]),ae.Utils.log(t.toString()),ae.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([a.CRVideo_INNER_ERR,t.toString()])}return e},ae.LHProxy.prototype.stopScreenShare=function(){var e=new ae.AsyncResult;try{this._screenShareCtrl.stopScreenShare().then(function(){e.complete([0,""])}.bind(this)).exception(function(t){e.complete([204,"网络错误"]),ae.Utils.log(t.toString()),ae.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([a.CRVideo_INNER_ERR,t.toString()])}return e},ae.LHProxy.prototype.askForNewIFrame=function(){var e=this;return new Promise((function(t,n){try{e._screenShareCtrl.askForNewIFrame(0).then(function(e){t([0,e])}.bind(e)).exception(function(e){t([204]),ae.Utils.log(e.toString())}.bind(e))}catch(e){t([a.CRVideo_INNER_ERR])}}))},ae.LHProxy.prototype.getAllMarkData=function(){var e=this;return new Promise((function(t,n){try{e._screenShareCtrl.getAllMarkData().then(function(e){t([0,e])}.bind(e)).exception(function(e){t([204]),ae.Utils.log(e.toString())}.bind(e))}catch(e){t([a.CRVideo_INNER_ERR])}}))},ae.LHProxy.prototype.getAllMarkDataV4=function(){var e=this;return new Promise((function(t,n){try{e._screenShareCtrl.getAllMarkDataV4().then(function(e){t([0,e])}.bind(e)).exception(function(e){t([204]),ae.Utils.log(e.toString())}.bind(e))}catch(e){t([a.CRVideo_INNER_ERR])}}))},ae.LHProxy.prototype.getMediaInfo=function(){var e=new ae.AsyncResult;try{this._mediaCtrl.getMediaInfo().then(function(t){t.state=t.state.value,e.complete([0,"",t])}.bind(this)).exception(function(t){e.complete([204,"网络错误"]),ae.Utils.log(t.toString()),ae.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([a.CRVideo_INNER_ERR,t.toString()])}return e},ae.LHProxy.prototype.startPlayMedia=function(e){var t=new ae.AsyncResult;try{this._mediaCtrl.startPlayMedia(e).then(function(){t.complete([0,""])}.bind(this)).exception(function(e){t.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([a.CRVideo_INNER_ERR,e.toString()])}return t},ae.LHProxy.prototype.stopPlayMedia=function(){var e=new ae.AsyncResult;try{this._mediaCtrl.stopPlayMedia().then(function(){e.complete([0,""])}.bind(this)).exception(function(t){e.complete([204,"网络错误"]),ae.Utils.log(t.toString()),ae.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([a.CRVideo_INNER_ERR,t.toString()])}return e},ae.LHProxy.prototype.pausePlayMedia=function(e){var t=new ae.AsyncResult;try{this._mediaCtrl.pausePlayMedia(e).then(function(){t.complete([0,""])}.bind(this)).exception(function(e){t.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([a.CRVideo_INNER_ERR,e.toString()])}return t},ae.LHProxy.prototype.subscribeMedia=function(e){var t=new ae.AsyncResult;try{this._mediaCtrl.subscribeMedia(e).then(function(){t.complete([0,""])}.bind(this)).exception(function(e){t.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([a.CRVideo_INNER_ERR,e.toString()])}return t},ae.LHProxy.prototype.setContainerSize=function(e,t){var n=new ae.AsyncResult;try{this._whiteBoardCtrl.setContainerSize(e,t).then(function(){n.complete([0,""])}.bind(this)).exception(function(e){n.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){n.complete([a.CRVideo_INNER_ERR,e.toString()])}return n},ae.LHProxy.prototype.create=function(e){var t=this;return new Promise((function(n,i){wID=e.wID,wType=m.WBBOARD_TYPE.valueOf(e.wType||0),docType=m.WBBOARD_DOCTYPE.valueOf(e.docType||0),name=e.name,docName=e.docName,width=e.width,height=e.height,scaleType=m.WB_SCALE_TYPE.valueOf(e.scaleType||1),rotation=e.rotation,pageCount=e.pageCount,curPage=e.curPage,animID=e.animID,animFrames=e.animFrames,showThum=e.showThum,bAll=e.bAll,allowTerms=e.allowTerms||[];var r=new m.TabID(wID.termID,wID.localID),o=new m.WhiteBoardDescribe(r,wType,docType,name,docName,width,height,scaleType,rotation,pageCount,curPage,animID,animFrames,showThum,bAll,allowTerms);try{t._whiteBoardCtrl.create(o).then(function(){n([0,""])}.bind(t)).exception(function(e){i([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(t))}catch(e){i([a.CRVideo_INNER_ERR,e.toString()])}}))},ae.LHProxy.prototype.importPage=function(e,t){var n=this;return new Promise((function(i,r){for(var o=[],s=e.match(/(\d+)\.(\d+)/),c=new m.TabID(s[1],s[2]),l=0;l<t.length;l++){var u=t[l].pageNo,d=t[l].imgID,h=d?m.WB_BAKIMG_TYPE.WB_BAKIMG_JPG:m.WB_BAKIMG_TYPE.WB_BAKIMG_NULL,f=t[l].elementList||[];o[l]=new m.PageData(u,h,d,f)}try{n._whiteBoardCtrl.importPage(c,o).then(function(){i([0,""])}.bind(n)).exception(function(e){r([204,"网络错误"]),ae.Utils.log(e.toString())}.bind(n))}catch(e){r([a.CRVideo_INNER_ERR,e.toString()])}}))},ae.LHProxy.prototype.close=function(e){var t=new ae.AsyncResult,n=new m.TabID(e.termID,e.localID);try{this._whiteBoardCtrl.close(n).then(function(){t.complete([0,""])}.bind(this)).exception(function(e){t.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([a.CRVideo_INNER_ERR,e.toString()])}return t},ae.LHProxy.prototype.changeName=function(e,t){var n=new ae.AsyncResult;try{this._whiteBoardCtrl.changeName(e,t).then(function(){n.complete([0,""])}.bind(this)).exception(function(e){n.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){n.complete([a.CRVideo_INNER_ERR,e.toString()])}return n},ae.LHProxy.prototype.changeScale=function(e,t){var n=new ae.AsyncResult,i=new m.WB_SCALE_TYPE(t);try{this._whiteBoardCtrl.changeScale(e,i).then(function(){n.complete([0,""])}.bind(this)).exception(function(e){n.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){n.complete([a.CRVideo_INNER_ERR,e.toString()])}return n},ae.LHProxy.prototype.changeRatote=function(e,t){var n=new ae.AsyncResult,i=new m.WB_ROTATE_TYPE(t);try{this._whiteBoardCtrl.changeRatote(e,i).then(function(){n.complete([0,""])}.bind(this)).exception(function(e){n.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){n.complete([a.CRVideo_INNER_ERR,e.toString()])}return n},ae.LHProxy.prototype.setCurrentPage=function(e,t,n,i){var r=this;return new Promise((function(o,s){try{var c=e.match(/(\d+)\.(\d+)/),l=new m.TabID(c[1],c[2]);r._whiteBoardCtrl.setCurrentPage(l,t,n,i).then(function(){o([0,""])}.bind(r)).exception(function(e){o([204,"网络错误"]),ae.Utils.log(e.toString())}.bind(r))}catch(e){o([a.CRVideo_INNER_ERR,e.toString()])}}))},ae.LHProxy.prototype.showThumPage=function(e,t){var n=new ae.AsyncResult;try{this._whiteBoardCtrl.showThumPage(e,t).then(function(){n.complete([0,""])}.bind(this)).exception(function(e){n.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){n.complete([a.CRVideo_INNER_ERR,e.toString()])}return n},ae.LHProxy.prototype.addElement=function(e,t,n){var i=new ae.AsyncResult,r=new m.ElementID(n.eID.ownerID,n.eID.ID),o=new m.ElementData(r,n.orderId,n.left,n.top,n.type,n.noused,n.data);try{this._whiteBoardCtrl.addElement(e,t,o).then(function(){i.complete([0,""])}.bind(this)).exception(function(e){i.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){i.complete([a.CRVideo_INNER_ERR,e.toString()])}return i},ae.LHProxy.prototype.addElementEx=function(e,t,n){for(var i=new ae.AsyncResult,r=[],o=0;o<n.length;o++){var s=new m.ElementID(n[o].eID.ownerID,n[o].eID.ID);r.push(new m.ElementData(s,element[o].orderId,element[o].left,element[o].top,element[o].type,element[o].noused,element[o].data))}try{this._whiteBoardCtrl.addElementEx(e,t,r).then(function(){i.complete([0,""])}.bind(this)).exception(function(e){i.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){i.complete([a.CRVideo_INNER_ERR,e.toString()])}return i},ae.LHProxy.prototype.moveElement=function(e,t,n){var i=new ae.AsyncResult,r=new m.ElementPos(n);try{this._whiteBoardCtrl.moveElement(e,t,r).then(function(){i.complete([0,""])}.bind(this)).exception(function(e){i.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){i.complete([a.CRVideo_INNER_ERR,e.toString()])}return i},ae.LHProxy.prototype.modifyElement=function(e,t,n){var i=new ae.AsyncResult,r=new m.ElementID(n.eID.ownerID,n.eID.ID),o=new m.ElementData(r,n.orderId,n.left,n.top,n.type,n.noused,n.data);try{this._whiteBoardCtrl.modifyElement(e,t,o).then(function(){i.complete([0,""])}.bind(this)).exception(function(e){i.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){i.complete([a.CRVideo_INNER_ERR,e.toString()])}return i},ae.LHProxy.prototype.delElement=function(e,t,n){for(var i=new ae.AsyncResult,r=[],o=0;o<n.length;o++)r.push(new m.ElementID(n[o].ownerID,n[o].ID));try{this._whiteBoardCtrl.delElement(e,t,r).then(function(){i.complete([0,""])}.bind(this)).exception(function(e){i.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){i.complete([a.CRVideo_INNER_ERR,e.toString()])}return i},ae.LHProxy.prototype.setElementZPos=function(e,t,n){var i=new ae.AsyncResult,r=new m.WB_ELEMENT_ZPOS(n);try{this._whiteBoardCtrl.setElementZPos(e,t,r).then(function(){i.complete([0,""])}.bind(this)).exception(function(e){i.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){i.complete([a.CRVideo_INNER_ERR,e.toString()])}return i},ae.LHProxy.prototype.setIndicator=function(e,t){var n=new ae.AsyncResult,i=new m.IndicatorData(t);try{this._whiteBoardCtrl.setIndicator(e,i).then(function(){n.complete([0,""])}.bind(this)).exception(function(e){n.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){n.complete([a.CRVideo_INNER_ERR,e.toString()])}return n},ae.LHProxy.prototype.setHotspot=function(e,t,n,i){var r=new ae.AsyncResult;try{this._whiteBoardCtrl.setHotspot(e,t,n,i).then(function(){r.complete([0,""])}.bind(this)).exception(function(e){r.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){r.complete([a.CRVideo_INNER_ERR,e.toString()])}return r},ae.LHProxy.prototype.queryIndicator=function(e){var t=new ae.AsyncResult;try{this._whiteBoardCtrl.queryIndicator(e).then(function(e){for(var n=[],i=0;i<e.length;i++)n.push(new m.IndicatorData(e[i]));t.complete([0,"",n])}.bind(this)).exception(function(e){t.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([a.CRVideo_INNER_ERR,e.toString()])}return t},ae.LHProxy.prototype.queryAllBoardList=function(){var e=new ae.AsyncResult;try{this._whiteBoardCtrl.queryAllBoardList().then(function(t){for(var n=[],i=0;i<t.length;i++)n.push(new m.WhiteBoardDescribe(t[i]));e.complete([0,"",n])}.bind(this)).exception(function(t){e.complete([204,"网络错误"]),ae.Utils.log(t.toString()),ae.Utils.log(t.stack)}.bind(this))}catch(t){e.complete([a.CRVideo_INNER_ERR,t.toString()])}return e},ae.LHProxy.prototype.queryElementByIDs=function(e,t){var n=new ae.AsyncResult;try{this._whiteBoardCtrl.queryElementByIDs(e,t).then(function(e){var t=e.values()[0];n.complete([0,"",t])}.bind(this)).exception(function(e){n.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){n.complete([a.CRVideo_INNER_ERR,e.toString()])}return n},ae.LHProxy.prototype.queryPageElementByIDs=function(e,t,n){for(var i=new ae.AsyncResult,r=[],o=0;o<describeSeq.length;o++)r.push(new m.ElementID(n[o]));try{this._whiteBoardCtrl.queryPageElementByIDs(e,t,r).then(function(e){for(var t=0;t<describeSeq.length;t++)r.push(new m.ElementID(n[t].ownerID,n[t].ID));i.complete([0,"",[]])}.bind(this)).exception(function(e){i.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){i.complete([a.CRVideo_INNER_ERR,e.toString()])}return i},ae.LHProxy.prototype.setMarkTerms=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=new ae.AsyncResult;try{var r=e.match(/(\d+)\.(\d+)/),o=new m.TabID(r[1],r[2]);this._whiteBoardCtrl.setMarkTerms(o,t,n).then(function(){i.complete([0,""])}.bind(this)).exception(function(e){i.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){i.complete([a.CRVideo_INNER_ERR,e.toString()])}return i},ae.LHProxy.prototype.setCurrentTab=function(e,t){var n=new ae.AsyncResult;e=new m.TabID(e.termID,e.localID),t=t?new m.TabID(t.termID,t.localID):void 0;try{this._syncCtrl.setCurrentTab(e,t).then(function(){n.complete([0,""])}.bind(this)).exception(function(e){n.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){n.complete([a.CRVideo_INNER_ERR,e.toString()])}return n},ae.LHProxy.prototype.allowDemoActor=function(e,t){var n=new ae.AsyncResult;try{this._conferenceRequest.allowDemoActor(e,t).then(function(){n.complete([0,""])}.bind(this)).exception(function(e){n.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){n.complete([a.CRVideo_INNER_ERR,e.toString()])}return n},ae.LHProxy.prototype.startShare=function(){var e=this;return new Promise((function(t,n){try{e._conferenceRequest.startShare().then((function(){t(0)})).exception((function(e){t(1,"未知错误")}))}catch(e){t(a.CRVideo_INNER_ERR,e.toString())}}))},ae.LHProxy.prototype.stopShare=function(){var e=this;return new Promise((function(t,n){try{e._conferenceRequest.stopShare().then((function(){t([0])})).exception((function(e){t([1,"未知错误"])}))}catch(e){t([a.CRVideo_INNER_ERR,e.toString()])}}))},ae.LHProxy.prototype.saveLastTabValue=function(e){var t=new ae.AsyncResult;try{this._syncCtrl.saveLastTabValue(e).then(function(){t.complete([0,""])}.bind(this)).exception(function(e){t.complete([204,"网络错误"]),ae.Utils.log(e.toString()),ae.Utils.log(e.stack)}.bind(this))}catch(e){t.complete([a.CRVideo_INNER_ERR,e.toString()])}return t},c){var Ur,Vr={userInfo:{},w3:!1,wk:!1,ie:!1,ff:!1,win:!1,mac:!1};i.exports=(o(Ur={CRVideo:Vr,Ice:_,Cr:ae,SendCmd:I,CR__Init:function(e,t){return new Promise((function(t,n){try{ae._proxy=new ae.LHProxy(e),ae._proxy.init().then((function(e,n){ae._proxy.registeredCallback("receiveIMMsg",(function(e){Se.call(e)})),ae._proxy.registeredCallback("notifyIMForbidStatus",(function(e){ke.call(e)})),ae._proxy.registeredCallback("notifyClearIMMsg",(function(){Te.call()})),ae._proxy.registeredCallback("optionChanged",(function(e){xe.call(e)})),ae._proxy.registeredCallback("conferenceEnded",(function(e){Pe.call(e)})),ae._proxy.registeredCallback("entered",(function(e){we.call(e)})),ae._proxy.registeredCallback("left",(function(e){Re.call(e)})),ae._proxy.registeredCallback("notifyStartBroadCast",(function(){De.call()})),ae._proxy.registeredCallback("notifyStopBroadCast",(function(){Oe.call()})),ae._proxy.registeredCallback("notifyBroadCastStartPush",(function(){Me.call()})),ae._proxy.registeredCallback("notifyBroadCastStopPush",(function(){Ae.call()})),ae._proxy.registeredCallback("askQuesNotify",(function(e){id=e[0],askQue=e[1],Fe.call([id,new ae.Quesask(askQue)])})),ae._proxy.registeredCallback("lockQuesNotify",(function(e){id=e[0],queDeal=e[1],je.call([id,new ae.QuesDeal(queDeal)])})),ae._proxy.registeredCallback("replyQuesNotify",(function(e){id=e[0],queDeal=e[1],Be.call([id,new ae.QuesDeal(queDeal)])})),ae._proxy.registeredCallback("modifyQuesNotify",(function(e){id=e[0],queDeal=e[1],He.call([id,new ae.QuesDeal(queDeal)])})),ae._proxy.registeredCallback("delQuesNotify",(function(e){id=e[0],termId=e[1],qe.call([id,termId])})),ae._proxy.registeredCallback("delAllQuesNotify",(function(e){termId=e[0],We.call([termId])})),ae._proxy.registeredCallback("publicQuesNotify",(function(e){id=e[0],bPublic=e[1],termId=e[2],ze.call([id,bPublic,termId])})),ae._proxy.registeredCallback("quesTypeChangeNotify",(function(e){id=e[0],typeID=e[1],Ge.call([termId])})),ae._proxy.registeredCallback("modifyQuesTypeNotify",(function(e){termId=e[0],quesType=e[1],Ke.call([termId])})),ae._proxy.registeredCallback("setBroadCastQuesNotify",(function(e){bEnable=e[0],Qe.call([bEnable])})),ae._proxy.registeredCallback("notifyPlayBackStartPush",(function(e){url=e[0],Ye.call([url])})),ae._proxy.registeredCallback("notifypayback",(function(e){Ze.call()})),ae._proxy.registeredCallback("notifyDeleteIMMsg",(function(e){count=e[0],Je.call([count])})),ae._proxy.registeredCallback("notifyBroadCastPlaybackStop",(function(e){url=e[0],$e.call([url])})),ae._proxy.registeredCallback("notifySwtichLiveAppElements",(function(e){ele=e[0],status=e[1],et.call([ele,status])})),ae._proxy.registeredCallback("notifyThumbUp",(function(e){num=e[0],total=e[1],info=e[2],tt.call([num,total,info])})),ae._proxy.registeredCallback("notifyLuckyDrawCfg",(function(e){nt.call(e)})),ae._proxy.registeredCallback("notifyLDMembersStatus",(function(e){ot.call(e)})),ae._proxy.registeredCallback("notifyNicknameChanged",(function(e){st.call(e)})),ae._proxy.registeredCallback("notifyLuckyDrawResult",(function(e){ct.call(e)})),ae._proxy.registeredCallback("notifyTerminalMsg",(function(e){at.call(e)})),ae._proxy.registeredCallback("notifyShareStateChanged",(function(e){lt.call(e)})),ae._proxy.registeredCallback("ModifyPeerAddr",(function(e){St.call(e)})),ae._proxy.registeredCallback("ModifyPeerAddrExt",(function(e){It.call(e)})),ae._proxy.registeredCallback("AudioAllocRaw",(function(e){_t.call(e)})),ae._proxy.registeredCallback("AudioAllocRawExt",(function(e){gt.call(e)})),ae._proxy.registeredCallback("AudioAllocRawExt2",(function(e){yt.call(e)})),ae._proxy.registeredCallback("VideoAllocRaw",(function(e){Ct.call(e)})),ae._proxy.registeredCallback("VideoAllocRawExt",(function(e){vt.call(e)})),ae._proxy.registeredCallback("VideoAllocRawExt2",(function(e){mt.call(e)})),ae._proxy.registeredCallback("NotifyRTMPStreamPublishFinished",(function(e){Et.call(e)})),ae._proxy.registeredCallback("EnableSendVideo2Internet",(function(e){Dt.call(e)})),ae._proxy.registeredCallback("DisableSendVideo2Internet",(function(e){bt.call(e)})),ae._proxy.registeredCallback("EnableSendScreen2Internet",(function(e){Rt.call(e)})),ae._proxy.registeredCallback("DisableSendScreen2Internet",(function(e){wt.call(e)})),ae._proxy.registeredCallback("EnableSendFilm2Internet",(function(e){xt.call(e)})),ae._proxy.registeredCallback("DisableSendFilm2Internet",(function(e){Pt.call(e)})),ae._proxy.registeredCallback("Free",(function(e){Ot.call(e)})),ae._proxy.registeredCallback("notifyAllowVideoWall",(function(e){Mt.call(e)})),ae._proxy.registeredCallback("VideoUpdateStatus",(function(e){At.call(e)})),ae._proxy.registeredCallback("notifyOpenVideo",(function(e){Nt.call(e)})),ae._proxy.registeredCallback("startVideoByManager",(function(e){kt.call(e)})),ae._proxy.registeredCallback("notifyEnableVideo",(function(e){Tt.call(e)})),ae._proxy.registeredCallback("updateFocusWindow",(function(e){"VSPEAKER_TRACK"==e[0]._name?e[0]=1:"VPRESENTER_LOCK"==e[0]._name?e[0]=2:"VMANAGER_LOCK"==e[0]._name&&(e[0]=3),Lt.call(e)})),ae._proxy.registeredCallback("updateVLayout",(function(e){Ut.call(e)})),ae._proxy.registeredCallback("updateVLayout2",(function(e){Vt.call(e)})),ae._proxy.registeredCallback("updateMainVideoShowMode",(function(e){Ft.call(e)})),ae._proxy.registeredCallback("updateVideoListMode",(function(e){jt.call(e)})),ae._proxy.registeredCallback("enableUpload",(function(e){Bt.call(e)})),ae._proxy.registeredCallback("enableUpload2",(function(e){Ht.call(e)})),ae._proxy.registeredCallback("generateIFrame",(function(e){qt.call(e)})),ae._proxy.registeredCallback("notifyRefuseOpenVideo",(function(e){Wt.call(e)})),ae._proxy.registeredCallback("getVideoSetting",(function(e){Or.call(e)})),ae._proxy.registeredCallback("notifySetCamera",(function(e){zt.call(e)})),ae._proxy.registeredCallback("notifySetCameraById",(function(e){Gt.call(e)})),ae._proxy.registeredCallback("notifyVideoPolling",(function(e){Kt.call(e)})),ae._proxy.registeredCallback("notifyPollingVideo",(function(e){Qt.call(e)})),ae._proxy.registeredCallback("notifyVideoList",(function(e){Yt.call(e)})),ae._proxy.registeredCallback("notifyUpdateAllCameraInfos",(function(e){Jt.call(e)})),ae._proxy.registeredCallback("notifySetOpenedCameraNumber",(function(e){Xt.call(e)})),ae._proxy.registeredCallback("notifyStartAdjustDirection",(function(e){Zt.call(e)})),ae._proxy.registeredCallback("notifyStartAdjustZoom",(function(e){$t.call(e)})),ae._proxy.registeredCallback("notifyStopAdjustDirection",(function(e){en.call(e)})),ae._proxy.registeredCallback("notifyStopAdjustZoom",(function(e){tn.call(e)})),ae._proxy.registeredCallback("AudioUpdateStatus",(function(e){Nn.call(e)})),ae._proxy.registeredCallback("updateVoiceEnergy",(function(e){kn.call(e)})),ae._proxy.registeredCallback("updateSpeaker",(function(e){Tn.call(e)})),ae._proxy.registeredCallback("NotifyCloseAll",(function(e){Ln.call(e)})),ae._proxy.registeredCallback("playBackgroundMusic",(function(e){Un.call(e)})),ae._proxy.registeredCallback("notifyVoiceHowling",(function(e){Vn.call(e)})),ae._proxy.registeredCallback("notifyVoiceNoise",(function(e){Fn.call(e)})),ae._proxy.registeredCallback("getRemoteAudioInfNotify",(function(e){jn.call(e)})),ae._proxy.registeredCallback("remoteAudioSetNotify",(function(e){Bn.call(e)})),ae._proxy.registeredCallback("notifyLanLessMicOpen",(function(e){Hn.call(e)})),ae._proxy.registeredCallback("notifyStartScreenShare",(function(e){oi.call(e)})),ae._proxy.registeredCallback("notifyStopScreenShare",(function(e){si.call(e)})),ae._proxy.registeredCallback("notifyCtrlReqState",(function(e){var t=e[0],n=e[1];di.call(t,n)})),ae._proxy.registeredCallback("notifyRequestCtrlRight",(function(e){})),ae._proxy.registeredCallback("notifyCancelCtrlReq",(function(e){})),ae._proxy.registeredCallback("notifyRejectCtrlReq",(function(e){})),ae._proxy.registeredCallback("notifyGiveCtrlRight",(function(e){})),ae._proxy.registeredCallback("notifyReleaseCtrlRight",(function(e){})),ae._proxy.registeredCallback("notifyCtrlMsg",(function(e){})),ae._proxy.registeredCallback("notifyTmpSetRemoteCtrlState",(function(e){})),ae._proxy.registeredCallback("notifyRequestMarked",(function(e){})),ae._proxy.registeredCallback("notifyCancelMarkedReq",(function(e){})),ae._proxy.registeredCallback("notifyStartMarked",(function(e){ci.call(e)})),ae._proxy.registeredCallback("notifyStopMarked",(function(e){ai.call(e)})),ae._proxy.registeredCallback("notifyEnableOtherMarked",(function(e){})),ae._proxy.registeredCallback("notifyScMakeIFrame",(function(e){})),ae._proxy.registeredCallback("notifyMarkData",(function(e){li.call(e)})),ae._proxy.registeredCallback("notifyClearAllMarks",(function(e){ui.call(e)})),ae._proxy.registeredCallback("notifyIndicator",(function(e){})),ae._proxy.registeredCallback("notifyStartPlayMedia",(function(e){var t=e[0].termid,n=e[0].mediaName;gi.call([t,n])})),ae._proxy.registeredCallback("notifyStopPlayMedia",(function(e){yi.call(e)})),ae._proxy.registeredCallback("notifyPausePlayMedia",(function(e){e[0],e[1];Ci.call(e)})),ae._proxy.registeredCallback("notifyMediaMakeIFrame",(function(){vi.call()})),ae._proxy.registeredCallback("notifySubscribeMedia",(function(e){mi.call(e)})),ae._proxy.registeredCallback("notifySetContainerSize",(function(e){wi.call(e)})),ae._proxy.registeredCallback("notifyCreate",(function(e){xi.call(e)})),ae._proxy.registeredCallback("notifyImportPage",(function(e){Pi.call(e)})),ae._proxy.registeredCallback("notifyClose",(function(e){Di.call(e)})),ae._proxy.registeredCallback("notifyChangeName",(function(e){Oi.call(e)})),ae._proxy.registeredCallback("notifyChangeScale",(function(e){Mi.call(e)})),ae._proxy.registeredCallback("notifyChangeRotate",(function(e){Ai.call(e)})),ae._proxy.registeredCallback("notifySetCurrentPage",(function(e){Ni.call(e)})),ae._proxy.registeredCallback("notifyShowThumPage",(function(e){ki.call(e)})),ae._proxy.registeredCallback("notifyAddElement",(function(e){Ti.call(e)})),ae._proxy.registeredCallback("notifyAddElementEx",(function(e){Li.call(e)})),ae._proxy.registeredCallback("notifyMoveElement",(function(e){Ui.call(e)})),ae._proxy.registeredCallback("notifyModifyElement",(function(e){Vi.call(e)})),ae._proxy.registeredCallback("notifyDelElement",(function(e){Fi.call(e)})),ae._proxy.registeredCallback("notifySetElementZPos",(function(e){ji.call(e)})),ae._proxy.registeredCallback("notifySetIndicator",(function(e){Bi.call(e)})),ae._proxy.registeredCallback("notifySetHotspot",(function(e){Hi.call(e)})),ae._proxy.registeredCallback("notifySetCurrentTab",(function(e){dr.call(e)})),ae._proxy.registeredCallback("notifySetFullScreen",(function(e){console.crlog("notifySetFullScreen",e),hr.call(e)})),ae._proxy.registeredCallback("notifySetPrivTabInfo",(function(e){console.crlog("notifySetPrivTabInfo",e),fr.call(e)})),ae._proxy.registeredCallback("actorChanged",(function(e){_r.call(e)})),ae._proxy.registeredCallback("notifyApplyDemo",(function(e){gr.call(e)})),t()}))}catch(e){ae.Utils.log(e),n(errCode)}}))},CR__UnInit:Dr,CR__Login:function(e,t,n,i,r,o){ae._proxy._loinging||ae._proxy.login(e,t,n,i,r,(function(e){le.call([0,e,o])}),(function(e){console.crlog("[Error] Join Meet Fail: ".concat(JSON.stringify(e))),le.call([e.errCode,void 0,o])}))},CR__RefreshSession:function(){ae._proxy.refreshSession().then((function(e,t){ue.call([e,t])}))},CR__KeepAlive:function(e){void 0===e&&(e=1),ae._proxy.keepAlive(e).then((function(e,t){de.call([e,t])}))},CR__ChangeNickname:function(e,t){ae._proxy.changeNickname(e,t).then((function(e,t){he.call([e,t])}))},CR__ChangeMemberRights:function(){var e;return(e=ae._proxy).changeMemberRights.apply(e,arguments)},CR__ChangeOption:function(e){return ae._proxy.changeOption(e)},CR__SetDemoActor:function(e){ae._proxy.setDemoActor(e).then((function(e,t){fe.call([e,t])}))},CR__SetHostActor:function(e,t,n){ae._proxy.setHostActor(e,t).then((function(e){pe.call([e,n])}))},CR__SetAssistantActor:function(e,t,n){ae._proxy.setAssistantActor(e,t).then((function(e){_e.call([e,n])}))},CR__Kickout:function(e){ae._proxy.kickout(e).then((function(e,t){ge.call([e,t])}))},CR__LockRoom:function(e){ae._proxy.lockRoom(e).then((function(e,t){ye.call([e,t])}))},CR__Exit:function(e){void 0===e&&(e=""),ae._proxy.exit(e).then((function(e,t){Ce.call([e,t])}))},CR__GetActiveMembers:function(){ae._proxy.getActiveMembers().then((function(e,t,n){if(0==e){for(var i=0;i<n.length;i++)Cr(n[i]);ve.call([e,n])}else ve.call([e])}))},CR__EndConference:function(){return new Promise((function(e,t){ae._proxy.endConference().then((function(t){e(t)}))}))},CR__SendIMMsg:function(e,t,n,i,r,o){var s=_.generateUUID();return ae._proxy.SendIMMsg(e,t,n,i,r).then((function(e,t){Ie.call([e,t,s,o])})),s},CR__GetIMMsgCount:function(){ae._proxy.getIMMsgCount().then((function(e,t,n){0==e?Xe.call([e,t,n]):Xe.call([e,t])}))},CR__GetLastMsg:function(e){ae._proxy.getLastMsg(e).then((function(e,t,n){0==e?Ee.call([e,t,n]):Ee.call([e,t])}))},CR__GetLastNMsg:function(e,t){ae._proxy.getLastNMsg(e,t).then((function(e,t,n){0==e?be.call([e,t,n]):be.call([e,t])}))},CR__StartSvrRecord:function(e){return ae._proxy.startSvrRecord(e)},CR__UpdateSvrRecCfg:function(e){return ae._proxy.updateSvrRecCfg(e)},CR__StopSvrRecord:function(){return ae._proxy.stopSvrRecord()},CR__TerminalMsg:function(e,t,n,i,r){ae._proxy.terminalMsg(e,t,n,i).then(r)},CR__GetMeetingAttrs:function(e){return new Promise((function(t,n){ae._proxy._conferenceRequest.getMeetingAttrs(e).then((function(e){var n={};e.forEach((function(e,t){n[e]=t})),t(n)})).exception((function(e){console.crlog(e.toString()),n(1)}))}))},CR__GetMeetingAllAttrs:function(){return new Promise((function(e,t){ae._proxy._conferenceRequest.getMeetingAllAttrs().then((function(t){var n={};t.forEach((function(e,t){n[e]=t})),e(n)})).exception((function(e){console.crlog(e.toString()),t(1)}))}))},CR__SetMeetingAttrs:function(e,t){var n=new m.StringStringMap;for(var i in e)n.set(i,e[i]);return new Promise((function(e,i){ae._proxy._conferenceRequest.setMeetingAttrs(n,t).then((function(){e()})).exception((function(e){console.crlog(e.toString()),i(1)}))}))},CR__AddOrUpdateMeetingAttrs:function(e,t){var n=new m.StringStringMap;for(var i in e)n.set(i,e[i]);return new Promise((function(e,i){ae._proxy._conferenceRequest.addOrUpdateMeetingAttrs(n,t).then((function(){e()})).exception((function(e){console.crlog(e.toString()),i(1)}))}))},CR__DelMeetingAttrs:function(e,t){return new Promise((function(n,i){ae._proxy._conferenceRequest.delMeetingAttrs(e,t).then((function(){n()})).exception((function(e){console.crlog(e.toString()),i(1)}))}))},CR__ClearMeetingAttrs:function(e){return new Promise((function(t,n){ae._proxy._conferenceRequest.clearMeetingAttrs(e).then((function(){t()})).exception((function(e){console.crlog(e.toString()),n(1)}))}))},CR__GetUserAttrs:function(e,t){return new Promise((function(n,i){function r(e){var t={};e.forEach((function(e,n){t[e]={},n.forEach((function(n,i){t[e][n]=i}))})),n(t)}t&&0!==t.length?ae._proxy._conferenceRequest.getUserAttrsWithKey(e,t).then(r).exception((function(e){console.crlog(e.toString()),i(1)})):ae._proxy._conferenceRequest.getUserAttrs(e).then(r).exception((function(e){console.crlog(e.toString()),i(1)}))}))},CR__SetUserAttrs:function(e,t,n){var i=new m.StringStringMap;for(var r in t)i.set(r,t[r]);return new Promise((function(t,r){ae._proxy._conferenceRequest.setUserAttrs(e,i,n).then((function(){t()})).exception((function(e){console.crlog(e.toString()),r(1)}))}))},CR__AddOrUpdateUserAttrs:function(e,t,n){var i=new m.StringStringMap;for(var r in t)i.set(r,t[r]);return new Promise((function(t,r){ae._proxy._conferenceRequest.addOrUpdateUserAttrs(e,i,n).then((function(){t()})).exception((function(e){console.crlog(e.toString()),r(1)}))}))},CR__DelUserAttrs:function(e,t,n){return new Promise((function(i,r){ae._proxy._conferenceRequest.delUserAttrs(e,t,n).then((function(){i()})).exception((function(e){console.crlog(e.toString()),r(1)}))}))},CR__ClearUserAttrs:function(e,t){return new Promise((function(n,i){ae._proxy._conferenceRequest.clearUserAttrs(e,t).then((function(){n()})).exception((function(e){console.crlog(e.toString()),i(1)}))}))},CR__ClearAllUserAttrs:function(e){return new Promise((function(t,n){ae._proxy._conferenceRequest.clearAllUserAttrs(e).then((function(){t()})).exception((function(e){console.crlog(e.toString()),n(1)}))}))},CR__StartCloudRecord:function(e,t){return new Promise((function(n,i){ae._proxy._conferenceRequest.startCloudRecord(e,t).then((function(){n()})).exception((function(e){console.crlog(e.toString()),i(e.toString().indexOf("Conference::SeviceNotEnabled")>-1?a.CRVideo_SEVICE_NOTENABLED:1)}))}))},CR__UpdateCloudRecord:function(e,t){return ae._proxy._conferenceRequest.updateCloudRecord(e,t)},CR__StopCloudRecord:function(e){return new Promise((function(t,n){ae._proxy._conferenceRequest.stopCloudRecord(e).then((function(){t()})).exception((function(e){console.crlog(e.toString()),n(1)}))}))},CR__SetVideoDeviceStatus:function(e){ae._proxy.setVideoDeviceStatus(e).then((function(e,t){nn.call([e,t])}))},CR__AllowVideoWall:function(e){ae._proxy.allowVideoWall(e).then((function(e,t){rn.call([e,t])}))},CR__StartVideo:function(){ae._proxy.startVideo().then((function(e,t){on.call([e,t])}))},CR__StopVideo:function(){ae._proxy.stopVideo().then((function(e,t){sn.call([e,t])}))},CR__ReqOpenVideo:function(e){ae._proxy.reqOpenVideo(e).then((function(e,t){cn.call([e,t])}))},CR__StartVideoEx:function(e){ae._proxy.startVideoEx(e).then((function(e,t){an.call([e,t])}))},CR__StopVideoEx:function(e){ae._proxy.stopVideoEx(e).then((function(e,t){ln.call([e,t])}))},CR__EnableVideo:function(e){ae._proxy.enableVideo(e).then((function(e,t){un.call([e,t])}))},CR__SetFocusWindow:function(e,t){ae._proxy.setFocusWindow(e,t).then((function(e,t){dn.call([e,t])}))},CR__BatchSubscribeVideo:function(e,t){ae._proxy.batchSubscribeVideo(e,t).then((function(e,t){hn.call([e,t])}))},CR__BatchSubscribeVideo2:function(e,t,n){ae._proxy.batchSubscribeVideo2(e,t,n).then((function(e,t){fn.call([e,t])}))},CR__SubscribeFocusWindow:function(e){ae._proxy.subscribeFocusWindow(e).then((function(e,t){pn.call([e,t])}))},CR__SetVLayout:function(e){ae._proxy.setVLayout(e).then((function(e,t){gn.call([e,t])}))},CR__SetVLayout2:function(e){ae._proxy.setVLayout2(e).then((function(e,t){gn.call([e,t])}))},CR__SetMainVideoShowMode:function(e){ae._proxy.setMainVideoShowMode(e).then((function(e,t){yn.call([e,t])}))},CR__SetVideoListMode:function(e){ae._proxy.setVideoListMode(e).then((function(e,t){Cn.call([e,t])}))},CR__RefuseOpenVideo:function(e){ae._proxy.refuseOpenVideo(e).then((function(e,t){vn.call([e,t])}))},CR__GetVideoSetting:Or,CR__SetCamera:Mr,CR__SetCameraById:Ar,CR__SetVideoPolling:function(e,t){ae._proxy.setVideoPolling(e,t).then((function(e,t){En.call([e,t])}))},CR__UpdatePollingVideo:function(e){ae._proxy.updatePollingVideo(e).then((function(e,t){bn.call([e,t])}))},CR__UpdateVideoList:function(e){ae._proxy.updateVideoList(e).then((function(e,t){Rn.call([e,t])}))},CR__GetVideoPollingState:function(e,t){ae._proxy.getVideoPollingState(e,t).then((function(e,t){wn.call([e,t])}))},CR__UpdateAllCameraInfos:function(e){ae._proxy.updateAllCameraInfos(e).then((function(e,t){xn.call([e,t])}))},CR__SetOpenedCameraNumber:function(e){ae._proxy.setOpenedCameraNumber(e).then((function(e,t){Pn.call([e,t])}))},CR__StartAdjustDirection:function(e,t){ae._proxy.startAdjustDirection(e,t).then((function(e,t){Dn.call([e,t])}))},CR__StartAdjustZoom:function(e,t){ae._proxy.startAdjustZoom(e,t).then((function(e,t){On.call([e,t])}))},CR__StopAdjustDirection:function(e){ae._proxy.stopAdjustDirection(e).then((function(e,t){Mn.call([e,t])}))},CR__StopAdjustZoom:function(e){ae._proxy.stopAdjustZoom(e).then((function(e,t){CR__StopAdjustZoomRslt.call([e,t])}))},CR__VideoResolutionReport:function(e,t,n){ae._proxy.VideoResolutionReport(e,t,n).then((function(e,t){An.call([e,t])}))},CR__SetAudioDeviceStatus:function(e){ae._proxy.setAudioDeviceStatus(e).then((function(e,t){ut.call([e,t])}))},CR__AskForMic:function(){ae._proxy.askForMic().then((function(e,t){dt.call([e,t])}))},CR__OpenMicEx:function(e){ae._proxy.openMicEx(e).then((function(e,t){ht.call([e,t])}))},CR__CloseMicEx:function(e){ae._proxy.closeMicEx(e).then((function(e,t){ft.call([e,t])}))},CR__CloseAll:function(){ae._proxy.closeAll().then((function(e,t){pt.call([e,t])}))},CR__SetVoiceEnergy:function(e){ae._proxy.setVoiceEnergy(e).then((function(e,t){qn.call([e,t])}))},CR__PstnSwitchMicStatus:function(){ae._proxy.pstnSwitchMicStatus().then((function(e,t){Wn.call([e,t])}))},CR__StartRecord:function(){ae._proxy.startRecord().then((function(e,t){zn.call([e,t])}))},CR__IsRecording:function(){ae._proxy.isRecording().then((function(e,t){Gn.call([e,t])}))},CR__StopRecord:function(){ae._proxy.isRecording().then((function(e,t){Kn.call([e,t])}))},CR__PlayApplause:function(){ae._proxy.playApplause().then((function(e,t){Qn.call([e,t])}))},CR__GetMusicList:function(){ae._proxy.getMusicList().then((function(e,t){Yn.call([e,t])}))},CR__GetPlayBGMusic:function(){ae._proxy.getPlayBGMusic().then((function(e,t){Jn.call([e,t])}))},CR__StartBGMusic:function(e,t){ae._proxy.startBGMusic(e,t).then((function(e,t){Xn.call([e,t])}))},CR__StopPlayBGMusic:function(){ae._proxy.stopPlayBGMusic().then((function(e,t){Zn.call([e,t])}))},CR__SetPlayBGMusicVolumn:function(e){ae._proxy.setPlayBGMusicVolumn(e).then((function(e,t){$n.call([e,t])}))},CR__GetPlayBGMusicVolumn:function(){ae._proxy.getPlayBGMusicVolumn().then((function(e,t){ei.call([e,t])}))},CR__VoiceHowling:function(e){ae._proxy.voiceHowling(e).then((function(e,t){ti.call([e,t])}))},CR__VoiceNoise:function(e){ae._proxy.voiceNoise(e).then((function(e,t){ni.call([e,t])}))},CR__RemoteAudioSet:function(e,t){ae._proxy.remoteAudioSet(e,t).then((function(e,t){ii.call([e,t])}))},CR__GetRemoteAudioInf:function(e){ae._proxy.getRemoteAudioInf(e).then((function(e,t){ri.call([e,t])}))},CR__GetScreenShareInfo:function(){ae._proxy.getScreenShareInfo().then((function(e,t,n){0==e?hi.call([e,t,n]):hi.call([e,t])}))},CR__StartScreenShare:function(){ae._proxy.startScreenShare().then((function(e,t){fi.call([e,t])}))},CR__StopScreenShare:function(){ae._proxy.stopScreenShare().then((function(e,t){pi.call([e,t])}))},CR__AskForNewIFrame:function(){ae._proxy.askForNewIFrame().then((function(e){}))},CR__GetAllMarkData:function(e){"v4"===e?ae._proxy.getAllMarkDataV4().then((function(e){_i.call(e)})):ae._proxy.getAllMarkData().then((function(e){_i.call(e)}))},CR__GetMediaInfo:function(){return new Promise((function(e,t){ae._proxy.getMediaInfo().then((function(n,i,r){0==n?(Si.call([n,i,r]),e(r)):(Si.call([n,i]),t({errCode:n,errDesc:i}))}))}))},CR__StartPlayMedia:Nr,CR__StopPlayMedia:kr,CR__PausePlayMedia:Tr,CR__SubscribeMedia:Lr,CR__SetContainerSize:function(e,t){ae._proxy.setContainerSize(e,t).then((function(e,t){qi.call([e,t])}))},CR__Create:function(e){ae._proxy.create(e).then((function(e,t){Wi.call([e,t])}))},CR__ImportPage:function(e,t){ae._proxy.importPage(e,t).then((function(e,t){zi.call([e,t])}))},CR__Close:function(e){ae._proxy.close(e).then((function(e,t){Gi.call([e,t])}))},CR__ChangeName:function(e,t){ae._proxy.changeName(e,t).then((function(e,t){Ki.call([e,t])}))},CR__ChangeScale:function(e,t){ae._proxy.changeScale(e,t).then((function(e,t){Qi.call([e,t])}))},CR__ChangeRatote:function(e,t){ae._proxy.changeRatote(e,t).then((function(e,t){Yi.call([e,t])}))},CR__SetCurrentPage:function(e,t,n,i){ae._proxy.setCurrentPage(e,t,n,i).then((function(e,t){Ji.call([e,t])}))},CR__ShowThumPage:function(e,t){ae._proxy.showThumPage(e,t).then((function(e,t){Xi.call([e,t])}))},CR__AddElement:function(e,t,n){ae._proxy.addElement(e,t,n).then((function(e,t){Zi.call([e,t])}))},CR__AddElementEx:function(e,t,n){ae._proxy.addElementEx(e,t,n).then((function(e,t){$i.call([e,t])}))},CR__MoveElement:function(e,t,n){ae._proxy.moveElement(e,t,n).then((function(e,t){er.call([e,t])}))},CR__ModifyElement:function(e,t,n){ae._proxy.modifyElement(e,t,n).then((function(e,t){tr.call([e,t])}))},CR__DelElement:function(e,t,n){ae._proxy.delElement(e,t,n).then((function(e,t){nr.call([e,t])}))},CR__SetElementZPos:function(e,t,n){ae._proxy.setElementZPos(e,t,n).then((function(e,t){ir.call([e,t])}))},CR__SetIndicator:function(e,t){ae._proxy.setIndicator(e,t).then((function(e,t){rr.call([e,t])}))},CR__SetHotspot:function(e,t,n,i){ae._proxy.setHotspot(e,t,n,i).then((function(e,t){or.call([e,t])}))},CR__QueryIndicator:function(e){ae._proxy.queryIndicator(e).then((function(e,t,n){0==e?sr.call([e,t,n]):sr.call([e,t])}))},CR__QueryAllBoardList:function(){ae._proxy.queryAllBoardList().then((function(e,t,n){0==e?cr.call([e,t,n.map((function(e){return e.wID}))]):cr.call([e,t])}))},CR__QueryElementByIDs:function(e,t,n){ae._proxy.queryElementByIDs(e,t).then((function(e,t,i){0==e?ar.call([e,t,i,n]):ar.call([e,t,void 0,n])}))},CR__QueryPageElementByIDs:function(e,t,n){ae._proxy.queryPageElementByIDs(e,t,n).then((function(e,t,n){0==e?lr.call([e,t,n]):lr.call([e,t])}))},CR__SetMarkTerms:function(e,t,n){ae._proxy.setMarkTerms(e,t,n).then((function(e,t){ur.call([e,t])}))},CR__SetCurrentTab:function(e,t){ae._proxy.setCurrentTab(e,t).then((function(e,t){pr.call([e,t])}))},CR__AllowDemoActor:function(e,t){ae._proxy.allowDemoActor(e,t).then((function(e,t){yr.call([e,t])}))},CR__StartShare:function(){return new Promise((function(e,t){ae._proxy.startShare().then((function(t,n){e(t)}))}))},CR__StopShare:function(){return new Promise((function(e,t){ae._proxy.stopShare().then((function(t,n){e(t)}))}))},CR__SaveLastTabValue:function(e){ae._proxy.saveLastTabValue(e).then((function(e,t){}))},CR__ReceiveIMMsg:Se,CR__UserLeftMeet:Re,CR__UserEnter:we,CR__OptionChanged:xe,CR__MeetEnded:Pe,CR__NotifyStartBroadCast:De,CR__NotifyStopBroadCast:Oe,CR__NotifyBroadCastStartPush:Me,CR__NotifyBroadCastStopPush:Ae,CR__NotifyIMForbidStatus:ke,CR__NotifyClearIMMsg:Te,CR__RightChanged:Le,CR__AskQuesNotify:Fe,CR__LockQuesNotify:je,CR__ReplyQuesNotify:Be,CR__ModifyQuesNotify:He,CR__DelQuesNotify:qe,CR__DelAllQuesNotify:We,CR__PublicQuesNotify:ze,CR__QuesTypeChangeNotify:Ge,CR__ModifyQuesTypeNotify:Ke,CR__SetBroadCastQuesNotify:Qe,CR__NotifyPlayBackStartPush:Ye,CR__NotifyDeleteIMMsg:Je,CR__Notifypayback:Ze,CR__NotifyBroadCastPlaybackStop:$e,CR__NotifySwtichLiveAppElements:et,CR__NotifyThumbUp:tt,CR__NotifyLuckyDrawCfg:nt,CR__NotifyLDMembersStatus:ot,CR__NotifyNickNameChanged:st,CR__NotifyLuckyDrawResult:ct,CR__NotifyTerminalMsg:at,CR__NotifyShareStateChanged:lt,CR__VideoAllocRaw:Ct,CR__VideoAllocRawExt:vt,CR__VideoAllocRawExt2:mt,CR__AudioAllocRaw:_t,CR__AudioAllocRawExt:gt,CR__AudioAllocRawExt2:yt,CR__ModifyPeerAddrExt:It,CR__DisableSendVideo2Internet:bt,CR__EnableSendScreen2Internet:Rt,CR__DisableSendScreen2Internet:wt,CR__EnableSendVideo2Internet:Dt,CR__Free:Ot,CR__ModifyPeerAddr:St,CR__NotifyAllowVideoWall:Mt,CR__VideoUpdateStatus:At,CR__NotifyOpenVideo:Nt,CR__StartVideoByManager:kt,CR__NotifyEnableVideo:Tt,CR__UpdateFocusWindow:Lt,CR__UpdateVLayout:Ut,CR__UpdateVLayout2:Vt,CR__UpdateMainVideoShowMode:Ft,CR__UpdateVideoListMode:jt,CR__EnableUpload:Bt,CR__EnableUpload2:Ht,CR__GenerateIFrame:qt,CR__NotifyRefuseOpenVideo:Wt},"CR__GetVideoSetting",Or),o(Ur,"CR__SetCamera",Mr),o(Ur,"CR__SetCameraById",Ar),o(Ur,"CR__NotifyVideoPolling",Kt),o(Ur,"CR__NotifyPollingVideo",Qt),o(Ur,"CR__NotifyVideoList",Yt),o(Ur,"CR__NotifyUpdateAllCameraInfos",Jt),o(Ur,"CR__NotifySetOpenedCameraNumber",Xt),o(Ur,"CR__NotifyStartAdjustDirection",Zt),o(Ur,"CR__NotifyStartAdjustZoom",$t),o(Ur,"CR__NotifyStopAdjustDirection",en),o(Ur,"CR__NotifyStopAdjustZoom",tn),o(Ur,"CR__AudioUpdateStatus",Nn),o(Ur,"CR__UpdateVoiceEnergy",kn),o(Ur,"CR__UpdateSpeaker",Tn),o(Ur,"CR__NotifyCloseAll",Ln),o(Ur,"CR__PlayBackgroundMusic",Un),o(Ur,"CR__NotifyVoiceHowling",Vn),o(Ur,"CR__NotifyVoiceNoise",Fn),o(Ur,"CR__GetRemoteAudioInfNotify",jn),o(Ur,"CR__RemoteAudioSetNotify",Bn),o(Ur,"CR__NotifyLanLessMicOpen",Hn),o(Ur,"CR__NotifyStartScreenShare",oi),o(Ur,"CR__NotifyStopScreenShare",si),o(Ur,"CR__NotifyStartMarked",ci),o(Ur,"CR__NotifyStopMarked",ai),o(Ur,"CR__NotifyMarkData",li),o(Ur,"CR__NotifyClearAllMarks",ui),o(Ur,"CR__NotifyCtrlReqState",di),o(Ur,"CR__NotifyStartPlayMedia",gi),o(Ur,"CR__NotifyStopPlayMedia",yi),o(Ur,"CR__NotifyPausePlayMedia",Ci),o(Ur,"CR__NotifyMediaMakeIFrame",vi),o(Ur,"CR__NotifySubscribeMedia",mi),o(Ur,"CR__StartPlayMedia",Nr),o(Ur,"CR__StopPlayMedia",kr),o(Ur,"CR__PausePlayMedia",Tr),o(Ur,"CR__SubscribeMedia",Lr),o(Ur,"CR__NotifySetContainerSize",wi),o(Ur,"CR__NotifyCreate",xi),o(Ur,"CR__NotifyImportPage",Pi),o(Ur,"CR__NotifyClose",Di),o(Ur,"CR__NotifyChangeName",Oi),o(Ur,"CR__NotifyChangeScale",Mi),o(Ur,"CR__NotifyChangeRotate",Ai),o(Ur,"CR__NotifySetCurrentPage",Ni),o(Ur,"CR__NotifyShowThumPage",ki),o(Ur,"CR__NotifyAddElement",Ti),o(Ur,"CR__NotifyAddElementEx",Li),o(Ur,"CR__NotifyMoveElement",Ui),o(Ur,"CR__NotifyModifyElement",Vi),o(Ur,"CR__NotifyDelElement",Fi),o(Ur,"CR__NotifySetElementZPos",ji),o(Ur,"CR__NotifySetIndicator",Bi),o(Ur,"CR__NotifySetHotspot",Hi),o(Ur,"CR__NotifyRTMPStreamPublishFinished",Et),o(Ur,"CR__NotifySetCurrentTab",dr),o(Ur,"CR__NotifySetFullScreen",hr),o(Ur,"CR__NotifySetPrivTabInfo",fr),o(Ur,"CR__NotifyActorChanged",_r),o(Ur,"CR__NotifyApplyDemo",gr),o(Ur,"CR__LoginRslt",le),o(Ur,"CR__RefreshSessionRslt",ue),o(Ur,"CR__KeepAliveRslt",de),o(Ur,"CR__ChangeNicknameRslt",he),o(Ur,"CR__SetDemoActorRslt",fe),o(Ur,"CR__SetHostActorRslt",pe),o(Ur,"CR__SetAssistantActorRslt",_e),o(Ur,"CR__KickoutRslt",ge),o(Ur,"CR__LockRoomRslt",ye),o(Ur,"CR__ExitRslt",Ce),o(Ur,"CR__GetActiveMembersRslt",ve),o(Ur,"CR__EndConferenceRslt",me),o(Ur,"CR__SendIMMsgRslt",Ie),o(Ur,"CR__GetLastMsgRslt",Ee),o(Ur,"CR__GetLastNMsgRslt",be),o(Ur,"CR__GetBroadCastUrlRslt",Ne),o(Ur,"CR__AskQuesRslt",Ue),o(Ur,"CR__GetQuesListRslt",Ve),o(Ur,"CR__GetIMMsgCountRslt",Xe),o(Ur,"CR__GetLuckyDrawCfgRslt",it),o(Ur,"CR__JoinLuckyDrawMembersRslt",rt),o(Ur,"CR__SetAudioDeviceStatusRslt",ut),o(Ur,"CR__AskForMicRslt",dt),o(Ur,"CR__OpenMicExRslt",ht),o(Ur,"CR__CloseMicExRslt",ft),o(Ur,"CR__CloseAllRslt",pt),o(Ur,"CR__SetVideoDeviceStatusRslt",nn),o(Ur,"CR__AllowVideoWallRslt",rn),o(Ur,"CR__StartVideoRslt",on),o(Ur,"CR__StopVideoRslt",sn),o(Ur,"CR__ReqOpenVideoRslt",cn),o(Ur,"CR__StartVideoExRslt",an),o(Ur,"CR__StopVideoExExRslt",ln),o(Ur,"CR__EnableVideoRslt",un),o(Ur,"CR__SetFocusWindowRslt",dn),o(Ur,"CR__BatchSubscribeVideoRslt",hn),o(Ur,"CR__BatchSubscribeVideo2Rslt",fn),o(Ur,"CR__SubscribeFocusWindowRslt",pn),o(Ur,"CR__SubscribeFocusWindow2Rslt",_n),o(Ur,"CR__SetVLayoutRslt",gn),o(Ur,"CR__SetMainVideoShowModeRslt",yn),o(Ur,"CR__SetVideoListModeRslt",Cn),o(Ur,"CR__RefuseOpenVideoRslt",vn),o(Ur,"CR__GetVideoSettingRslt",mn),o(Ur,"CR__SetCameraRslt",Sn),o(Ur,"CR__SetCameraByIdRslt",In),o(Ur,"CR__SetVideoPollingRslt",En),o(Ur,"CR__UpdatePollingVideoRslt",bn),o(Ur,"CR__UpdateVideoListRslt",Rn),o(Ur,"CR__GetVideoPollingStateRslt",wn),o(Ur,"CR__UpdateAllCameraInfosRslt",xn),o(Ur,"CR__SetOpenedCameraNumberRslt",Pn),o(Ur,"CR__StartAdjustDirectionRslt",Dn),o(Ur,"CR__StartAdjustZoomRslt",On),o(Ur,"CR__StopAdjustDirectionRslt",Mn),o(Ur,"CR__VideoResolutionReportRslt",An),o(Ur,"CR__SetVoiceEnergyRslt",qn),o(Ur,"CR__PstnSwitchMicStatusRslt",Wn),o(Ur,"CR__StartRecordRslt",zn),o(Ur,"CR__IsRecordingRslt",Gn),o(Ur,"CR__StopRecordRslt",Kn),o(Ur,"CR__PlayApplauseRslt",Qn),o(Ur,"CR__GetMusicListRslt",Yn),o(Ur,"CR__GetPlayBGMusicRslt",Jn),o(Ur,"CR__StartBGMusicRslt",Xn),o(Ur,"CR__StopPlayBGMusicRslt",Zn),o(Ur,"CR__SetPlayBGMusicVolumnRslt",$n),o(Ur,"CR__GetPlayBGMusicVolumnRslt",ei),o(Ur,"CR__VoiceHowlingRslt",ti),o(Ur,"CR__VoiceNoiseRslt",ni),o(Ur,"CR__RemoteAudioSetRslt",ii),o(Ur,"CR__GetRemoteAudioInfRslt",ri),o(Ur,"CR__GetScreenShareInfoRslt",hi),o(Ur,"CR__StartScreenShareRslt",fi),o(Ur,"CR__StopScreenShareRslt",pi),o(Ur,"CR__GetAllMarkDataRslt",_i),o(Ur,"CR__GetMediaInfoRslt",Si),o(Ur,"CR__SetContainerSizeRslt",qi),o(Ur,"CR__CreateRslt",Wi),o(Ur,"CR__ImportPageRslt",zi),o(Ur,"CR__CloseRslt",Gi),o(Ur,"CR__ChangeNameRslt",Ki),o(Ur,"CR__ChangeScaleRslt",Qi),o(Ur,"CR__ChangeRatoteRslt",Yi),o(Ur,"CR__SetCurrentPageRslt",Ji),o(Ur,"CR__ShowThumPageRslt",Xi),o(Ur,"CR__AddElementRslt",Zi),o(Ur,"CR__AddElementExRslt",$i),o(Ur,"CR__MoveElementRslt",er),o(Ur,"CR__ModifyElementRslt",tr),o(Ur,"CR__DelElementRslt",nr),o(Ur,"CR__SetElementZPosRslt",ir),o(Ur,"CR__SetIndicatorRslt",rr),o(Ur,"CR__SetHotspotRslt",or),o(Ur,"CR__QueryIndicatorRslt",sr),o(Ur,"CR__QueryAllBoardListRslt",cr),o(Ur,"CR__QueryElementByIDsRslt",ar),o(Ur,"CR__QueryPageElementByIDsRslt",lr),o(Ur,"CR__SetMarkTermsRslt",ur),o(Ur,"CR__SetCurrentTabRslt",pr),Ur)}}).call(this,n(16).setImmediate,n(6),n(18)(e))},function(e,t){var n={0:0,2:7,3:7,4:801,5:1,6:800,7:1,9:803,11:806,17:803,19:800,10:800,22:852,38:851,71:14,72:15,73:16,74:17,81:19,83:21,84:21,85:18,86:20,87:22,CRVideo_NOERR:0,CRVideo_UNKNOWERR:1,CRVideo_OUTOF_MEM:2,CRVideo_INNER_ERR:3,CRVideo_MISMATCHCLIENTVER:4,CRVideo_MEETPARAM_ERR:5,CRVideo_ERR_DATA:6,CRVideo_ANCTPSWD_ERR:7,CRVideo_SERVER_EXCEPTION:8,CRVideo_LOGINSTATE_ERROR:9,CRVideo_CRVideoSDK_USER_BEEN_KICKOUT:10,CRVideo_CRVIDEOSDK_NOT_LOGIN:12,CRVideo_CRVIDEOSDK_BASE64_COV_ERR:13,CRVIDEOSDK_TOKEN_TIMEOUT:18,CRVIDEOSDK_TOKEN_AUTHINFOERR:19,CRVIDEOSDK_TOKEN_APPIDNOTEXIST:20,CRVIDEOSDK_TOKEN_AUTH_FAILED:21,CRVIDEOSDK_TOKEN_NOTTOKENTYPE:22,CRVideo_NETWORK_INITFAILED:200,CRVideo_NO_SERVERINFO:201,CRVideo_NOSERVER_RSP:202,CRVideo_CREATE_CONN_FAILED:203,CRVideo_SOCKETEXCEPTION:204,CRVideo_SOCKETTIMEOUT:205,CRVideo_FORCEDCLOSECONNECTION:206,CRVideo_CONNECTIONLOST:207,CRVideo_VOICEENG_INITFAILED:208,CRVideo_HOST_PASSWORD_ERROR:300,CRVideo_QUE_ID_INVALID:400,CRVideo_QUE_NOUSER:401,CRVideo_QUE_USER_CANCELLED:402,CRVideo_QUE_SERVICE_NOT_START:403,CRVideo_ALREADY_OTHERQUE:404,CRVideo_INVALID_CALLID:600,CRVideo_ERR_CALL_EXIST:601,CRVideo_ERR_BUSY:602,CRVideo_ERR_OFFLINE:603,CRVideo_ERR_NOANSWER:604,CRVideo_ERR_USER_NOT_FOUND:605,CRVideo_ERR_REFUSE:606,CRVideo_REQUEST_FAIL_NOTLIST:700,CRVideo_REQUEST_FAIL_MAX_CONNECTED:701,CRVideo_CAM_FAIL_APP_NO_PERMISSIONS:702,CRVideo_CAM_FAIL_WX_NO_PERMISSIONS:703,CRVideo_MIC_FAIL_APP_NO_PERMISSIONS:704,CRVideo_MIC_FAIL_WX_NO_PERMISSIONS:705,CRVideo_MEETNOTEXIST:800,CRVideo_AUTHERROR:801,CRVideo_MEMBEROVERFLOWERROR:802,CRVideo_RESOURCEALLOCATEERROR:803,CRVideo_MEETROOMLOCKED:804,CRVideo_BALANCELESSERROR:805,CRVideo_SEVICE_NOTENABLED:806,CRVideo_ALREADYLOGIN:807,CRVideo_EXCEED_CONNECTED:850,CRVideo_ONLY_INVITEE_CAN_LOGIN:851,CRVIDEOSDK_CATCH_SCREEN_ERR:900,CRVIDEOSDK_RECORD_MAX:901,CRVIDEOSDK_RECORD_NO_DISK:902,CRVIDEOSDK_RECORD_SIZE_ERR:903,CRVIDEOSDK_CFG_RESTRICTED:904,CRVIDEOSDK_FILE_ERR:905,CRVIDEOSDK_RECORDSTARTED:906,CRVIDEOSDK_NOMORE_MCU:907,CRVIDEOSDK_SVRRECORD_SPACE_FULL:908,CRVideo_SENDFAIL:1e3,CRVideo_CONTAIN_SENSITIVEWORDS:1001,CRVideo_NOT_CHAT_PERMIT:1002,CRVideo_SENDCMD_LARGE:1100,CRVideo_SENDBUFFER_LARGE:1101,CRVideo_SENDDATA_TARGETINVALID:1102,CRVideo_SENDFILE_FILEINERROR:1103,CRVideo_TRANSID_INVALID:1104,CRVideo_RECORDFILE_STATE_ERR:1200,CRVideo_RECORDFILE_NOT_EXIST:1201,CRVideo_IPCAM_URLERR:1300,CRVideo_IPCAM_ALREADYEXIST:1301,CRVideo_IPCAM_TOOMUCH:1302,CRVideo_CRVIDEOSDK_FILE_NOT_EXIST:1400,CRVideo_CRVIDEOSDK_FILE_READ_ERR:1401,CRVideo_CRVIDEOSDK_FILE_WRITE_ERR:1402,CRVideo_WEB_OCX_NOTINSTALLED:2001,CRVideo_WEB_BROWER_NOTUPPORTED:2002,CRVideo_OCX_VERSION_NOTUPPORTED:2003,AUNKNOWN:0,ANULL:1,ACLOSE:2,AOPEN:3,AOPENING:4,AACCEPTING:5,VIDEO_SZ_80:1,VSIZE_SZ_128:2,VSIZE_SZ_160:3,VSIZE_SZ_192:4,VSIZE_SZ_256:5,VSIZE_SZ_288:6,VSIZE_SZ_320:7,VSIZE_SZ_360:8,VSIZE_SZ_400:9,VSIZE_SZ_480:10,VSIZE_SZ_576:11,VSIZE_SZ_720:12,VSIZE_SZ_1080:13,VUNKNOWN:0,VNULL:1,VCLOSE:2,VOPEN:3,VOPENING:4,VFMT_YUV420P:0,VFMT_ARGB32:1,RECVTP_VIDEO:0,RECVTP_PIC:1,RECVTP_SCREEN:2,RECVTP_MEDIA:3,RECVTP_TIMESTAMP:4,RECVTP_REMOTE_SCREEN:5,NO_RECORD:0,STARTING:1,RECORDING:2,PAUSED:3,STOPPING:4,REC_AUDIO_TYPE_NULL:0,REC_AUDIO_TYPE_LOC:1,REC_AUDIO_TYPE_OTHER:2,REC_AUDIO_TYPE_ALL:3,REC_VCONTENT_NULL:0,RECORD_VIDEO_TYPE_SCREEN:1,REC_VCONTENT_VIDEOS:3,MAINPAGE_VIDEOWALL:0,MAINPAGE_SHARE:1,MAINPAGE_WHITEBOARD:2,VLO_1v1_M:0,VLO_WALL1_M:1,VLO_WALL2:2,VLO_WALL4:3,VLO_WALL5_M:4,VLO_WALL6_M:5,VLO_WALL9:6,VLO_WALL13_M:7,VLO_WALL16:8,VLO_WALL25:9,HTTPFS_NULL:0,HTTPFS_QUEUE:1,HTTPFS_TRANSFERING:2,HTTPFS_FINISHED:3,HTTPR_Success:0,HTTPR_InnerErr:1,HTTPR_ParamErr:2,HTTPR_NetworkFail:3,HTTPR_NetworkTimeout:4,HTTPR_FileOperationFail:5,HTTPR_PathNotSupprot:6,HTTPR_FileTransfering:7,HTTPR_HTTPERR_BEGIN:1e3,HTTPR_HTTPERR_END:1999,WXErrorToCode:function(e){if(e)return console.crlog("小程序websocket连接出现内部错误,desc: ".concat(e)),e.indexOf("url not in domain list")>-1?this.CRVideo_REQUEST_FAIL_NOTLIST:e.indexOf("exceed max task count")>-1?this.CRVideo_REQUEST_FAIL_MAX_CONNECTED:e.indexOf("request:fail timeout")>-1||e.indexOf("request:fail socket time out")>-1||e.indexOf("connect response time out")>-1?this.CRVideo_SOCKETTIMEOUT:1}};e.exports=n},function(e,t,n){n(0);var i={};try{i=wx.getSystemInfoSync()}catch(e){}e.exports={init:!1,allIceData:{},callServerConnectting:!1,deviceInfo:i,firstJoinMeetingDropped:!1,call:{callId:null,setCallId:function(e){this.callId=e},getCallId:function(){return this.callId}},printDeviceInfo:function(){console.crlog("[DeviceInfo] ".concat(JSON.stringify(i,null,4)))},isScreenUserId:null,OEMKey:""}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,s=void 0,s=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!==n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===n(s)?s:String(s)),r)}var o,s}var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.addr=null}var t,n,r;return t=e,(n=[{key:"setAddr",value:function(e){var t=e.trim();0===t.indexOf("http://")||0===t.indexOf("https://")?this.addr=e:this.addr="https://"+e}},{key:"getServerAddr",value:function(){return this.addr}},{key:"getDefaultPort",value:function(){return 0===this.addr.indexOf("http://")?80:443}},{key:"getHttpProtocol",value:function(){return 0===this.addr.indexOf("http://")?"http://":"https://"}},{key:"getWebSocketProtocol",value:function(){return 0===this.addr.indexOf("http://")?"ws":"wss"}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports={sdkver:"1.5.6",useCallSer:1,IceTimeOut:"5000",server:new r}},function(e,t,n){function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,a(i.key),i)}}function a(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}var l=n(1),u=(n(8),n(2)),d=n(21),h=n(0),f=n(7),p=n(4),_=n(3),g=l.CRVideo,y=l.Ice,C=l.SendCmd;g.logproxy=null,g.Server=null,g.sessionID=null,g.cookie="",g.MeetInfoObj=null,g.meetSubject="test",g.queStatusInfo=[],g.queServiceInfo="demo-queID",g.queingInfo="demo-queID",g.inviteID="",g.logServer=null;var v=y.generateUUID(),m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.uuid=y.generateUUID(),this.CommonArray=[],this.init()}var t,n,i;return t=e,(n=[{key:"init",value:function(){var e=0,t=this.uuid.length;this.CommonArray[e++]=0,this.CommonArray[e++]=(4278190080&t)>>24,this.CommonArray[e++]=(16711680&t)>>16,this.CommonArray[e++]=(65280&t)>>8,this.CommonArray[e++]=255&t;for(var n=h.charToUint8Arr(this.uuid),i=0;i<t;i++)this.CommonArray[e++]=n[i]}},{key:"create",value:function(e,t){for(var n=new Uint8Array(this.CommonArray.length+t),i=0;i<this.CommonArray.length;i++)n[i]=this.CommonArray[i];return n[0]=e,n}},{key:"getUUID",value:function(){return this.uuid}}])&&c(t.prototype,n),i&&c(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();g.webSendBuffer=function(e,t){return new Promise((function(n,i){y.Promise.try2((function(){g.serverCast?g.serverCast.sendBuffer(JSON.stringify(e),t).then((function(e){console.crlog("[CALLSVR] webSendBuffer result "+e),n(JSON.parse(e))})).exception((function(e){console.crlog("[CALLSVR] ex = "+e),i(d[e.error])})):(console.crlog("[CALLSVR] not login"),i(d.CALL_ERR_ICEPRXNULL))})).exception((function(e){console.crlog(e.toString()),y.Promise.try((function(){B(!0)}))}))}))},g.webSendcmd=function(e,t){var n={GetServiceData:{callback:function(e){var t=h.clone(e);return t._quesLength=t.ques.length,t.ques="****",t}}}[e.cmd];console.crlog('[CALLSVR] SendCMD  "'.concat(e.cmd,'" data:\n').concat(JSON.stringify(h.privacyAttrHide(e)))),y.Promise.try2((function(){g.serverCast?g.serverCast.sendCmd(JSON.stringify(e)).then((function(i){var r=e.cmd,o=JSON.parse(i);n&&n.callback?console.crlog('[CALLSVR] SendCMD "'.concat(e.cmd,'" RespCallback：').concat(JSON.stringify(n.callback(o)))):console.crlog('[CALLSVR] SendCMD "'.concat(e.cmd,'" RespCallback：').concat(JSON.stringify(o))),T[r](o,e,t)})).exception((function(t){console.crlog("[CALLSVR] SendCMD Fail,cmd: ".concat(e.cmd)),console.crlog(t)})):console.crlog("[CALLSVR] not login")})).exception((function(e){console.crlog(e.toString()),y.Promise.try((function(){B(!0)}))}))};g.ajax=function(e){var t=e.url,n=e.type||"get",i=e.data,r=e.success,o=e.error,s=e.complete,c=e.dataType,a=e.header;wx.request({url:t,data:i,method:n,header:a,dataType:c,success:function(e){404!=e.statusCode?r&&r(e.data,e.statusCode):o&&o(e)},fail:function(e){var t;console.crlog("[CALLSVR] AJAX Fail DESC: ".concat(e.errMsg)),e.errMsg.indexOf("request:fail url not in domain list")>-1?t=u.CRVideo_REQUEST_FAIL_NOTLIST:e.errMsg.indexOf("request:fail timeout")>-1||e.errMsg.indexOf("request:fail socket time out")>-1?t=u.CRVideo_SOCKETTIMEOUT:"request:fail "===e.errMsg?t=u.CRVideo_CREATE_CONN_FAILED:e.errMsg.indexOf("request:fail")>-1&&(t=u.CRVideo_NOSERVER_RSP),o&&o(t||u.CRVideo_UNKNOWERR)},complete:function(e){s&&s(e)}})};var S,I,E=new h.NewCallBack("CRVideo_SendCmdRlst"),b=new h.NewCallBack("CRVideo_SendBufferRslt"),R=new h.NewCallBack("CRVideo_SendProgress"),w=new h.NewCallBack("CRVideo_LoginSuccess"),x=new h.NewCallBack("CRVideo_LoginFail"),P=new h.NewCallBack("CRVideo_LogoutSuccess"),D=new h.NewCallBack("CRVideo_LogoutFail"),O=new h.NewCallBack("CRVideo_LineOff"),M=new h.NewCallBack("CRVideo_NotifyCmdData"),A=new h.NewCallBack("CRVideo_NotifyBufferData"),N=new h.NewCallBack("CRVideo_NotifyTokenWillExpire"),k={data:{},receive:function(e,t){var n=0,i=t[n++],r=t[n++]<<24|t[n++]<<16|t[n++]<<8|t[n++],o=h.Uint8ArrToChar(t.slice(n,n+=r));if(0===i){var s=t[n++]<<24|t[n++]<<16|t[n++]<<8|t[n++],c=h.Uint8ArrToChar(t.slice(n,n+=s)),a=t[n++]<<24|t[n++]<<16|t[n++]<<8|t[n++];this.data[o]={type:i,fileName:c,dataSize:a,dataBurst:[]}}else if(1===i){var l=t[n++]<<24|t[n++]<<16|t[n++]<<8|t[n++],u=t[n++]<<24|t[n++]<<16|t[n++]<<8|t[n++],d=Array.prototype.concat.apply([],t.slice(n,u+n));this.data[o].type=i,this.data[o].dataBurst.push({start:l,length:u,data:d})}else if(2===i){var f=this.data[o].dataBurst;f.sort((function(e,t){return e.start-t.start}));for(var p=0,_=[],g=0;g<f.length;g++)p+=f[g].length,_=_.concat(f[g].data);if(_=h.Uint8ArrToChar(_),p===this.data[o].dataSize)try{A.callback(e.sourceUserId,_)}catch(e){console.error(e)}}}},T={Login:function(e,t,n){0==e.RspCode?(console.crlog("[CALLSVR] CallServer login success!"),g.sessionID=e.sessionID,_.callServerConnectting=!0,g.LoginParam.user_id=e.userID,h.SDK_event.emitEventListener("callserverLoginSuccess",e),w.callback(e.userID,n)):(B(!0),console.crlog("[CALLSVR] CallServer login fail!"),x.callback(e.RspCode,e.RspDesc,n))},StartStatusPush:function(e,t,n){CRVideo_StartUserStatusNotifyRslt.callback(e.RspCode,n||"")},StopStatusPush:function(e,t,n){CRVideo_StopUserStatusNotifyRslt.callback(e.RspCode,n||"")},ClientCancelInvite:function(e,t,n){CRVideo_CancelCallMorePartyRslt.callback(t.inviteID,e.RspCode,n||"")},Logout:function(e,t){0==e.RspCode?(console.crlog("[CALLSVR] CallServer logout success!"),P.callback()):(console.crlog("[CALLSVR] CallServer logout fail!"),D.callback(e.RspCode,e.RspCode,cookie||""))}},L=new(y.Class(C.Cmd,{sendCmd_async:function(e,t,n){e.ice_response(JSON.stringify({rspCode:0,rspDesc:"ok"}));var i=JSON.parse(t),r=i.cmd;i.module;null!=r&&(console.crlog('[CALLSVR] ReceivedCMD: "'+r+'" '+JSON.stringify(h.privacyAttrHide(i))),U[r](i))},sendBuffer_async:function(e,t,n,i){e.ice_response(JSON.stringify({rspCode:0,rspDesc:"ok"}));var r=JSON.parse(t);if(console.crlog("[CALLSVR] sendBuffer received callback :"+JSON.stringify(h.privacyAttrHide(r))),"SendCMD"==r.cmd){var o=h.Uint8ArrToChar(n);console.crlog("[CALLSVR] received sendBuffer sourceUserId:".concat(r.sourceUserId)),M.callback(r.sourceUserId,o)}else"SendBuffer"==r.cmd&&k.receive(r,n)}})),U={NotifyQueueStatus:function(e){h.SDK_event.emitEventListener("NotifyQueueStatus",e)},NotifyPosition:function(e){h.SDK_event.emitEventListener("NotifyPosition",e)},AssignUser:function(e){h.SDK_event.emitEventListener("AssignUser",e)},AssignCancel:function(e){h.SDK_event.emitEventListener("AssignCancel",e)},ServerAccept:function(e){h.SDK_event.emitEventListener("ServerAccept",e)},ServerCall:function(e){h.SDK_event.emitEventListener("ServerCall",e)},ServerPushUserStatus:function(e){CRVideo_NotifyUserStatus.callback(e.usersStatus,"")},ServerDecline:function(e){h.SDK_event.emitEventListener("ServerDecline",e)},ServerKickoutUser:function(){B(!0),O.trigger(u.CRVideo_CRVideoSDK_USER_BEEN_KICKOUT)},ServerReleaseCall:function(e){h.SDK_event.emitEventListener("ServerReleaseCall",e)},ServerCancelCall:function(e){h.SDK_event.emitEventListener("ServerReleaseCall",e)},ServerNotifyInvite:function(e){CRVideo_NotifyCallMorePartyStatus.callback(e.inviteID,e.callProgress)},ServerMultiCall:function(){console.crlog("[CALLSVR] ========= ServerMultiCall ==========")},invite:function(e){h.SDK_event.emitEventListener("invite",e)},cancelInvite:function(e){h.SDK_event.emitEventListener("cancelInvite",e)},rejectInvite:function(e){h.SDK_event.emitEventListener("rejectInvite",e)},acceptInvite:function(e){h.SDK_event.emitEventListener("acceptInvite",e)},inviteResult:function(e){h.SDK_event.emitEventListener("inviteResult",e)}},V=function(e){return new Promise((function(t,n){e.ice.createObjectAdapter("").then((function(n){n.add(L,y.stringToIdentity("jclient"));var i=g.serverCast.ice_getCachedConnection();null!=i?(i.activate(),e.adapter=n,i.setAdapter(n),t()):console.crlog("[CALLSVR] connection is null")})).exception((function(e){n()}))}))},F=function(e,t,n){var i=p.server.getServerAddr()+f.GetServerInfo,o=r({ClientVer:"",Language:"",MgrSDKVer:(new Date).toLocaleString(),OEMKey:_.OEMKey,PRODUCT:"wxmini",RequestId:y.generateUUID()},e);console.crlog("[CALLSVR] WebAPI request url: "+i+" ,data: "+JSON.stringify(h.privacyAttrHide(o))),g.ajax({url:i,type:"POST",data:o,success:function(i){if(console.crlog("[CALLSVR] webAPI GetCallServerInfoCallBack result: "+JSON.stringify(h.privacyAttrHide(i))),0==i.RspCode)g.LoginOAuth=e,g.callServerOAuth=t,g.OAuthUserId=i.Data.userId,i.TokenTime&&j(i.TokenTime),H(i,n);else{var r=u[i.RspCode]||u.CRVideo_UNKNOWERR;x.callback(r,n)}},error:function(e){console.crlog('"[CALLSVR] webAPI GetCallServerInfoCallBack Fail Code: '.concat(e)),x.callback(e,n)}}),g.requestID=o.RequestId},j=(h.SDK_event.addEventListener("Logout",(function(){clearTimeout(S),clearTimeout(I)})),function(e){console.crlog("[CALLSVR] webAPI Token Expire Time: "+e),clearTimeout(S),clearTimeout(I);var t=e>30?1e3*(e-30):0;if(t>2147483647)return console.crlog("[CALLSVR] token time overflow");function n(){console.crlog("!!!token Expire!!!"),h.SDK_event.emitEventListener("tokenExpire"),B(!0),O.trigger(u.CRVIDEOSDK_TOKEN_TIMEOUT)}S=setTimeout((function(){I=setTimeout(n,1e3*(t>30?30:e)),N.callback()}),t)}),B=function(e){h.SDK_event.emitEventListener("callserverLogout"),g.LoginOAuth=null,g.callServerOAuth=null,g.OAuthUserId=null,g.sessionID=null,_.callServerConnectting=!1,e&&_.allIceData.callserver&&(_.allIceData.callserver.destroy(),_.allIceData.callserver=null)};h.SDK_event.addEventListener("callserverShakeHandFail",(function(){B(!0),O.trigger(u.CRVideo_SOCKETTIMEOUT)}));var H=function(e,t){if(console.crlog("[CALLSVR] getCallServerInfoSuccess..."),_.printDeviceInfo(),e.uploadUrl){var n,i=_.deviceInfo&&_.deviceInfo.model,o=g.LoginOAuth,s=o.Token,c=o.UserName;if(s){var a=h.base64.decode(s.split(".")[1]).replace(/\0/g,"");n=JSON.parse(a).appID}else n=c;h.SDK_event.emitEventListener("LogUpload",{url:e.uploadUrl,fileName:"".concat(n,"/").concat(g.LoginParam.user_id,"_").concat(v,"_WXSDK_").concat(i.replace(/\W/g,"_"),".log")})}if(p.useCallSer){var l,d=e.callSvrList.indexOf(";")>-1?e.callSvrList.split(";")[0]:e.callSvrList,f=h.parseUrl("://".concat(d)),m=f.host.split(":"),S=function(e,t,n){var i=new y.InitializationData;i.properties=y.createProperties(),i.properties.setProperty("Ice.Trace.Network","0"),i.properties.setProperty("Ice.Trace.Protocol","0"),i.properties.setProperty("Ice.ACM.Client","0"),i.properties.setProperty("Ice.ACM.Server","0"),i.properties.setProperty("Ice.Default.EncodingVersion","1.0");var r=y.initialize(i),o="jserver:".concat(p.server.getWebSocketProtocol()," -r ").concat(n," -h ").concat(e," -p ").concat(t||p.server.getDefaultPort()," -t ").concat(p.IceTimeOut),s=r.stringToProxy(o);return console.crlog("[CALLSVR] Init ice: "+o),{ice:r,proxy:s,link:"".concat(p.server.getWebSocketProtocol(),"://").concat(e,":").concat(t).concat(n),destroy:function(){r&&(console.crlog("[CALLSVR] CallServer destroy connection..."),r.destroy(),r=null)}}}(m[0],m[1],f.path);_.allIceData.callserver=S,console.crlog("[CALLSVR] CallServer connecting..."),(l=S,new Promise((function(e,t){function n(e){y.Promise.try2(l.destroy).finally2((function(){t(e)}))}y.Promise.try2((function(){C.CmdPrx.checkedCast(l.proxy).then((function(n){g.serverCast=n,V(l).then((function(){e()})).catch((function(e){t()}))})).exception(n)})).exception(n)}))).then((function(){console.crlog("[CALLSVR] CallServer logging...");var e=r(r({OEMKey:_.OEMKey,SDKVersion:p.sdkver,cmd:"Login"},g.callServerOAuth),{},{deviceType:"",language:"",module:"CallServer",userID:g.LoginParam.user_id,userName:g.LoginParam.nick_name});g.webSendcmd(e,t)})).catch((function(e){console.crlog("[CALLSVR] CallServer connecting Fail: \n".concat(e)),B(!0);var t=1;try{e.ice_cause.errMsg&&(t=u.WXErrorToCode(e&&e.ice_cause&&e.ice_cause.errMsg))}catch(e){t=1}x.callback(t)}))}else w.callback(g.LoginParam.user_id,t)};h.SDK_event.addEventListener("CallServerShakeHandSuccess",(function(){_.allIceData.callserver&&g.serverCast.ice_getCachedConnection().setAdapter(_.allIceData.callserver.adapter)}));e.exports={CRVideo:g,CRVideo_Login:function(e,t,n,i,r,o){if(console.crlog("[CALLSVR] Login Start...".concat(JSON.stringify({account:e,UID:i}))),!_.init)return console.crlog("[Error] Please initialize first"),void x.callback(u.CRVideo_UNKNOWERR,o);g.LoginParam={account:e,psw:t,nick_name:n,user_id:i,cookie:o},F({UserName:e,UserPswd:t,CustomPswd:r},{crAcnt:e,crPswd:t},o)},CRVideo_LoginByToken:function(e,t,n,i,r){if(console.crlog("[CALLSVR] LoginByToken Start...".concat(JSON.stringify({UID:n}))),!_.init)return console.crlog("[Error] Please initialize first"),void x.callback(u.CRVideo_UNKNOWERR,r);var o;try{var s=e.split(".")[1],c=h.base64.decode(s).replace(/\0/g,"");o=JSON.parse(c)}catch(e){return console.crlog("token本地解析失败"),console.crlog(e),void x.callback(u.CRVIDEOSDK_TOKEN_AUTHINFOERR,r)}g.LoginParam={account:o.appID,nick_name:t,user_id:n,cookie:r},F({Token:e,CustomPswd:i},{crToken:e},r)},CRVideo_UpdateToken:function(e){var t=p.server.getServerAddr()+f.HandToken,n={ClientVer:"",Language:"",MgrSDKVer:(new Date).toLocaleString(),OEMKey:_.OEMKey,PRODUCT:"wxmini",RequestId:y.generateUUID(),Token:e};console.crlog("[CALLSVR] WebAPI UpdateToken ,data: ".concat(JSON.stringify(h.privacyAttrHide(n)))),g.ajax({url:t,type:"POST",data:n,success:function(t){console.crlog("[CALLSVR] webAPI UpdateToken result: "+JSON.stringify(t)),0==t.RspCode&&(t.TokenTime&&j(t.TokenTime),g.LoginOAuth={Token:e},g.callServerOAuth={crToken:e})},error:function(e){console.crlog("[CALLSVR] WebAPI UpdateToken Fail,code: ".concat(e))}})},CRVideo_Logout:function(){console.crlog("[CALLSVR] Logout begin...");var e={cmd:"Logout",module:"CallServer",sessionID:g.sessionID};g.webSendcmd(e),g.CallID="",B(!0),h.SDK_event.emitEventListener("Logout")},CRVideo_StartUserStatusNotify:function(){var e={cmd:"StartStatusPush",module:"CallServer",sessionID:g.sessionID};g.webSendcmd(e)},CRVideo_StopUserStatusNotify:function(){var e={cmd:"StopStatusPush",module:"CallServer",sessionID:g.sessionID};g.webSendcmd(e)},CRVideo_SendCmd:function(e,t){var n=y.generateUUID(),i={cmd:"SendCMD",module:"CallServer",sessionID:g.sessionID,sourceUserId:g.LoginParam.user_id||"",targetUserId:e};console.crlog("[CALLSVR] CRVideo_SendCmd send UUID: ".concat(n));var r=h.charToUint8Arr(t.toString());return g.webSendBuffer(i,r).then((function(e){console.crlog("[CALLSVR] CRVideo_SendCmd Callback UUID: ".concat(n,", success")),E.callback(n,void 0===e.RspCode?e.rspCode:e.RspCode)})).catch((function(e){console.crlog("[CALLSVR] CRVideo_SendCmd Callback UUID: ".concat(n,", fail: ").concat(e)),E.callback(n,e||1)})),n},CRVideo_SendBuffer:function(e,t,n){var i=h.charToUint8Arr(t),r=h.splitCutArr(i,102400),o=i.length,s=new m,c=s.create(0,8),a=s.getUUID(),l=c.length-8;c[l++]=c[l++]=c[l++]=c[l++]=0,c[l++]=(4278190080&o)>>24,c[l++]=(16711680&o)>>16,c[l++]=(65280&o)>>8,c[l++]=255&o;var u={cmd:"SendBuffer",module:"CallServer",sessionID:g.sessionID,sourceUserId:g.LoginParam.user_id||"",targetUserId:e};function d(){b.callback(a,1,n)}return g.webSendBuffer(u,c).then((function(e){if(0!==e.RspCode)return console.crlog("对端响应错误"),void d();var t=0;function o(){var e=r.shift();if(e)!function(e,t){var c=102400*e,l=r.length?102400:i.length%102400,h=s.create(1,l+8),f=h.length-(l+8);h[f++]=(4278190080&c)>>24,h[f++]=(16711680&c)>>16,h[f++]=(65280&c)>>8,h[f++]=255&c,h[f++]=(4278190080&l)>>24,h[f++]=(16711680&l)>>16,h[f++]=(65280&l)>>8,h[f++]=255&l;for(var p=0;p<t.length;p++)h[f++]=t[p];R.callback(a,c,i.length,n),g.webSendBuffer(u,h).then(o).catch(d)}(t,e),t++;else{var c=s.create(2,0);g.webSendBuffer(u,c).then((function(){b.callback(a,0,n)})).catch(d)}}o()})).catch(d),console.crlog("[CALLSVR] CRVideo_SendBuffer finished： "+JSON.stringify(u)),a},CRVideo_SendCmdRlst:E,CRVideo_SendBufferRslt:b,CRVideo_SendProgress:R,CRVideo_LoginSuccess:w,CRVideo_LoginFail:x,CRVideo_LogoutSuccess:P,CRVideo_LogoutFail:D,CRVideo_LineOff:O,CRVideo_NotifyCmdData:M,CRVideo_NotifyBufferData:A,CRVideo_NotifyTokenWillExpire:N,callserverSendCmd:function(e){return new Promise((function(t,n){y.Promise.try2((function(){if(g.serverCast){var i=JSON.stringify(Object.assign(e,{sessionID:g.sessionID}));g.serverCast.sendCmd(i).then((function(e){t(JSON.parse(e))})).exception((function(t){if(console.crlog("[CALLSVR] SendCMD Fail,cmd: ".concat(e.cmd)),console.crlog(t),t&&3===t.error)return B(!0),void O.trigger(u.CRVideo_LOGINSTATE_ERROR);n(t)}))}else console.crlog("[CALLSVR] not login"),n("[CALLSVR] not login")})).exception((function(e){console.crlog(e.toString()),n("[Error] Callserver connect Fail, ".concat(e.toString())),y.Promise.try((function(){B(!0)}))}))}))}}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports={GetServerInfo:"/servlet/getJsCallServerInfo",CreateMeeting:"/servlet/ClientCreateNetMeet",EnterMeeting:"/servlet/joinMeetingAPI",GetAccKey1:"/servlet/getWebrtcAccKey",DestroyMeeting:"/api/servlet/closeConf",HandToken:"/servlet/HandToken",ArrangeConfAPI:"/servlet/ArrangeConfAPI"}},function(e,t,n){(function(t){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,s=void 0,s=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===i(s)?s:String(s)),r)}var o,s}var o,s,c,a,l,u=n(1),d=n(0),h=n(4),f=d.Zlib,p=u.Cr,_=u.Ice,g=u.Ice.LogSpace,y=g.ClientLogServerPrx,C=u.CRVideo;function v(e){e!=o&&(o=e,w(e))}function m(){E()}function S(){s&&(clearTimeout(a),b())}var I=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=0,this.logFilename="sdkDebug.log",this.output=""}var t,n,o;return t=e,(n=[{key:"getLog",value:function(){return this.output}},{key:"clear",value:function(){this.output=""}},{key:"addBeforeLog",value:function(e){this.output=e+this.output}},{key:"log",value:function(e,t,n){var r="";if(t=t||"INF",null!=e)if("object"==("undefined"==typeof object?"undefined":i(object)))var o=JSON.stringify(e);else o=e;var s=new Date;r+=this.formatTimestamp(s),r+="["+t+"] ",r+=o,this.output+=r+"\n",(this.output.length/1024).toFixed(2)>500&&(console.log("日志大于1M,请查后台日志是否大于1M"),b())}},{key:"formatTimestamp",value:function(e){var t=e.getFullYear(),n=e.getDate();return"["+t+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+n+" "+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2)+"."+("00"+e.getMilliseconds()).slice(-3)+"] "}}])&&r(t.prototype,n),o&&r(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}()),E=function e(){c&&b(),clearTimeout(a),a=setTimeout(e,1e4)};d.SDK_event.addEventListener("LogUpload",(function(e){s&&(l=e.fileName,console.log("[DEBUG] fileName: ".concat(l)),v(e.url),m())})).addEventListener("Logout",(function(){S(),o=null,x()}));var b=function(){var e=I.getLog();if(I.clear(),""!=e){var t=d.charToUint8Arr(e),n=new f.Deflate(t).compress();O(0,l,n).catch((function(t){console.crlog("[Error] log upload error!"),I.addBeforeLog(e)}))}},R={},w=function(e){x();var t=e.split(";")[0]?e.split(";")[0]:e.split(";")[1],n=p.Utils.parse_url("https://"+t);if(n){var i,r="Log.ClientLogServer:".concat(h.server.getWebSocketProtocol());n.path&&(r+=" -r "+n.path),n.host&&(r+=" -h "+n.host),h.IceTimeOut&&(r+=" -t "+h.IceTimeOut),n.port?r+=" -p "+n.port:r+=" -p 443",console.crlog("[DEBUG] logserver: "+r),R.Log=((i=new _.InitializationData).properties=_.createProperties(),i.properties.setProperty("Ice.Trace.Network","0"),i.properties.setProperty("Ice.Trace.Protocol","0"),i.properties.setProperty("Ice.ACM.Client","0"),i.properties.setProperty("Ice.ACM.Server","0"),i.properties.setProperty("Ice.Default.EncodingVersion","1.0"),_.initialize(i)),C.logproxy=R.Log.stringToProxy(r),D(),C.logIceConnect=R.Log}else console.error("[DEBUG] error: ClientLogServer parseUrl")},x=function(){R.Log&&R.Log.destroy&&(console.crlog("[DEBUG] Websockt destroy Log connect..."),R.Log.destroy(),C.logproxy=null)},P=_.Class(g.ClientLogServer,{log:function(e){console.crlog("[DEBUG] log:"+e)},logFatal:function(e){console.crlog("[DEBUG] logFatal:"+e)},usrReport:function(e){console.crlog("[DEBUG] usrReport:"+e)},logDetail:function(e){console.crlog("[DEBUG] logDetail:"+e)}}),D=function(){function e(e){c=!1,console.crlog("[DEBUG] websocket connect Fail, desc: "+e.toString()),x()}_.Promise.try2((function(){C.ServerLogger=g.ClientLogServerPrx.checkedCast(C.logproxy).then((function(t){C.logIceConnect.createObjectAdapter("").then((function(e){e.add(new P,_.stringToIdentity("jclient"));C.logproxy.ice_getCachedConnection().setAdapter(e),c=!0})).exception(e)})).exception(e)})).exception(e)},O=function(e,n,i){return new Promise((function(r,o){_.Promise.try2((function(){y.checkedCast(C.logproxy).then((function(t){t&&t.logDetail(e,n,i).then((function(e){r()}))})).exception((function(e){console.crlog("[DEBUG] !!! log checkedCast fail. is: "+e),o()}))})).exception((function(e){console.crlog("[DEBUG] There are several reasons for websocket errors: "+e.toString()),_.Promise.try((function(){x(),o()})).finally((function(){t.exit(1)}))}))}))};console.crlog=(s=!0,function(e,t,n){I.log(e,t,n),console.log(e)});e.exports={EnableLog2File:function(e,t){clearTimeout(a),s=!!e,console.crlog=function(n,i,r){e&&I.log(n,i,r),t&&console.log(n)},console.log("[LOG] Enable upload log: "+e),console.log("[LOG] Enable console log debug: "+t)},notifyUploadUrl:v,startUpload:m,stopUpload:S}}).call(this,n(9))},function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var a,l=[],u=!1,d=-1;function h(){u&&a&&(u=!1,a.length?l=a.concat(l):d=-1,l.length&&f())}function f(){if(!u){var e=c(h);u=!0;for(var t=l.length;t;){for(a=l,l=[];++d<t;)a&&a[d].run();d=-1,t=l.length}a=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function _(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||u||c(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=_,r.addListener=_,r.once=_,r.off=_,r.removeListener=_,r.removeAllListeners=_,r.emit=_,r.prependListener=_,r.prependOnceListener=_,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t){e.exports=function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=n},function(e,t,n){!function(){var t=n(2),i=n(0).utf8,r=n(3),o=n(0).bin,s=function e(n,s){n.constructor==String?n=s&&"binary"===s.encoding?o.stringToBytes(n):i.stringToBytes(n):r(n)?n=Array.prototype.slice.call(n,0):Array.isArray(n)||n.constructor===Uint8Array||(n=n.toString());for(var c=t.bytesToWords(n),a=8*n.length,l=1732584193,u=-271733879,d=-1732584194,h=271733878,f=0;f<c.length;f++)c[f]=16711935&(c[f]<<8|c[f]>>>24)|4278255360&(c[f]<<24|c[f]>>>8);c[a>>>5]|=128<<a%32,c[14+(a+64>>>9<<4)]=a;var p=e._ff,_=e._gg,g=e._hh,y=e._ii;for(f=0;f<c.length;f+=16){var C=l,v=u,m=d,S=h;l=p(l,u,d,h,c[f+0],7,-680876936),h=p(h,l,u,d,c[f+1],12,-389564586),d=p(d,h,l,u,c[f+2],17,606105819),u=p(u,d,h,l,c[f+3],22,-1044525330),l=p(l,u,d,h,c[f+4],7,-176418897),h=p(h,l,u,d,c[f+5],12,1200080426),d=p(d,h,l,u,c[f+6],17,-1473231341),u=p(u,d,h,l,c[f+7],22,-45705983),l=p(l,u,d,h,c[f+8],7,1770035416),h=p(h,l,u,d,c[f+9],12,-1958414417),d=p(d,h,l,u,c[f+10],17,-42063),u=p(u,d,h,l,c[f+11],22,-1990404162),l=p(l,u,d,h,c[f+12],7,1804603682),h=p(h,l,u,d,c[f+13],12,-40341101),d=p(d,h,l,u,c[f+14],17,-1502002290),l=_(l,u=p(u,d,h,l,c[f+15],22,1236535329),d,h,c[f+1],5,-165796510),h=_(h,l,u,d,c[f+6],9,-1069501632),d=_(d,h,l,u,c[f+11],14,643717713),u=_(u,d,h,l,c[f+0],20,-373897302),l=_(l,u,d,h,c[f+5],5,-701558691),h=_(h,l,u,d,c[f+10],9,38016083),d=_(d,h,l,u,c[f+15],14,-660478335),u=_(u,d,h,l,c[f+4],20,-405537848),l=_(l,u,d,h,c[f+9],5,568446438),h=_(h,l,u,d,c[f+14],9,-1019803690),d=_(d,h,l,u,c[f+3],14,-187363961),u=_(u,d,h,l,c[f+8],20,1163531501),l=_(l,u,d,h,c[f+13],5,-1444681467),h=_(h,l,u,d,c[f+2],9,-51403784),d=_(d,h,l,u,c[f+7],14,1735328473),l=g(l,u=_(u,d,h,l,c[f+12],20,-1926607734),d,h,c[f+5],4,-378558),h=g(h,l,u,d,c[f+8],11,-2022574463),d=g(d,h,l,u,c[f+11],16,1839030562),u=g(u,d,h,l,c[f+14],23,-35309556),l=g(l,u,d,h,c[f+1],4,-1530992060),h=g(h,l,u,d,c[f+4],11,1272893353),d=g(d,h,l,u,c[f+7],16,-155497632),u=g(u,d,h,l,c[f+10],23,-1094730640),l=g(l,u,d,h,c[f+13],4,681279174),h=g(h,l,u,d,c[f+0],11,-358537222),d=g(d,h,l,u,c[f+3],16,-722521979),u=g(u,d,h,l,c[f+6],23,76029189),l=g(l,u,d,h,c[f+9],4,-640364487),h=g(h,l,u,d,c[f+12],11,-421815835),d=g(d,h,l,u,c[f+15],16,530742520),l=y(l,u=g(u,d,h,l,c[f+2],23,-995338651),d,h,c[f+0],6,-198630844),h=y(h,l,u,d,c[f+7],10,1126891415),d=y(d,h,l,u,c[f+14],15,-1416354905),u=y(u,d,h,l,c[f+5],21,-57434055),l=y(l,u,d,h,c[f+12],6,1700485571),h=y(h,l,u,d,c[f+3],10,-1894986606),d=y(d,h,l,u,c[f+10],15,-1051523),u=y(u,d,h,l,c[f+1],21,-2054922799),l=y(l,u,d,h,c[f+8],6,1873313359),h=y(h,l,u,d,c[f+15],10,-30611744),d=y(d,h,l,u,c[f+6],15,-1560198380),u=y(u,d,h,l,c[f+13],21,1309151649),l=y(l,u,d,h,c[f+4],6,-145523070),h=y(h,l,u,d,c[f+11],10,-1120210379),d=y(d,h,l,u,c[f+2],15,718787259),u=y(u,d,h,l,c[f+9],21,-343485551),l=l+C>>>0,u=u+v>>>0,d=d+m>>>0,h=h+S>>>0}return t.endian([l,u,d,h])};s._ff=function(e,t,n,i,r,o,s){var c=e+(t&n|~t&i)+(r>>>0)+s;return(c<<o|c>>>32-o)+t},s._gg=function(e,t,n,i,r,o,s){var c=e+(t&i|n&~i)+(r>>>0)+s;return(c<<o|c>>>32-o)+t},s._hh=function(e,t,n,i,r,o,s){var c=e+(t^n^i)+(r>>>0)+s;return(c<<o|c>>>32-o)+t},s._ii=function(e,t,n,i,r,o,s){var c=e+(n^(t|~i))+(r>>>0)+s;return(c<<o|c>>>32-o)+t},s._blocksize=16,s._digestsize=16,e.exports=function(e,n){if(null==e)throw new Error("Illegal argument "+e);var i=t.wordsToBytes(s(e,n));return n&&n.asBytes?i:n&&n.asString?o.bytesToString(i):t.bytesToHex(i)}}()},function(e,t){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,i=0;n<e.length;n++,i+=8)t[i>>>5]|=e[n]<<24-i%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],i=0;i<e.length;i+=3)for(var r=e[i]<<16|e[i+1]<<8|e[i+2],o=0;o<4;o++)8*i+6*o<=8*e.length?n.push(t.charAt(r>>>6*(3-o)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],i=0,r=0;i<e.length;r=++i%4)0!=r&&n.push((t.indexOf(e.charAt(i-1))&Math.pow(2,-2*r+8)-1)<<2*r|t.indexOf(e.charAt(i))>>>6-2*r);return n}};e.exports=n}()},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
    * Determine if an object is a Buffer
    *
    * @author   Feross Aboukhadijeh <https://feross.org>
    * @license  MIT
    */
e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){e.exports=n(1)}])},function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,c(i.key),i)}}function c(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}var a=n(0),l={},u=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.baseStoageUrl="".concat(wx.env.USER_DATA_PATH,"/CRSDK"),this.whiteBoardFlag="whiteBoard",this.fileSystemManager=wx.getFileSystemManager()}var t,n,i;return t=e,(n=[{key:"init",value:function(){this.storageInit()}},{key:"unInit",value:function(){this.storageUnInit()}},{key:"reset",value:function(){}},{key:"userInterfaceExports",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({CreateDir:this.CreateDir.bind(this),WriteFile:this.WriteFile.bind(this),RemoveDir:this.RemoveDir.bind(this)},l)}},{key:"storageInit",value:function(){var e="".concat(this.baseStoageUrl,"/").concat(this.whiteBoardFlag);try{this.fileSystemManager.accessSync(e),this.fileSystemManager.rmdirSync(e,!0),this.fileSystemManager.mkdirSync(e,!0),console.crlog("[FileManager] storageInit success")}catch(t){if(t.toString().indexOf("fail no such file or directory")>-1)return console.crlog("[FileManager] storageInit success"),void this.fileSystemManager.mkdirSync(e,!0);console.log(t)}}},{key:"storageUnInit",value:function(){}},{key:"CreateDir",value:function(e){var t="".concat(this.baseStoageUrl,"/").concat(this.whiteBoardFlag,"/").concat(e);try{return this.fileSystemManager.mkdirSync(t,!0),t}catch(e){var n=e.toString();return!(n.indexOf("fail permission denied")>-1)&&(n.indexOf("fail file already exists")>-1?t:(console.crlog("[FileManager] create dir Fail: ".concat(n)),!1))}}},{key:"WriteFile",value:function(e){var t=e.fileName,n=e.buffer,i=e.dir;try{this.fileSystemManager.accessSync(i);var r="".concat(i,"/").concat(t);return this.fileSystemManager.writeFileSync(r,n,"binary"),r}catch(e){var o=e.toString();return o.indexOf("fail no such file or directory")>-1||console.crlog("[FileManager] write file Fail: ".concat(o)),!1}}},{key:"RemoveDir",value:function(e){try{return this.fileSystemManager.rmdirSync(e,!0),console.crlog("[FileManager] remove dir Success: ".concat(e)),!0}catch(e){var t=e.toString();return!(t.indexOf("fail permission denied")>-1||(console.crlog("[FileManager] remove dir Fail: ".concat(t)),0))}}}])&&s(t.prototype,n),i&&s(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}());a.SDK_event.addEventListener("SDKInit",(function(){u.init()})).addEventListener("SDKUnInit",(function(){u.unInit()})),e.exports={InterfaceExports:u.userInterfaceExports()}},function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=n(13),a=n(4),l=n(3),u=n(1),d=(n(20),n(5)),h=n(22),f=n(24),p=n(26),_=n(27),g=n(29),y=n(31),C=n(8),v=n(32),m=n(33),S=n(0),I=n(34),E=n(36),b=n(2),R=n(10),w=(u.CRVideo,o(o(o(o(o(o(o(o(o({sdkver:a.sdkver,systemInfo:l.deviceInfo,Constant:b,MD5:R,base64:S.base64,generateUUID:u.Ice.generateUUID,Publish:S.SDK_event,Debounce:S.debounce,CRVideo:u.CRVideo,NotifyStartMarked:u.CR__NotifyStartMarked,NotifyStopMarked:u.CR__NotifyStopMarked,NotifyMarkData:u.CR__NotifyMarkData,NotifyClearAllMarks:u.CR__NotifyClearAllMarks,EnableLog2File:C.EnableLog2File,Login:d.CRVideo_Login,LoginByToken:d.CRVideo_LoginByToken,UpdateToken:d.CRVideo_UpdateToken,Logout:d.CRVideo_Logout,SetDNDStatus:d.CRVideo_SetDNDStatus,StartUserStatusNotify:d.CRVideo_StartUserStatusNotify,StopUserStatusNotify:d.CRVideo_StopUserStatusNotify,GetUserStatus:d.CRVideo_GetUserStatus,SendCmd:d.CRVideo_SendCmd,SendBuffer:d.CRVideo_SendBuffer,CreateMeeting:v.CRVideo_CreateMeeting,EnterMeeting:v.CRVideo_EnterMeeting,EnterMeeting2:v.CRVideo_EnterMeeting2,EnterMeeting3:v.CRVideo_EnterMeeting3,ExitMeeting:v.CRVideo_ExitMeeting,Kickout:v.CRVideo_Kickout,StopMeeting:v.CRVideo_StopMeeting,DestroyMeeting:v.CRVideo_DestroyMeeting,GetMainVideo:v.CRVideo_GetMainVideo,SetMainVideo:v.CRVideo_SetMainVideo,GetMemberInfo:v.CRVideo_GetMemberInfo,GetAllMembers:v.CRVideo_GetAllMembers,SendIMMsg:v.CRVideo_SendIMMsg,SendMeetingCustomMsg:v.CRVideo_SendMeetingCustomMsg,CreateVideoPlayerContext:m.CreateVideoPlayerContext,CreateAudioPlayerContext:m.CreateAudioPlayerContext,GetAudioPlayType:m.GetAudioPlayType,CreateVideoPusherContext:m.CreateVideoPusherContext,DestoryVideoPlayerContext:m.DestoryVideoPlayerContext,DestoryAudioPlayerContext:m.DestoryAudioPlayerContext,DestoryVideoPusherContext:m.DestoryVideoPusherContext,UpdateCamDefinition:m.UpdateCamDefinition,OpenVideo:m.CRVideo_OpenVideo,CloseVideo:m.CRVideo_CloseVideo,OpenMic:m.CRVideo_OpenMic,CloseMic:m.CRVideo_CloseMic,SetAllAudioClose:m.CRVideo_SetAllAudioClose,SetDefaultVideo:m.CRVideo_SetDefaultVideo,GetMediaInfo:m.CRVideo_GetMediaInfo,GetScreenInfo:m.CRVideo_GetScreenInfo,GetScreenShareInfo:m.CRVideo_GetScreenShareInfo,GetAllMarkData:m.CRVideo_GetAllMarkData,GetDefaultVideo:m.CRVideo_GetDefaultVideo,GetAllVideoInfo:m.CRVideo_GetAllVideoInfo,GetWatchableVideos:m.CRVideo_GetWatchableVideos,SetBeautifyFace:m.CRVideo_SetBeautifyFace,BroadcastLivePusher:m.CRVideo_BroadcastLivePusher,BroadcastLivePusherNet:m.CRVideo_BroadcastLivePusherNet,BroadcastLivePlayer:m.CRVideo_BroadcastLivePlayer,BroadcastAudioPlayer:m.CRVideo_BroadcastAudioPlayer,VideoRequestFullscreen:m.CRVideo_VideoRequestFullscreen,VideoExitFullscreen:m.CRVideo_VideoExitFullscreen,OpenVideoFailRslt:m.CRVideo_OpenVideoFailRslt,OpenMicFailRslt:m.CRVideo_OpenMicFailRslt,PreventBlackScreen:m.CRVideo_PreventBlackScreen,SendCmdRlst:d.CRVideo_SendCmdRlst,SendBufferRslt:d.CRVideo_SendBufferRslt,SendProgress:d.CRVideo_SendProgress,LoginSuccess:d.CRVideo_LoginSuccess,LoginFail:d.CRVideo_LoginFail,LogoutSuccess:d.CRVideo_LogoutSuccess,LogoutFail:d.CRVideo_LogoutFail,LineOff:d.CRVideo_LineOff,NotifyCmdData:d.CRVideo_NotifyCmdData,NotifyBufferData:d.CRVideo_NotifyBufferData,NotifyTokenWillExpire:d.CRVideo_NotifyTokenWillExpire,CreateMeetingSuccess:v.CRVideo_CreateMeetingSuccess,CreateMeetingFail:v.CRVideo_CreateMeetingFail,EnterMeetingRslt:v.CRVideo_EnterMeetingRslt,SendIMMsgRslt:v.CRVideo_SendIMMsgRslt,UserEnterMeeting:v.CRVideo_UserEnterMeeting,UserLeftMeeting:v.CRVideo_UserLeftMeeting,MeetingDropped:v.CRVideo_MeetingDropped,NotifyIMmsg:v.CRVideo_NotifyIMmsg,StopMeetingRslt:v.CRVideo_StopMeetingRslt,DestroyMeetingRslt:v.CRVideo_DestroyMeetingRslt,MeetingStopped:v.CRVideo_MeetingStopped,GetPhoneMeetInfo:v.CRVideo_GetPhoneMeetInfo,NotifyMainVideoChanged:v.CRVideo_NotifyMainVideoChanged,NotifyMeetingCustomMsg:v.CRVideo_NotifyMeetingCustomMsg,SendMeetingCustomMsgRslt:v.CRVideo_SendMeetingCustomMsgRslt,NotifyVoteDataUpdate:v.CRVideo_NotifyVoteDataUpdate,NotifyVideoWallStatus:v.CRVideo_NotifyVideoWallStatus,NotifyNickNameChanged:v.CRVideo_NotifyNickNameChanged,VideoStatusChanged:m.CRVideo_VideoStatusChanged,VideoDevChanged:m.CRVideo_VideoDevChanged,AudioStatusChanged:m.CRVideo_AudioStatusChanged,MicEnergyUpdate:m.CRVideo_MicEnergyUpdate,NotifyAllAudioClose:m.CRVideo_NotifyAllAudioClose,GetScreenShareInfoRslt:m.CRVideo_GetScreenShareInfoRslt,GetAllMarkDataRslt:m.CRVideo_GetAllMarkDataRslt,NotifyScreenShareStarted:m.CRVideo_NotifyScreenShareStarted,NotifyScreenShareStopped:m.CRVideo_NotifyScreenShareStopped,GetMediaInfoRslt:m.CRVideo_GetMediaInfoRslt,NotifyMediaStart:m.CRVideo_NotifyMediaStart,NotifyMediaPause:m.CRVideo_NotifyMediaPause,NotifyMediaStop:m.CRVideo_NotifyMediaStop,VideoRequestFullscreenRslt:m.CRVideo_VideoRequestFullscreenRslt,VideoExitFullscreenRslt:m.CRVideo_VideoExitFullscreenRslt},c),h.InterfaceExports),f.InterfaceExports),p.InterfaceExports),_.InterfaceExports),g.InterfaceExports),y.InterfaceExports),I.InterfaceExports),E.InterfaceExports));if("undefined"==typeof wx)throw"RTCSDK只能在微信小程序环境中导入";"undefined"!=typeof uni?(console.log("[MainInterface] current env: uniapp"),getApp().globalData.RTCSDK=w):(console.log("[MainInterface] current env: wx"),wx.RTCSDK=w),e.exports=w},function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=n(4),o=n(0),s=n(3);function c(e){console.crlog("[MainInterface] -------appshow------"),o.SDK_event.emitEventListener("appShow",e)}function a(){console.crlog("[MainInterface] -------apphide------"),o.SDK_event.emitEventListener("appHide")}function l(e){console.crlog("[MainInterface] -------内存不足------".concat(JSON.stringify(e)))}function u(e){console.crlog("[Error] ".concat(e))}function d(e){console.crlog("[MainInterface] appNetworkWeakChange: ".concat(JSON.stringify(e)))}function h(e){console.crlog("[MainInterface] NetworkStatusChange: ".concat(JSON.stringify(e)))}var f={Init:function(e){return console.crlog("[MainInterface] verson: ".concat(r.sdkver)),console.crlog("[MainInterface] initConfig: ".concat(o.toString(e))),s.init?(console.crlog("[Warn] Init is Repeated execution"),0):(wx.onMemoryWarning(l),wx.onError(u),wx.onNetworkWeakChange&&wx.onNetworkWeakChange(d),wx.onNetworkStatusChange&&wx.onNetworkStatusChange(h),wx.onAppShow(c),wx.onAppHide(a),"object"===i(e)&&(r.useCallSer=void 0===e.isCallSer?r.useCallSer:e.isCallSer),o.SDK_event.emitEventListener("SDKInit"),s.init=!0,0)},UnInit:function(){return console.crlog("[MainInterface] UnInit"),o.SDK_event.emitEventListener("SDKUnInit"),wx.offMemoryWarning(l),wx.offError(u),wx.offNetworkWeakChange&&wx.offNetworkWeakChange(d),wx.offNetworkStatusChange&&wx.offNetworkStatusChange(h),wx.offAppShow(c),wx.offAppHide(a),s.init=!1,0},SetServerAddr:function(e){console.crlog("[MainInterface] SetServerAddr: ".concat(e)),r.server.setAddr(e)}};e.exports=f},function(e,t,n){var i,r,o;function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(c){"use strict";if("object"===s(t)&&null!=t&&"number"!=typeof t.nodeType)e.exports=c();else if(null!=n(15))r=[],void 0===(o="function"==typeof(i=c)?i.apply(t,r):i)||(e.exports=o);else{var a=c(),l="undefined"!=typeof self?self:$.global;"function"!=typeof l.btoa&&(l.btoa=a.btoa),"function"!=typeof l.atob&&(l.atob=a.atob)}}((function(){"use strict";var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function t(e){this.message=e}return t.prototype=new Error,t.prototype.name="InvalidCharacterError",{btoa:function(n){for(var i,r,o,s,c=String(n),a=0,l="";a<c.length;){if(i=c.charCodeAt(a++),r=c.charCodeAt(a++),o=c.charCodeAt(a++),i>255||r>255||o>255)throw new t("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");l+=e.charAt((s=i<<16|r<<8|o)>>18&63)+e.charAt(s>>12&63)+e.charAt(s>>6&63)+e.charAt(63&s)}switch(c.length%3){case 0:return l;case 1:return l.slice(0,-2)+"==";case 2:return l.slice(0,-1)+"="}},atob:function(t){for(var n,i,r=String(t).replace(/[=]+$/,""),o=0,s=0,c="";i=r.charAt(s++);~i&&(n=o%4?64*n+i:i,o++%4)?c+=String.fromCharCode(255&n>>(-2*o&6)):0)i=e.indexOf(i);return c}}}))},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){(function(e){var i=void 0!==e&&e||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(r.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new o(r.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(17),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(6))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var i,r,o,s,c,a=1,l={},u=!1,d=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?i=function(e){t.nextTick((function(){p(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){p(e.data)},i=function(e){o.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(r=d.documentElement,i=function(e){var t=d.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):i=function(e){setTimeout(p,0,e)}:(s="setImmediate$"+Math.random()+"$",c=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&p(+t.data.slice(s.length))},e.addEventListener?e.addEventListener("message",c,!1):e.attachEvent("onmessage",c),i=function(t){e.postMessage(s+t,"*")}),h.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return l[a]=r,i(a),a++},h.clearImmediate=f}function f(e){delete l[e]}function p(e){if(u)setTimeout(p,0,e);else{var t=l[e];if(t){u=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{f(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(6),n(9))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var n={key:"CR_HistoryMeetInfo",meetInfo:{},init:function(){this.meetInfo=JSON.parse(this.getStorage()||"{}")},readInfo:function(e){return this.meetInfo[e]||{}},writeInfo:function(e,t){this.meetInfo[e]=t,this.setStorage(JSON.stringify(this.meetInfo))},setStorage:function(e){return wx.setStorageSync(this.key,e)},getStorage:function(){return wx.getStorageSync(this.key)},removeStorage:function(){this.meetInfo={},wx.removeStorageSync(this.key)}};n.init(),e.exports=n},function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,s=void 0,s=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===i(s)?s:String(s)),r)}var o,s}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var c=n(0),a=n(1),l=n(3),u=n(2),d=n(5);c.SDK_event.addEventListener("callserverLoginSuccess",(function(e){p.start()})).addEventListener("callserverLogout",(function(){p.stop()})).addEventListener("appShow",(function(){l.callServerConnectting&&p.start()})).addEventListener("appHide",(function(){p.stop()})).addEventListener("EnterMeetingSuccess",(function(){f.start()})).addEventListener("ClearMeetingData",(function(){f.stop()}));var h=function(){function e(t){r(this,e),this.allowErrorTime=t.allowErrorTime||0,this.shakeTime=t.shakeTime||5e3,this.errorTime=0,this.shakeTimerId=null}return s(e,[{key:"start",value:function(){this.startShakeHand()}},{key:"stop",value:function(){this.stopShakeHand()}},{key:"startShakeHand",value:function(){var e=this,t={cmd:"ShakeHand",module:"CallServer",callID:l.call.getCallId(),timeStamp:Math.round((new Date).getTime()/1e3)},n=new Date;d.callserverSendCmd(t).then((function(t){0===t.RspCode?(e.errorTime=0,console.crlog("[ShakeHand] CallServer Success delay: ".concat(new Date-n,"ms")),c.SDK_event.emitEventListener("CallServerShakeHandSuccess")):console.crlog("[ShakeHand] CallServer "+t.RspCode)})).catch((function(t){console.log(t),e.errorTime>=e.allowErrorTime?(clearTimeout(e.shakeTimerId),c.SDK_event.emitEventListener("callserverShakeHandFail")):(e.errorTime++,console.crlog("[ShakeHand] CallServer Fail,time:".concat(e.errorTime)))})),this.shakeTimerId=setTimeout((function(){e.startShakeHand()}),this.shakeTime)}},{key:"stopShakeHand",value:function(){clearTimeout(this.shakeTimerId),this.shakeTimerId=null}}]),e}(),f=new(function(){function e(t){r(this,e),this.KeepAliveTimer=null,this.KeepAliveShakeTime=t.KeepAliveShakeTime||3e4,this.RefreshSessionTimer=null,this.RefreshSessionShakeTime=t.RefreshSessionShakeTime||1e4,this.registerCallBack()}return s(e,[{key:"registerCallBack",value:function(){var e=this;a.CR__RefreshSessionRslt.callback=function(t){console.crlog("[ShakeHand] Refresh Success delay: ".concat(new Date-e.refreshStartTime,"ms")),t!==u.CRVideo_NOERR&&(console.crlog("[Error] CR__RefreshSessionRslt Callback Fail,errcode: ".concat(t)),c.SDK_event.emitEventListener("MeetingAbnormalDropped",t,"RefreshSessionRslt Fail Code: ".concat(t)))},a.CR__KeepAliveRslt.callback=function(e){e!==u.CRVideo_NOERR&&(console.crlog("[Error] CR__KeepAliveRslt Callback Fail,errcode: ".concat(e)),c.SDK_event.emitEventListener("MeetingAbnormalDropped",e,"KeepAliveRslt Fail Code: ".concat(e)))}}},{key:"start",value:function(){var e=this;this.stop(),this.startTimerId=setTimeout((function(){e.sendKeepAlive(),e.sendRefreshSessionStart()}),500)}},{key:"sendKeepAlive",value:function(){a.CR__KeepAlive(),this.KeepAliveTimer=setTimeout(this.sendKeepAlive.bind(this),this.KeepAliveShakeTime)}},{key:"sendRefreshSessionStart",value:function(){this.refreshStartTime=new Date,a.CR__RefreshSession(),this.RefreshSessionTimer=setTimeout(this.sendRefreshSessionStart.bind(this),this.RefreshSessionShakeTime)}},{key:"stop",value:function(){clearTimeout(this.startTimerId),clearTimeout(this.KeepAliveTimer),clearTimeout(this.RefreshSessionTimer)}}]),e}())({KeepAliveShakeTime:3e4,RefreshSessionShakeTime:1e4}),p=new h({allowErrorTime:5,shakeTime:5e3})},function(e,t){e.exports={12:1102}},function(e,t,n){var i;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,a(i.key),i)}}function c(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}var l=n(0),u=n(23),d=n(5),h=n(1),f=n(3),p=h.Ice,_=(c(i={NotifyCallAccepted:new l.NewCallBack("NotifyCallAccepted"),NotifyCallRejected:new l.NewCallBack("NotifyCallRejected"),NotifyUserStatus:new l.NewCallBack("NotifyUserStatus"),RejectCallSuccess:new l.NewCallBack("RejectCallSuccess"),CallSuccess:new l.NewCallBack("CallSuccess"),CallFail:new l.NewCallBack("CallFail"),HungupCallSuccess:new l.NewCallBack("HungupCallSuccess"),HungupCallFail:new l.NewCallBack("HungupCallFail"),RejectCallFail:new l.NewCallBack("RejectCallFail")},"HungupCallSuccess",new l.NewCallBack("HungupCallSuccess")),c(i,"HungupCallFail",new l.NewCallBack("HungupCallFail")),c(i,"NotifyCallHungup",new l.NewCallBack("NotifyCallHungup")),c(i,"NotifyCallIn",new l.NewCallBack("NotifyCallIn")),c(i,"AcceptCallFail",new l.NewCallBack("AcceptCallFail")),c(i,"AcceptCallSuccess",new l.NewCallBack("AcceptCallSuccess")),c(i,"RejectCallSuccess",new l.NewCallBack("RejectCallSuccess")),c(i,"RejectCallFail",new l.NewCallBack("RejectCallFail")),c(i,"GetUserStatusSuccess",new l.NewCallBack("GetUserStatusSuccess")),c(i,"GetUserStatusFail",new l.NewCallBack("GetUserStatusFail")),c(i,"SetDNDStatusSuccess",new l.NewCallBack("SetDNDStatusSuccess")),c(i,"SetDNDStatusFail",new l.NewCallBack("SetDNDStatusFail")),i),g=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"init",value:function(){l.SDK_event.addEventListener("ServerCall",(function(e){_.NotifyCallIn.trigger(e.callID,e.meeting,e.caller,e.usrExDat)})).addEventListener("ServerAccept",(function(e){_.NotifyCallAccepted.trigger(e.callID,e.meeting,e.usrExDat||"")})).addEventListener("ServerDecline",(function(e){f.call.setCallId(null),_.NotifyCallRejected.trigger(e.callID,u(e.declineReason),e.usrExDat)})).addEventListener("ServerReleaseCall",(function(e){f.call.setCallId(null),_.NotifyCallHungup.trigger(e.callID,e.usrExDat)}))}},{key:"unInit",value:function(){l.SDK_event.removeAllEvent("ServerCall").removeAllEvent("ServerAccept").removeAllEvent("ServerReleaseCall"),this.reset()}},{key:"reset",value:function(){f.call.setCallId(null)}},{key:"userInterfaceExports",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({Call:this.Call.bind(this),AcceptCall:this.AcceptCall.bind(this),RejectCall:this.RejectCall.bind(this),HungupCall:this.HungupCall.bind(this),GetUserStatus:this.GetUserStatus.bind(this),SetDNDStatus:this.SetDNDStatus.bind(this)},_)}},{key:"Call",value:function(e,t,n,i){var r=p.generateUUID();console.crlog("[CALL] Call start... CallID:".concat(r));var o={callID:r,called:e,calledOEMKey:f.OEMKey,calledType:0,cmd:"ClientCall",meeting:t,module:"CallServer",usrExDat:n||""};return d.callserverSendCmd(o).then((function(e){var t=e.RspCode;if(console.crlog("[CALL] Call result: ".concat(JSON.stringify({code:t}))),0!==t)return f.call.setCallId(r),void _.CallFail.trigger(r,u(t),i);_.CallSuccess.trigger(r,i)})).catch((function(e){console.crlog("[Error] Call Fail..."),console.crlog(e),_.CallFail.trigger(r,1,i)})),f.call.setCallId(r),r}},{key:"HungupCall",value:function(e,t,n){console.crlog("[CALL] HungupCall start... callID: ".concat(e));var i={callID:e,cmd:"ClientReleaseCall",module:"CallServer",usrExDat:t||""};f.call.setCallId(null),d.callserverSendCmd(i).then((function(t){var i=t.RspCode;console.crlog("[CALL] HungupCall result: ".concat(JSON.stringify({code:i}))),0===i?_.HungupCallSuccess.trigger(e,n):_.HungupCallFail.trigger(e,u(i),n)})).catch((function(t){console.crlog("[Error] HungupCall Fail..."),console.crlog(t),_.HungupCallFail.trigger(e,1,n)}))}},{key:"AcceptCall",value:function(e,t,n,i){console.crlog("[CALL] AcceptCall start... callID: ".concat(e));var r={module:"CallServer",cmd:"ClientAccept",callID:e,meeting:t,usrExDat:n||""};d.callserverSendCmd(r).then((function(t){var n=t.RspCode;console.crlog("[CALL] AcceptCall result: ".concat(JSON.stringify({code:n}))),0===n?(f.call.setCallId(e),_.AcceptCallSuccess.trigger(e,i)):_.AcceptCallFail.trigger(e,u(n),i)})).catch((function(t){console.crlog("[Error] AcceptCall Fail..."),console.crlog(t),_.AcceptCallFail.trigger(e,1,i)}))}},{key:"RejectCall",value:function(e,t,n){console.crlog("[CALL] RejectCall start... callID: ".concat(e));var i={module:"CallServer",cmd:"ClientDecline",declineReason:"ClientDecline",callID:e,usrExDat:t||""};d.callserverSendCmd(i).then((function(t){var i=t.RspCode;console.crlog("[CALL] RejectCall result: ".concat(JSON.stringify({code:i}))),0===i?_.RejectCallSuccess.trigger(e,n):_.RejectCallFail.trigger(e,u(i),n)})).catch((function(t){console.crlog("[Error] RejectCall Fail..."),console.crlog(t),_.RejectCallFail.trigger(e,1,n)}))}},{key:"GetUserStatus",value:function(e){console.crlog("[CALL] GetUserStatus start..."),d.callserverSendCmd({cmd:"GetUserStatus",module:"CallServer"}).then((function(t){var n=t.RspCode;console.crlog("[CALL] GetUserStatus result: ".concat(JSON.stringify({code:n}))),0===n?_.GetUserStatusSuccess.trigger(t.userStatus,e):_.GetUserStatusFail.trigger(u(n),e)})).catch((function(t){console.crlog("[Error] GetUserStatus Fail..."),console.crlog(t),_.GetUserStatusFail.trigger(1,e)}))}},{key:"SetDNDStatus",value:function(e,t){console.crlog("[CALL] SetDNDStatus start...");var n={cmd:"ClientCustomStatusUpdate",module:"CallServer",customStatus:e};d.callserverSendCmd(n).then((function(e){var n=e.RspCode;console.crlog("[CALL] SetDNDStatus result: ".concat(JSON.stringify({code:n}))),0===n?_.SetDNDStatusSuccess.trigger(t):_.SetDNDStatusFail.trigger(u(n),t)})).catch((function(e){console.crlog("[Error] SetDNDStatus Fail..."),console.crlog(e),_.SetDNDStatusFail.trigger(1,t)}))}}])&&s(t.prototype,n),i&&s(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}());l.SDK_event.addEventListener("SDKInit",(function(){g.init()})).addEventListener("SDKUnInit",(function(){g.unInit()})),e.exports={InterfaceExports:g.userInterfaceExports()}},function(e,t,n){var i=n(2),r={0:i.CRVideo_NOERR,1:i.CRVideo_SERVER_EXCEPTION,2:i.CRVideo_INVALID_CALLID,3:i.CRVideo_ERR_CALL_EXIST,4:i.CRVideo_ERR_BUSY,5:i.CRVideo_ERR_OFFLINE,8:i.CRVideo_INVALID_CALLID,NoAnswer:i.CRVideo_ERR_NOANSWER,ClientDecline:i.CRVideo_ERR_REFUSE,Refuse:i.CRVideo_ERR_REFUSE};e.exports=function(e){return void 0===r[e]?i.CRVideo_UNKNOWERR:r[e]}},function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,c(i.key),i)}}function c(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}var a=n(0),l=n(25),u=n(5),d=n(1),h=(n(3),d.Ice),f={InviteSuccess:new a.NewCallBack("InviteSuccess"),InviteFail:new a.NewCallBack("InviteFail"),NotifyInviteIn:new a.NewCallBack("NotifyInviteIn"),AcceptInviteSuccess:new a.NewCallBack("AcceptInviteSuccess"),AcceptInviteFail:new a.NewCallBack("AcceptInviteFail"),RejectInviteSuccess:new a.NewCallBack("RejectInviteSuccess"),RejectInviteFail:new a.NewCallBack("RejectInviteFail"),NotifyInviteCanceled:new a.NewCallBack("NotifyInviteCanceled"),NotifyInviteAccepted:new a.NewCallBack("NotifyInviteAccepted"),NotifyInviteRejected:new a.NewCallBack("NotifyInviteRejected"),CancelInviteSuccess:new a.NewCallBack("CancelInviteSuccess"),CancelInviteFail:new a.NewCallBack("CancelInviteFail")},p=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.inviteCookieList={}}var t,n,i;return t=e,(n=[{key:"init",value:function(){var e=this;a.SDK_event.addEventListener("invite",(function(e){f.NotifyInviteIn.trigger(e.inviteID,e.inviterUserID,e.usrExtDat)})).addEventListener("cancelInvite",(function(e){var t=e.failCode?l(e.failCode):0;f.NotifyInviteCanceled.trigger(e.inviteID,t,e.usrExtDat)})).addEventListener("rejectInvite",(function(e){var t=e.failCode?l(e.failCode):0;f.NotifyInviteRejected.trigger(e.inviteID,t,e.usrExtDat)})).addEventListener("acceptInvite",(function(e){f.NotifyInviteAccepted.trigger(e.inviteID,e.usrExtDat)})).addEventListener("inviteResult",(function(t){var n=t.inviteID,i=e.inviteCookieList[n];delete e.inviteCookieList[n],0===t.failCode?f.InviteSuccess.trigger(n,i):f.InviteFail.trigger(n,1,i)}))}},{key:"unInit",value:function(){a.SDK_event.removeAllEvent("invite").removeAllEvent("cancelInvite").removeAllEvent("rejectInvite").removeAllEvent("acceptInvite"),this.reset()}},{key:"reset",value:function(){this.inviteCookieList={}}},{key:"userInterfaceExports",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({Invite:this.Invite.bind(this),AcceptInvite:this.AcceptInvite.bind(this),RejectInvite:this.RejectInvite.bind(this),CancelInvite:this.CancelInvite.bind(this)},f)}},{key:"Invite",value:function(e,t,n){var i=this;console.crlog("[Invite] Invite start...");var r=h.generateUUID(),o={module:"CallServer",cmd:"invite",inviteID:r,invitedUserID:e,usrExtDat:t||""};return u.callserverSendCmd(o).then((function(e){var t=e.RspCode;console.crlog("[Invite] Invite result: ".concat(JSON.stringify({code:t}))),0===t?i.inviteCookieList[r]=n:f.InviteFail.trigger(r,l(t),n)})).catch((function(e){console.crlog("[Error] Invite Fail..."),console.crlog(e),f.InviteFail.trigger(r,1,n)})),r}},{key:"AcceptInvite",value:function(e,t,n){console.crlog("[Invite] AcceptInvite start...");var i={module:"CallServer",cmd:"acceptInvite",inviteID:e,usrExtDat:t||""};u.callserverSendCmd(i).then((function(t){var i=t.RspCode;console.crlog("[Invite] AcceptInvite result: ".concat(JSON.stringify({code:i}))),0===i?f.AcceptInviteSuccess.trigger(e,n):f.AcceptInviteFail.trigger(e,l(i),n)})).catch((function(t){console.crlog("[Error] AcceptInvite Fail..."),console.crlog(t),f.AcceptInviteFail.trigger(e,1,n)}))}},{key:"RejectInvite",value:function(e,t,n){console.crlog("[Invite] RejectInvite start... inviteID: ".concat(e));var i={module:"CallServer",cmd:"rejectInvite",inviteID:e,usrExtDat:t||""};u.callserverSendCmd(i).then((function(t){var i=t.RspCode;console.crlog("[Invite] RejectInvite result: ".concat(JSON.stringify({code:i}))),0===i?f.RejectInviteSuccess.trigger(e,n):f.RejectInviteFail.trigger(e,l(i),n)})).catch((function(t){console.crlog("[Error] RejectInvite Fail..."),console.crlog(t),f.RejectInviteFail.trigger(e,1,n)}))}},{key:"CancelInvite",value:function(e,t,n){console.crlog("[Invite] CancelInvite start... inviteID: ".concat(e));var i={module:"CallServer",cmd:"cancelInvite",inviteID:e,usrExtDat:t||""};u.callserverSendCmd(i).then((function(t){var i=t.RspCode;console.crlog("[Invite] CancelInvite result: ".concat(JSON.stringify({code:i}))),0===i?f.CancelInviteSuccess.trigger(e,n):f.CancelInviteFail.trigger(e,l(i),n)})).catch((function(t){console.crlog("[Error] CancelInvite Fail..."),console.crlog(t),f.CancelInviteFail.trigger(e,1,n)}))}}])&&s(t.prototype,n),i&&s(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}());a.SDK_event.addEventListener("SDKInit",(function(){p.init()})).addEventListener("SDKUnInit",(function(){p.unInit()})),e.exports={InterfaceExports:p.userInterfaceExports()}},function(e,t,n){var i=n(2),r={0:i.CRVideo_NOERR,1:i.CRVideo_SERVER_EXCEPTION,2:i.CRVideo_INVALID_CALLID,3:i.CRVideo_ERR_CALL_EXIST,4:i.CRVideo_ERR_BUSY,5:i.CRVideo_ERR_OFFLINE,6:i.CRVideo_ERR_NOANSWER,7:i.CRVideo_INVALID_CALLID,ClientDecline:i.CRVideo_ERR_REFUSE};e.exports=function(e){return void 0===r[e]?i.CRVideo_UNKNOWERR:r[e]}},function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,c(i.key),i)}}function c(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}var a=n(0),l=n(1),u=l.Ice,d=l.CRVideo,h={SvrRecordStateChanged:new a.NewCallBack("SvrRecordStateChanged"),SvrRecVideosChanged:new a.NewCallBack("SvrRecVideosChanged"),SvrRecFileStateChanged:new a.NewCallBack("SvrRecFileStateChanged")},f=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.reset()}var t,n,i;return t=e,(n=[{key:"init",value:function(){var e=this;this.updateDataFn=this.updateData.bind(this),this.clearDataFn=this.reset.bind(this),a.SDK_event.addEventListener("EnterMeetingSuccess",this.updateDataFn).addEventListener("ClearMeetingData",this.clearDataFn).addEventListener("notifySvrRecordStateChanged",(function(t,n,i){var r=e.recordState=n.value;console.crlog("[MEDIA] NotifySvrRecordStateChanged Callback operatorId: "+t+",state: "+r+",err: "+i),0===r&&(e.MixersList=[]),h.SvrRecordStateChanged.trigger(r,i)})).addEventListener("notifySvrRecordCfgChanged",(function(t,n){try{var i=JSON.parse(n);e.savaContent(i)}catch(e){}console.crlog("[MEDIA] NotifySvrRecordCfgChanged Callback:jsonCfg is "+n),h.SvrRecVideosChanged.callback(n)})).addEventListener("notifySvrRecordFileState",(function(e){console.crlog("[MEDIA] NotifySvrRecordFileState Callback:jsonState is "+e),h.SvrRecFileStateChanged.callback(JSON.parse(e))}))}},{key:"unInit",value:function(){a.SDK_event.removeAllEvent("notifySvrRecordStateChanged").removeAllEvent("notifySvrRecordCfgChanged").removeAllEvent("notifySvrRecordFileState").removeEventListener("EnterMeetingSuccess",this.updateDataFn).removeEventListener("ClearMeetingData",this.clearDataFn),this.updateDataFn=null,this.clearDataFn=null,this.reset()}},{key:"reset",value:function(){this.MixersList=[],this.recordState=0}},{key:"userInterfaceExports",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({GetSvrMixerState:this.GetSvrMixerState.bind(this),StartSvrMixer:this.StartSvrMixer.bind(this),UpdateSvrMixerContent:this.UpdateSvrMixerContent.bind(this),StopSvrMixer:this.StopSvrMixer.bind(this)},h)}},{key:"GetSvrMixerState",value:function(){return this.recordState||0}},{key:"StartSvrMixer",value:function(e,t,n){var i=this;console.crlog("[RECORD] StartSvrMixer,mutiMixerCfgs:\n".concat(JSON.stringify(e),"\nmutiMixerContents:\n").concat(JSON.stringify(t),"\nmutiMixerOutputs:\n").concat(JSON.stringify(n))),a.isObject(e)&&(e=[e]),a.isObject(t)&&(t=[t]),a.isObject(n)&&(n=[n]);var r=[];try{for(var o=function(o){var s=e[o],c={},a={};c.id=s.id,c.clientType=1;var l=s.cfg||{};if(a.dstResolutionWidth=l.width||1280,a.dstResolutionHeight=l.height||720,a.fps=l.frameRate||25,a.gop=l.gop||120,a.maxBPS=l.bitRate||35e4,a.qp=l.defaultQP||26,c.recCfg=a,!s||void 0===s.id)throw"mutiMixerCfgs id not find";var u=t.find((function(e){return s.id===e.id})),h=n.find((function(e){return s.id===e.id}));if(!u||!h)throw"mutiMixerContents or mutiMixerOutputs id not find";h.output.forEach((function(e){0==e.type?(a.serverPathFileName=e.filename,a.userNetDiskId=d.OAuthUserId||null):1==e.type&&(a.liveUrl=e.liveUrl)})),i.fmtRecordContentCfg(u.content),c.contents=u.content,r.push(c)},s=0;s<e.length;s++)o(s)}catch(e){var c="[RECORD] StartSvrMixer error: ".concat(e);throw console.crlog(c),c}var u=JSON.stringify(r);console.crlog("[RECORD] ----- CR__StartSvrRecord -----"),l.CR__StartSvrRecord(u).then((function(e,t){console.crlog("[RECORD] StartSvrRecordRslt Callback: ".concat(e," ").concat(t?","+t:""))}))}},{key:"UpdateSvrMixerContent",value:function(e){var t=this;a.isObject(e)&&(e=[e]);try{var n=!1;if(e.forEach((function(e){t.MixersList.some((function(n){if(n.id===e.id)return t.fmtRecordContentCfg(e.content||e.recContents),n.contents=e.content||e.recContents,!0}))&&(n=!0)})),!n)throw"not find id"}catch(e){var i="[RECORD] UpdateSvrMixerContent error: ".concat(e);throw console.crlog(i),i}var r=JSON.stringify(this.MixersList);console.crlog("[RECORD] ----- CR__UpdateSvrRecCfg -----"),l.CR__UpdateSvrRecCfg(r).then((function(e,t){console.crlog("[RECORD] UpdateSvrRecCfgRslt Callback: ".concat(e," ").concat(t?","+t:""))}))}},{key:"StopSvrMixer",value:function(){console.crlog("[RECORD] ----- CR__StopSvrRecord ------"),l.CR__StopSvrRecord().then((function(e,t){console.crlog("[RECORD] StopSvrRecordRslt Callback: ".concat(e," ").concat(t?","+t:""))}))}},{key:"updateData",value:function(e){if(e.confInfo&&e.confInfo.srv_record_state){this.recordState=+e.confInfo.srv_record_state;var t=JSON.parse(e.confInfo.srv_record_cfg);this.savaContent(t)}else this.recordState=0,this.MixersList=[]}},{key:"savaContent",value:function(e){a.isObject(e)?this.MixersList=[e]:a.isArray(e)?this.MixersList=e:this.MixersList=[]}},{key:"fmtRecordContentCfg",value:function(e){e.forEach((function(e){if(4==e.type)e.param={},e.param.bgcolor=null,e.param.prefixtext=null,e.param.resourceid=u.generateUUID(),e.param.textcolor=null;else if(0==e.type){var t,n,i,r;n=(t=e.param.camid.split("."))[t.length-1],t.length=t.length-1,i=t.join(".");var o=d.findUserInfo("userId",i);if(!o)throw"mutiMixerContents userId no find";r=o.termId,e.param={},e.param.camId=+n,e.param.termId=r}else 7==e.type&&(e.param.resourceid=u.generateUUID())}))}},{key:"findMixerInfo",value:function(e){return this.MixersList.find((function(t){return t.id==e}))}}])&&s(t.prototype,n),i&&s(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}());a.SDK_event.addEventListener("SDKInit",(function(){f.init()})).addEventListener("SDKUnInit",(function(){f.unInit()})),e.exports={InterfaceExports:f.userInterfaceExports()}},function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,c(i.key),i)}}function c(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}var a=n(0),l=n(1),u=n(28),d=n(2),h=l.Ice,f=l.CRVideo,p={CreateCloudMixerFailed:new a.NewCallBack("CreateCloudMixerFailed"),CloudMixerStateChanged:new a.NewCallBack("CloudMixerStateChanged"),CloudMixerInfoChanged:new a.NewCallBack("CloudMixerInfoChanged"),CloudMixerOutputInfoChanged:new a.NewCallBack("CloudMixerOutputInfoChanged")},_=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.reset()}var t,n,i;return t=e,(n=[{key:"init",value:function(){var e=this;this.updateDataFn=this.updateData.bind(this),this.clearDataFn=this.reset.bind(this),a.SDK_event.addEventListener("EnterMeetingSuccess",this.updateDataFn).addEventListener("ClearMeetingData",this.clearDataFn).addEventListener("notifyClodudRecordStateChanged",(function(t,n,i,r){var o=i.value,s=JSON.parse(r);console.crlog("[CloudRecord] ICE Notify: notifyCloudRecordStateChanged, params:".concat(JSON.stringify({operatorId:t,MixerID:n,status:o}))),e.updateRecordList({MixerID:n,state:o});var c=f.findUserInfo("termId",t),a=c?c.userId:"CRMCU";if(0===o)0!==(s={err:u(s.err),errDesc:s.errDesc}).err&&(console.crlog("[CloudRecord] CreateCloudMixerFailed.trigger(".concat(n,", ").concat(s.err,")")),p.CreateCloudMixerFailed.trigger(n,s.err));else if(1===o){var l=JSON.parse(s.jsonCfg);s=e.IceCfg2UserCfg(l)}console.crlog("[CloudRecord] CloudMixerStateChanged.trigger(".concat(n,",").concat(o,",").concat(JSON.stringify(s),",").concat(a,")")),p.CloudMixerStateChanged.trigger(n,o,s,a)})).addEventListener("notifyClodudRecordCfgChanged",(function(t,n,i){delete(i=JSON.parse(i)).storageConfig,console.crlog("[CloudRecord] ICE Notify: notifyCloudRecordCfgChanged, params:".concat(JSON.stringify({operatorId:t,MixerID:n,jsonCfg:i}))),e.updateRecordList({MixerID:n,jsonCfg:i}),console.crlog("[CloudRecord] CloudMixerInfoChanged.trigger(".concat(n,")")),p.CloudMixerInfoChanged.trigger(n)})).addEventListener("notifyClodudRecordFileState",(function(e,t){t=JSON.parse(t),console.crlog("[CloudRecord] CloudMixerOutputInfoChanged.trigger(".concat(e,", ").concat(JSON.stringify(t),")")),t.errCode&&(t.errCode=u(t.errCode)),p.CloudMixerOutputInfoChanged.trigger(e,t)}))}},{key:"unInit",value:function(){a.SDK_event.removeAllEvent("notifyClodudRecordStateChanged").removeAllEvent("notifyClodudRecordCfgChanged").removeAllEvent("notifyClodudRecordFileState").removeEventListener("EnterMeetingSuccess",this.updateDataFn).removeEventListener("ClearMeetingData",this.clearDataFn),this.updateDataFn=null,this.clearDataFn=null,this.reset()}},{key:"reset",value:function(){this.MixersList=[]}},{key:"userInterfaceExports",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({CreateCloudMixer:this.CreateCloudMixer.bind(this),DestroyCloudMixer:this.DestroyCloudMixer.bind(this),UpdateCloudMixerContent:this.UpdateCloudMixerContent.bind(this),GetCloudMixerInfo:this.GetCloudMixerInfo.bind(this),GetAllCloudMixerInfo:this.GetAllCloudMixerInfo.bind(this)},p)}},{key:"updateData",value:function(e){var t=[];if(e.confInfo&&e.confInfo.cloud_record){var n=JSON.parse(e.confInfo.cloud_record);for(var i in n)t.push({MixerID:i,jsonCfg:JSON.parse(n[i].jsonCfg||"{}"),state:n[i].state})}this.MixersList=t}},{key:"updateRecordList",value:function(e){var t=this.MixersList.findIndex((function(t){return t.MixerID==e.MixerID}));if(-1!==t)if(0==e.state)this.MixersList.splice(t,1);else for(var n in e)this.MixersList[t][n]=e[n];else{var i={};for(var n in e)i[n]=e[n];this.MixersList.push(i)}}},{key:"CreateCloudMixer",value:function(e){var t=h.generateUUID().replace(/-/g,"");try{var n=a.clone(e);n.storageConfig&&(n.storageConfig.accessKey="******",n.storageConfig.secretKey="******"),console.crlog("[CloudRecord] CRVideo_CreateCloudMixer(".concat(JSON.stringify(n),")"))}catch(e){return console.error(e),Promise.resolve().then((function(){p.CreateCloudMixerFailed.trigger(t,5)})),t}var i=this.userCfg2IceCfg(e);return l.CR__StartCloudRecord(t,JSON.stringify(i)).catch((function(e){p.CreateCloudMixerFailed.trigger(t,e)})),t}},{key:"DestroyCloudMixer",value:function(e){console.crlog("[CloudRecord] DestroyCloudMixer(".concat(e,")")),l.CR__StopCloudRecord(e).then((function(t){console.crlog("[CloudRecord] DestroyCloudMixer result: ".concat(e," success"))}),(function(t){console.crlog("[CloudRecord] DestroyCloudMixer result: ".concat(e," fail: ").concat(t))}))}},{key:"UpdateCloudMixerContent",value:function(e,t){var n=this;try{console.crlog("[CloudRecord] UpdateCloudMixerContent(".concat(e,",").concat(JSON.stringify(t),")"));for(var i=0;i<this.MixersList.length;i++)if(this.MixersList[i].MixerID===e){var r=this.MixersList[i],o=a.clone(r.jsonCfg);if(1===o.mode)for(var s in t){if("videoFileCfg"===s){if(!o.videoFileCfg)return console.crlog("不支持录制中创建视频录制"),d.CRVideo_MEETPARAM_ERR;o[s].subscribeVideos=this.videoCfgUID2TermId(t[s].subscribeVideos)}if("audioFileCfg"===s){if(!o.audioFileCfg)return console.crlog("不支持录制中创建音频录制"),d.CRVideo_MEETPARAM_ERR;o[s].subscribeAudios=this.audioCfgUID2TermId(t[s].subscribeAudios)}}else if(0===o.mode)for(var c in t){if("videoFileCfg"===c){if(!o.videoFileCfg)return console.crlog("不支持录制中创建视频录制"),d.CRVideo_MEETPARAM_ERR;t[c].layoutConfig&&(t[c].layoutConfig.reduce((function(e,t){return 0===t.type&&(t.param.camid=n.uidACamid2TermIdACamId(t.param.camid)),e.push(t),e}),[]),o[c].layoutConfig=t[c].layoutConfig),t[c].aChannelContent&&(o[c].aChannelContent=this.Uids2termIds(t[c].aChannelContent,!0))}"audioFileCfg"===c&&t[c].aChannelContent&&(o[c].aChannelContent=this.Uids2termIds(t[c].aChannelContent,!0))}return l.CR__UpdateCloudRecord(e,JSON.stringify(o)).then((function(){console.crlog("[CloudRecord] UpdateCloudMixerContent(".concat(e,",").concat(JSON.stringify(t),")"))})).exception((function(e){console.crlog(e.toString())})),d.CRVideo_NOERR}}catch(e){return console.error(e),d.CRVideo_MEETPARAM_ERR}}},{key:"GetCloudMixerInfo",value:function(e){var t=this;console.crlog("[CloudRecord] GetCloudMixerInfo(".concat(e,")"));var n=null;return this.MixersList.some((function(i){if(i.MixerID===e){var r=t.IceCfg2UserCfg(i.jsonCfg),o=f.findUserInfo("termId",i.jsonCfg.owner);return n={ID:i.MixerID,owner:o?o.userId:"",cfg:r,state:i.state},!0}})),n}},{key:"GetAllCloudMixerInfo",value:function(){var e=this;return console.crlog("[CloudRecord] GetAllCloudMixerInfo()"),this.MixersList.map((function(t){var n=e.IceCfg2UserCfg(t.jsonCfg),i=f.findUserInfo("termId",t.jsonCfg.owner);return{ID:t.MixerID,owner:i?i.userId:"",cfg:n,state:t.state}}))}},{key:"userCfg2IceCfg",value:function(e){var t=this,n={clientType:1,mode:e.mode||0,owner:f.userInfo.termId,storageConfig:e.storageConfig?e.storageConfig:{userNetDiskId:f.OAuthUserId}};if(1==n.mode&&(e.audioFileCfg&&(n.audioFileCfg={svrPath:e.audioFileCfg.svrPath?e.audioFileCfg.svrPath:"",svrFileNameSuffix:e.audioFileCfg.svrFileNameSuffix?e.audioFileCfg.svrFileNameSuffix:".mp3"},n.audioFileCfg.subscribeAudios=e.audioFileCfg.subscribeAudios?this.audioCfgUID2TermId(e.audioFileCfg.subscribeAudios):[]),e.videoFileCfg&&(n.videoFileCfg={svrPath:e.videoFileCfg.svrPath?e.videoFileCfg.svrPath:"",svrFileNameSuffix:e.videoFileCfg.svrFileNameSuffix?e.videoFileCfg.svrFileNameSuffix:".mp4",aStreamType:e.videoFileCfg.aStreamType?e.videoFileCfg.aStreamType:0},n.videoFileCfg.subscribeAudios=e.videoFileCfg.subscribeAudios?this.videoCfgUID2TermId(e.videoFileCfg.subscribeAudios):[])),0===n.mode){if(e.audioFileCfg){var i=Object.assign({aChannelType:0},e.audioFileCfg);i.aChannelContent&&(i.aChannelContent=this.Uids2termIds(i.aChannelContent)),n.audioFileCfg=i}if(e.videoFileCfg){var r=Object.assign({mixedLayout:1},e.videoFileCfg);r.layoutConfig.forEach((function(e){0===e.type&&(e.param.camid=t.uidACamid2TermIdACamId(e.param.camid))})),r.aChannelContent&&(r.aChannelContent=this.Uids2termIds(r.aChannelContent)),n.videoFileCfg=r}}return n}},{key:"IceCfg2UserCfg",value:function(e){var t=this,n=a.clone(e),i={mode:n.mode,audioFileCfg:n.audioFileCfg,videoFileCfg:n.videoFileCfg};return n.videoFileCfg&&(n.videoFileCfg.aChannelContent&&(i.videoFileCfg.aChannelContent=this.Uids2termIds(n.videoFileCfg.aChannelContent,!0)),n.videoFileCfg.subscribeVideos&&(i.videoFileCfg.subscribeVideos=this.videoCfgUID2TermId(n.videoFileCfg.subscribeVideos,!0)),n.videoFileCfg.layoutConfig&&i.videoFileCfg.layoutConfig.map((function(e){return 0===e.type&&(e.param.camid=t.uidACamid2TermIdACamId(e.param.camid,!0)),e}))),n.audioFileCfg&&(n.audioFileCfg.aChannelContent&&(i.audioFileCfg.aChannelContent=this.Uids2termIds(n.audioFileCfg.aChannelContent,!0)),n.audioFileCfg.subscribeAudios&&(i.audioFileCfg.subscribeAudios=this.audioCfgUID2TermId(n.audioFileCfg.subscribeAudios,!0))),i}},{key:"Uids2termIds",value:function(e,t){return e.map((function(e){var n=f.findUserInfo(t?"termId":"userId",e);return n?t?n.userId:n.termId:""}))}},{key:"uidACamid2TermIdACamId",value:function(e,t){var n=e.split(".")[0],i=e.split(".")[1]||0,r=f.findUserInfo(t?"termId":"userId",n);return"".concat(r?t?r.userId:r.termId:"",".").concat(i)}},{key:"uidATermId",value:function(e,t){var n=f.findUserInfo(t?"termId":"userId",e);return n?t?n.userId:n.termId:""}},{key:"videoCfgUID2TermId",value:function(e,t){var n=this;return e.map((function(e){return"_cr_all_"===e||"_cr_allDefCam_"===e?e:n.uidACamid2TermIdACamId(e,t)}))}},{key:"audioCfgUID2TermId",value:function(e,t){var n=this;return e.map((function(e){return"_cr_all_"===e?e:n.uidATermId(e,t)}))}}])&&s(t.prototype,n),i&&s(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}());a.SDK_event.addEventListener("SDKInit",(function(){_.init()})).addEventListener("SDKUnInit",(function(){_.unInit()})),e.exports={InterfaceExports:_.userInterfaceExports()}},function(e,t,n){var i=n(2),r={0:i.CRVideo_NOERR,1:i.CRVIDEOSDK_CATCH_SCREEN_ERR,2:i.CRVIDEOSDK_RECORD_MAX,3:i.CRVIDEOSDK_RECORD_NO_DISK,4:i.CRVideo_UNKNOWERR,5:i.CRVideo_MEETPARAM_ERR,6:i.CRVIDEOSDK_CFG_RESTRICTED,7:i.CRVideo_MEETPARAM_ERR,8:i.CRVideo_MEETPARAM_ERR,9:i.CRVIDEOSDK_FILE_ERR,200:i.CRVIDEOSDK_NOMORE_MCU};e.exports=function(e){return void 0===r[e]?i.CRVideo_UNKNOWERR:r[e]}},function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,c(i.key),i)}}function c(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}var a=n(0),l=n(30),u=n(5),d=n(3),h={InitQueueDatRslt:new a.NewCallBack("InitQueueDatRslt"),GetQueueStatusRslt:new a.NewCallBack("GetQueueStatusRslt"),StartQueuingRslt:new a.NewCallBack("StartQueuingRslt"),StopQueuingRslt:new a.NewCallBack("StopQueuingRslt"),QueueStatusChanged:new a.NewCallBack("QueueStatusChanged"),QueuingInfoChanged:new a.NewCallBack("QueuingInfoChanged"),GetClientStatusRslt:new a.NewCallBack("GetClientStatusRslt"),GetServingStatusRslt:new a.NewCallBack("GetServingStatusRslt"),StartServiceRslt:new a.NewCallBack("StartServiceRslt"),StopServiceRslt:new a.NewCallBack("StopServiceRslt"),ReqAssignUserRslt:new a.NewCallBack("ReqAssignUserRslt"),AutoAssignUser:new a.NewCallBack("AutoAssignUser"),CancelAssignUser:new a.NewCallBack("CancelAssignUser")},f=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"init",value:function(){this.allQueueInfo=[],a.SDK_event.addEventListener("NotifyQueueStatus",(function(e){h.QueueStatusChanged.trigger(e.status)})).addEventListener("AssignUser",(function(e){h.AutoAssignUser.trigger({queID:e.queID,usrID:e.userID,name:e.userName,queuingTime:e.wait_time,usrExDat:e.usrExDat||""})})).addEventListener("AssignCancel",(function(e){h.CancelAssignUser.trigger(e.queID,e.userID)})).addEventListener("NotifyPosition",(function(e){var t={queID:e.status.queID,position:e.position,queuingTime:e.wait_time};h.QueuingInfoChanged.trigger(t)}))}},{key:"unInit",value:function(){a.SDK_event.removeAllEvent("NotifyQueueStatus").removeAllEvent("AssignUser").removeAllEvent("AssignCancel"),this.reset()}},{key:"reset",value:function(){this.allQueueInfo=[]}},{key:"userInterfaceExports",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({InitQueueDat:this.InitQueueDat.bind(this),GetAllQueueInfo:this.GetAllQueueInfo.bind(this),GetQueueStatus:this.GetQueueStatus.bind(this),RefreshAllQueueStatus:this.RefreshAllQueueStatus.bind(this),StartQueuing:this.StartQueuing.bind(this),StopQueuing:this.StopQueuing.bind(this),GetClientStatus:this.GetClientStatus.bind(this),GetServingStatus:this.GetServingStatus.bind(this),StartService:this.StartService.bind(this),StopService:this.StopService.bind(this),ReqAssignUser:this.ReqAssignUser.bind(this),AcceptAssignUser:this.AcceptAssignUser.bind(this),RejectAssignUser:this.RejectAssignUser.bind(this)},h)}},{key:"InitQueueDat",value:function(e){var t=this;console.crlog("[QUEUE] InitQueueDat start..."),u.callserverSendCmd({cmd:"GetServiceData",module:"Queue"}).then((function(n){var i=n.RspCode;console.crlog("[QUEUE] InitQueueDat result: ".concat(JSON.stringify({code:i}))),0===i?(console.crlog("[QUEUE] InitQueueDat result: ".concat(JSON.stringify({queueLength:n.ques.length}))),n.ques.forEach((function(e){delete e.appId,delete e.compID})),t.allQueueInfo=n.ques,h.InitQueueDatRslt.trigger(i,e)):h.InitQueueDatRslt.trigger(l(i),e)})).catch((function(t){console.crlog("[Error] InitQueueDat Fail..."),console.crlog(t),h.InitQueueDatRslt.trigger(1,e)}))}},{key:"GetAllQueueInfo",value:function(){return a.clone(this.allQueueInfo)}},{key:"GetQueueStatus",value:function(e,t){console.crlog("[QUEUE] GetQueueStatus start: ".concat(JSON.stringify({queID:e})));var n={cmd:"GetQueueStatus",module:"Queue",queID:e};u.callserverSendCmd(n).then((function(n){var i=n.RspCode;console.crlog("[QUEUE] GetQueueStatus result: ".concat(JSON.stringify({code:i,queID:e}))),h.GetQueueStatusRslt.trigger(l(i),n.status,t)})).catch((function(e){console.crlog("[Error] GetQueueStatus Fail..."),console.crlog(e),h.GetQueueStatusRslt.trigger(1,void 0,t)}))}},{key:"RefreshAllQueueStatus",value:function(){console.crlog("[QUEUE] RefreshAllQueueStatus begin...");for(var e=this.allQueueInfo,t=e.length,n=0;n<t;n++){var i=e[n];this.GetQueueStatus(i.queID)}}},{key:"StartQueuing",value:function(e,t,n){console.crlog("[QUEUE] GetQueueStatus start: ".concat(JSON.stringify({queID:e})));var i={cmd:"UserEnter",module:"Queue",queID:e,usrExDat:t};u.callserverSendCmd(i).then((function(t){var i=t.RspCode;console.crlog("[QUEUE] StartQueuing result: ".concat(JSON.stringify({code:i,queID:e}))),h.StartQueuingRslt.trigger(l(i),t.position,n)})).catch((function(e){console.crlog("[Error] StartQueuing Fail..."),console.crlog(e),h.StartQueuingRslt.trigger(1,void 0,n)}))}},{key:"GetClientStatus",value:function(e){console.crlog("[QUEUE] GetClientStatus start..."),u.callserverSendCmd({cmd:"GetUserServiceStatus",module:"Queue"}).then((function(t){var n,i=t.RspCode;0===i&&(n={},t.callInfo&&t.callInfo.callID&&(n.callInfo=t.callInfo,d.call.setCallId(t.callInfo.callID)),t.queID>=0&&(n.queuingInfo={queID:t.queID,position:t.position,queuingTime:t.wait_time})),console.crlog("[QUEUE] GetClientStatus result: ".concat(JSON.stringify({code:i}))),h.GetClientStatusRslt.trigger(l(i),n,e)})).catch((function(t){console.crlog("[Error] GetClientStatus Fail..."),console.crlog(t),h.GetClientStatusRslt.trigger(1,void 0,e)}))}},{key:"GetServingStatus",value:function(e){console.crlog("[QUEUE] GetServingStatus start..."),u.callserverSendCmd({cmd:"GetAgentServiceStatus",module:"Queue"}).then((function(t){var n=t.RspCode,i={};t.callInfo&&t.callInfo.callID&&(i.callInfo=t.callInfo,d.call.setCallId(t.callInfo.callID)),t.queIDs&&(i.queIDs=t.queIDs),console.crlog("[QUEUE] GetServingStatus result: ".concat(JSON.stringify({code:n}))),h.GetServingStatusRslt.trigger(l(n),i,e)})).catch((function(t){console.crlog("[Error] GetServingStatus Fail..."),console.crlog(t),h.GetServingStatusRslt.trigger(1,void 0,e)}))}},{key:"StopQueuing",value:function(e,t){console.crlog("[QUEUE] StopQueuing start: ".concat(JSON.stringify({queID:e})));var n={cmd:"UserLeave",module:"Queue",queID:e};u.callserverSendCmd(n).then((function(n){var i=n.RspCode;console.crlog("[QUEUE] StopQueuing result: ".concat(JSON.stringify({code:i,queID:e}))),h.StopQueuingRslt.trigger(l(i),t)})).catch((function(e){console.crlog("[Error] StopQueuing Fail..."),console.crlog(e),h.StopQueuingRslt.trigger(1,t)}))}},{key:"StartService",value:function(e,t,n){console.crlog("[QUEUE] StartService start: ".concat(JSON.stringify({queID:e})));var i={cmd:"AgentEnter",module:"Queue",queID:e};u.callserverSendCmd(i).then((function(t){var i=t.RspCode;console.crlog("[QUEUE] StartService result: ".concat(JSON.stringify({code:i,queID:e}))),h.StartServiceRslt.trigger(l(i),n)})).catch((function(e){console.crlog("[Error] StartService Fail..."),console.crlog(e),h.StartServiceRslt.trigger(1,n)}))}},{key:"StopService",value:function(e,t){console.crlog("[QUEUE] StopService start: ".concat(JSON.stringify({queID:e})));var n={cmd:"AgentLeave",module:"Queue",queID:e};u.callserverSendCmd(n).then((function(n){var i=n.RspCode;console.crlog("[QUEUE] StopService result: ".concat(JSON.stringify({code:i,queID:e}))),h.StopServiceRslt.trigger(l(i),t)})).catch((function(e){console.crlog("[Error] StopService Fail..."),console.crlog(e),h.StopServiceRslt.trigger(1,t)}))}},{key:"ReqAssignUser",value:function(e){console.crlog("[QUEUE] ReqAssignUser start..."),u.callserverSendCmd({cmd:"RequestUser",module:"Queue"}).then((function(t){var n=t.RspCode;if(console.crlog("[QUEUE] ReqAssignUser result: ".concat(JSON.stringify({code:n}))),0===n){var i={queID:t.queID,usrID:t.userID,name:t.userName,queuingTime:t.wait_time,usrExDat:t.usrExDat};h.ReqAssignUserRslt.trigger(l(n),i,e)}else h.ReqAssignUserRslt.trigger(l(n),void 0,e)})).catch((function(t){console.crlog("[Error] ReqAssignUser Fail..."),console.crlog(t),h.ReqAssignUserRslt.trigger(1,void 0,e)}))}},{key:"AcceptAssignUser",value:function(e,t){console.crlog("[QUEUE] AcceptAssignUser start...");var n={accept:1,cmd:"AssignResponse",module:"Queue",queID:e,userID:t};u.callserverSendCmd(n)}},{key:"RejectAssignUser",value:function(e,t){console.crlog("[QUEUE] RejectAssignUser start...");var n={accept:0,cmd:"AssignResponse",module:"Queue",queID:e,userID:t};u.callserverSendCmd(n)}}])&&s(t.prototype,n),i&&s(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}());a.SDK_event.addEventListener("SDKInit",(function(){f.init()})).addEventListener("SDKUnInit",(function(){f.unInit()})).addEventListener("callserverLogout",(function(){f.reset()})),e.exports={InterfaceExports:f.userInterfaceExports()}},function(e,t,n){var i=n(2),r={0:i.CRVideo_NOERR,100:i.CRVideo_QUE_ID_INVALID,101:i.CRVideo_QUE_NOUSER,102:i.CRVideo_QUE_USER_CANCELLED,103:i.CRVideo_QUE_SERVICE_NOT_START,104:i.CRVideo_ALREADY_OTHERQUE};e.exports=function(e){return void 0===r[e]?i.CRVideo_UNKNOWERR:r[e]}},function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,c(i.key),i)}}function c(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}var a=n(0),l=n(2),u=n(1),d={GetMeetingAttrsSuccess:new a.NewCallBack("GetMeetingAttrsSuccess"),GetMeetingAttrsFail:new a.NewCallBack("GetMeetingAttrsFail"),GetMeetingAllAttrsSuccess:new a.NewCallBack("GetMeetingAllAttrsSuccess"),GetMeetingAllAttrsFail:new a.NewCallBack("GetMeetingAllAttrsFail"),SetMeetingAttrsRslt:new a.NewCallBack("SetMeetingAttrsRslt"),AddOrUpdateMeetingAttrsRslt:new a.NewCallBack("AddOrUpdateMeetingAttrsRslt"),DelMeetingAttrsRslt:new a.NewCallBack("DelMeetingAttrsRslt"),ClearMeetingAttrsRslt:new a.NewCallBack("ClearMeetingAttrsRslt"),GetUserAttrsSuccess:new a.NewCallBack("GetUserAttrsSuccess"),GetUserAttrsFail:new a.NewCallBack("GetUserAttrsFail"),SetUserAttrsRslt:new a.NewCallBack("SetUserAttrsRslt"),AddOrUpdateUserAttrsRslt:new a.NewCallBack("AddOrUpdateUserAttrsRslt"),DelUserAttrsRslt:new a.NewCallBack("DelUserAttrsRslt"),ClearUserAttrsRslt:new a.NewCallBack("ClearUserAttrsRslt"),ClearAllUserAttrsRslt:new a.NewCallBack("ClearAllUserAttrsRslt"),NotifyMeetingAttrsChanged:new a.NewCallBack("NotifyMeetingAttrsChanged"),NotifyUserAttrsChanged:new a.NewCallBack("NotifyUserAttrsChanged")},h=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,c;return t=e,(n=[{key:"init",value:function(){var e=this;a.SDK_event.addEventListener("notifyMeetingAttrsChanged",(function(t,n,i){var r=e.ConferenceToData(t),o=e.ConferenceToData(n);console.log("notifyMeetingAttrsChanged",r,o,i),d.NotifyMeetingAttrsChanged.trigger(r,o,i)})).addEventListener("notifyUserAttrsChanged",(function(t,n,i,r){var o=e.ConferenceToData(n),s=e.ConferenceToData(i);console.log("notifyUserAttrsChanged",t,o,s,r),d.NotifyUserAttrsChanged.trigger(t,o,s,r)}))}},{key:"unInit",value:function(){a.SDK_event.removeAllEvent("notifyMeetingAttrsChanged").removeAllEvent("notifyUserAttrsChanged")}},{key:"userInterfaceExports",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({GetMeetingAttrs:this.GetMeetingAttrs.bind(this),GetMeetingAllAttrs:this.GetMeetingAllAttrs.bind(this),SetMeetingAttrs:this.SetMeetingAttrs.bind(this),AddOrUpdateMeetingAttrs:this.AddOrUpdateMeetingAttrs.bind(this),DelMeetingAttrs:this.DelMeetingAttrs.bind(this),ClearMeetingAttrs:this.ClearMeetingAttrs.bind(this),GetUserAttrs:this.GetUserAttrs.bind(this),SetUserAttrs:this.SetUserAttrs.bind(this),AddOrUpdateUserAttrs:this.AddOrUpdateUserAttrs.bind(this),DelUserAttrs:this.DelUserAttrs.bind(this),ClearUserAttrs:this.ClearUserAttrs.bind(this),ClearAllUserAttrs:this.ClearAllUserAttrs.bind(this)},d)}},{key:"ConferenceToData",value:function(e){var t={};return e.forEach((function(e,n){t[e]=n})),t}},{key:"GetMeetingAttrs",value:function(e,t){console.crlog("[MeetingAttr] GetMeetingAttrs start..."),e instanceof Array?u.CR__GetMeetingAttrs(e).then((function(e){console.crlog("[MeetingAttr] GetMeetingAttrsSuccess"),d.GetMeetingAttrsSuccess.trigger(e,t)})).catch((function(e){console.crlog("[MeetingAttr] GetMeetingAttrsFail"),d.GetMeetingAttrsFail.trigger(e,t)})):d.GetMeetingAttrsFail.trigger(l.CRVideo_MEETPARAM_ERR,t)}},{key:"GetMeetingAllAttrs",value:function(e){console.crlog("[MeetingAttr] GetMeetingAllAttrs start..."),u.CR__GetMeetingAllAttrs().then((function(t){console.crlog("[MeetingAttr] GetMeetingAllAttrsSuccess"),d.GetMeetingAllAttrsSuccess.trigger(t,e)})).catch((function(t){d.GetMeetingAllAttrsFail.trigger(t,e)}))}},{key:"SetMeetingAttrs",value:function(e,t,n){console.crlog("[MeetingAttr] SetMeetingAttrs start");try{var r=JSON.parse(e);if("object"!==i(r))throw"[MeetingAttr] attrs not is object";var o=this.checkLength(r);if(o)throw o;u.CR__SetMeetingAttrs(r,t).then((function(){console.crlog("[MeetingAttr] SetMeetingAttrsRslt Success"),d.SetMeetingAttrsRslt.trigger(l.CRVideo_NOERR,n)})).catch((function(e){console.crlog("[MeetingAttr] SetMeetingAttrsRslt Fail"),d.SetMeetingAttrsRslt.trigger(e,n)}))}catch(e){return console.crlog("[MeetingAttr] SetMeetingAttrs fail: ".concat(e)),void d.SetMeetingAttrsRslt.trigger(l.CRVideo_MEETPARAM_ERR,n)}}},{key:"AddOrUpdateMeetingAttrs",value:function(e,t,n){console.crlog("[MeetingAttr] AddOrUpdateMeetingAttrs start");try{var r=JSON.parse(e);if("object"!==i(r))throw"[MeetingAttr] attrs not is object";var o=this.checkLength(r);if(o)throw o;u.CR__AddOrUpdateMeetingAttrs(r,t).then((function(){console.crlog("[MeetingAttr] AddOrUpdateMeetingAttrsRslt Success"),d.AddOrUpdateMeetingAttrsRslt.trigger(l.CRVideo_NOERR,n)})).catch((function(e){console.crlog("[MeetingAttr] AddOrUpdateMeetingAttrsRslt Fail"),d.AddOrUpdateMeetingAttrsRslt.trigger(e,n)}))}catch(e){return console.crlog("[MeetingAttr] AddOrUpdateMeetingAttrs fail: ".concat(e)),void d.AddOrUpdateMeetingAttrsRslt.trigger(l.CRVideo_MEETPARAM_ERR,n)}}},{key:"DelMeetingAttrs",value:function(e,t,n){console.crlog("[MeetingAttr] DelMeetingAttrs start"),e instanceof Array?u.CR__DelMeetingAttrs(e,t).then((function(){console.crlog("[MeetingAttr] DelMeetingAttrsRslt Success"),d.DelMeetingAttrsRslt.trigger(l.CRVideo_NOERR,n)})).catch((function(e){console.crlog("[MeetingAttr] DelMeetingAttrsRslt Fail"),d.DelMeetingAttrsRslt.trigger(e,n)})):d.DelMeetingAttrsRslt.trigger(l.CRVideo_MEETPARAM_ERR,n)}},{key:"ClearMeetingAttrs",value:function(e,t){console.crlog("[MeetingAttr] ClearMeetingAttrs start..."),u.CR__ClearMeetingAttrs(e).then((function(){console.crlog("[MeetingAttr] ClearMeetingAttrs Success"),d.ClearMeetingAttrsRslt.trigger(l.CRVideo_NOERR,t)})).catch((function(e){console.crlog("[MeetingAttr] ClearMeetingAttrs Fail"),d.ClearMeetingAttrsRslt.trigger(e,t)}))}},{key:"GetUserAttrs",value:function(e,t,n){if(console.crlog("[MeetingAttr] GetUserAttrs start..."),!(e instanceof Array&&e.length<=50&&(!t||t&&t instanceof Array)))return console.crlog("[MeetingAttr] GetUserAttrsFail"),void d.GetUserAttrsFail.trigger(l.CRVideo_MEETPARAM_ERR,n);u.CR__GetUserAttrs(e,t).then((function(e){console.crlog("[MeetingAttr] GetUserAttrsSuccess"),d.GetUserAttrsSuccess.trigger(e,n)})).catch((function(e){console.crlog("[MeetingAttr] GetUserAttrsFail"),d.GetUserAttrsFail.trigger(e,n)}))}},{key:"SetUserAttrs",value:function(e,t,n,r){console.crlog("[MeetingAttr] SetUserAttrs start");try{var o=JSON.parse(t);if("object"!==i(o))throw"[MeetingAttr] attrs not is object";var s=this.checkLength(o);if(s)throw s;u.CR__SetUserAttrs(e,o,n).then((function(){console.crlog("[MeetingAttr] SetUserAttrsRslt Success"),d.SetUserAttrsRslt.trigger(l.CRVideo_NOERR,r)})).catch((function(e){console.crlog("[MeetingAttr] SetUserAttrsRslt Fail"),d.SetUserAttrsRslt.trigger(e,r)}))}catch(e){return console.crlog("[MeetingAttr] SetUserAttrs fail: ".concat(e)),void d.SetUserAttrsRslt.trigger(l.CRVideo_MEETPARAM_ERR,r)}}},{key:"AddOrUpdateUserAttrs",value:function(e,t,n,r){console.crlog("[MeetingAttr] AddOrUpdateUserAttrs start");try{var o=JSON.parse(t);if("object"!==i(o))throw"[MeetingAttr] attrs not is object";var s=this.checkLength(o);if(s)throw s;u.CR__AddOrUpdateUserAttrs(e,o,n).then((function(){console.crlog("[MeetingAttr] AddOrUpdateUserAttrsRslt Success"),d.AddOrUpdateUserAttrsRslt.trigger(l.CRVideo_NOERR,r)})).catch((function(e){console.crlog("[MeetingAttr] AddOrUpdateUserAttrsRslt Fail"),d.AddOrUpdateUserAttrsRslt.trigger(e,r)}))}catch(e){return console.crlog("[MeetingAttr] AddOrUpdateUserAttrs fail: ".concat(e)),void d.AddOrUpdateUserAttrsRslt.trigger(l.CRVideo_MEETPARAM_ERR,r)}}},{key:"DelUserAttrs",value:function(e,t,n,i){console.crlog("[MeetingAttr] DelUserAttrs start"),t instanceof Array?u.CR__DelUserAttrs(e,t,n).then((function(){console.crlog("[MeetingAttr] DelUserAttrsRslt Success"),d.DelUserAttrsRslt.trigger(l.CRVideo_NOERR,i)})).catch((function(e){console.crlog("[MeetingAttr] DelUserAttrsRslt Fail"),d.DelUserAttrsRslt.trigger(e,i)})):d.DelUserAttrsRslt.trigger(l.CRVideo_MEETPARAM_ERR,i)}},{key:"ClearUserAttrs",value:function(e,t,n){console.crlog("[MeetingAttr] ClearUserAttrs start..."),"string"==typeof e&&(e=[e]),e instanceof Array?u.CR__ClearUserAttrs(e,t).then((function(){console.crlog("[MeetingAttr] ClearUserAttrsRslt Success"),d.ClearUserAttrsRslt.trigger(l.CRVideo_NOERR,n)})).catch((function(e){console.crlog("[MeetingAttr] ClearUserAttrsRslt Fail"),d.ClearUserAttrsRslt.trigger(e,n)})):d.ClearUserAttrsRslt.trigger(l.CRVideo_MEETPARAM_ERR,n)}},{key:"ClearAllUserAttrs",value:function(e,t){console.crlog("[MeetingAttr] ClearAllUserAttrs start..."),u.CR__ClearAllUserAttrs(e).then((function(){console.crlog("[MeetingAttr] ClearAllUserAttrsRslt Success"),d.ClearAllUserAttrsRslt.trigger(l.CRVideo_NOERR,t)})).catch((function(e){console.crlog("[MeetingAttr] ClearAllUserAttrsRslt Fail"),d.ClearAllUserAttrsRslt.trigger(e,t)}))}},{key:"checkLength",value:function(e){for(var t in e){if(t.length>64)return"[MeetingAttr] key Exceed maximum length";if(e[t].length>8192)return"[MeetingAttr] value Exceed maximum length"}return!1}}])&&s(t.prototype,n),c&&s(t,c),Object.defineProperty(t,"prototype",{writable:!1}),e}());a.SDK_event.addEventListener("SDKInit",(function(){h.init()})).addEventListener("SDKUnInit",(function(){h.unInit()})),e.exports={InterfaceExports:h.userInterfaceExports()}},function(e,t,n){function i(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var r=t&&t.prototype instanceof p?t:p,s=Object.create(r.prototype),c=new x(i||[]);return o(s,"_invoke",{value:E(e,n,c)}),s}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var f={};function p(){}function _(){}function g(){}var y={};u(y,c,(function(){return this}));var C=Object.getPrototypeOf,v=C&&C(C(P([])));v&&v!==t&&n.call(v,c)&&(y=v);var m=g.prototype=p.prototype=Object.create(y);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){var i;o(this,"_invoke",{value:function(o,s){function c(){return new t((function(i,c){!function i(o,s,c,a){var l=h(e[o],e,s);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==r(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,c,a)}),(function(e){i("throw",e,c,a)})):t.resolve(d).then((function(e){u.value=e,c(u)}),(function(e){return i("throw",e,c,a)}))}a(l.arg)}(o,s,i,c)}))}return i=i?i.then(c,c):c()}})}function E(e,t,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return D()}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var c=b(s,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var a=h(e,t,n);if("normal"===a.type){if(i=n.done?"completed":"suspendedYield",a.arg===f)continue;return{value:a.arg,done:n.done}}"throw"===a.type&&(i="completed",n.method="throw",n.arg=a.arg)}}}function b(e,t){var n=t.method,i=e.iterator[n];if(void 0===i)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var r=h(i,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function P(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,r=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:D}}function D(){return{value:void 0,done:!0}}return _.prototype=g,o(m,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:_,configurable:!0}),_.displayName=u(g,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},S(I.prototype),u(I.prototype,a,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var s=new I(d(t,n,i,r),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},S(m),u(m,l,"Generator"),u(m,c,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},e.values=P,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return s.type="throw",s.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),a=n.call(o,"finallyLoc");if(c&&a){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;w(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,n,i,r,o,s){try{var c=e[o](s),a=c.value}catch(e){return void n(e)}c.done?t(a):Promise.resolve(a).then(i,r)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var s=e.apply(t,n);function c(e){o(s,i,r,c,a,"next",e)}function a(e){o(s,i,r,c,a,"throw",e)}c(void 0)}))}}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=n(1),d=n(2),h=n(0),f=(n(8),n(7)),p=n(4),_=n(3),g=u.CRVideo,y=u.Ice;u.SendCmd;g.allMemberInfo=[],g.msType={localAudio:11,localVideo:12,localScreen:13,localMedia:14,remoteAudio:21,remoteVideo:22,remoteScreen:23,remoteMedia:24},g.localAudioMSID=11e4,g.localVideoMSID=12e4,g.localScreenMSID=13e4,g.localMediaMSID=14e4,g.remoteAudioMSID=21e4,g.remoteVideoMSID=22e4,g.remoteScreenMSID=23e4,g.remoteMediaMSID=24e4,g.mainVideoID=null,g.VideoWallMode=-1,function(e){var t;t={destroyMeetingConnect:function(){console.crlog("[MEETING] Websockt CRVideo.communicatorIc.destroy..."),e.communicatorIc&&e.communicatorIc.destroy(),e.communicatorIc=null}},e.destroyMeetingConnect=t.destroyMeetingConnect}(g);var C=new h.NewCallBack("CRVideo_CreateMeetingSuccess"),v=new h.NewCallBack("CRVideo_CreateMeetingFail"),m=new h.NewCallBack("CRVideo_EnterMeetingRslt"),S=new h.NewCallBack("CRVideo_UserEnterMeeting"),I=new h.NewCallBack("CRVideo_UserLeftMeeting"),E=new h.NewCallBack("CRVideo_MeetingDropped"),b=new h.NewCallBack("CRVideo_SendIMMsgRslt"),R=new h.NewCallBack("CRVideo_NotifyIMmsg"),w=new h.NewCallBack("CRVideo_StopMeetingRslt"),x=new h.NewCallBack("CRVideo_DestroyMeetingRslt"),P=new h.NewCallBack("CRVideo_MeetingStopped"),D=new h.NewCallBack("CRVideo_NotifyVideoWallStatus"),O=new h.NewCallBack("CRVideo_NotifyMainVideoChanged"),M=new h.NewCallBack("CRVideo_NotifyNickNameChanged"),A=new h.NewCallBack("CRVideo_NotifyMeetingCustomMsg"),N=new h.NewCallBack("CRVideo_SendMeetingCustomMsgRslt"),k=new h.NewCallBack("CRVideo_NotifyVoteDataUpdate");h.SDK_event.addEventListener("MeetingAbnormalDropped",(function(e,t){_.firstJoinMeetingDropped||(_.firstJoinMeetingDropped=!0,H(!0),console.crlog("[Error] MeetingDropped(".concat(e,") ")),E.callback(e))})).addEventListener("tokenExpire",(function(){B("tokenExpire"),H(!0),console.crlog("[Error] MeetingDropped(".concat(d.CRVIDEOSDK_TOKEN_TIMEOUT,") ")),E.callback(d.CRVIDEOSDK_TOKEN_TIMEOUT)})).addEventListener("EnterMeetingSuccess",(function(){_.firstJoinMeetingDropped=!1}));var T={NotifyWindowMode:function(){}};var L=function(e,t,n,i){if(!_.init)return console.crlog("[Error] Please initialize first"),void m.callback(d.CRVideo_UNKNOWERR,i);g.userInfo={nickname:n,userId:t};var r=p.server.getServerAddr()+f.EnterMeeting;console.crlog("(CMD) CRVideo.EnterMeeting2  begin： "+e);var o=a(a({},g.LoginOAuth),{},{ClientVer:"",RequestId:y.generateUUID(),MeetID:e,MeetPswd:"",NickName:n,OEMKey:_.OEMKey,PRODUCT:"wxmini",UserType:4});g.requestID=o.RequestId,console.crlog("(CMD) WebAPI SendMsg url: ".concat(f.EnterMeeting," ,data: ").concat(JSON.stringify(h.privacyAttrHide(o)))),g.ajax({url:r,type:"POST",data:o,success:function(e){console.crlog("(CMD) WebAPI url: ".concat(f.EnterMeeting," ,callback: ").concat(JSON.stringify(e))),U(e,i)},error:function(e){console.crlog("Failed to enterMeeting!"),m.callback(e,i)}})};function U(e,t){0==e.RspCode?V(e.CRMTStr.replace(/^\w+(\.\w+)?:\/{0,2}/,""),t):(console.crlog("Failed to enterMeeting! errcode:"+e.RspCode),m.callback(d[e.RspCode]||d.CRVideo_UNKNOWERR,t))}function V(e,t){return F.apply(this,arguments)}function F(){return(F=s(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.crlog("[MEETING] ----- initweb -----   (wss)"),e.next=3,u.CR__Init({protocol:p.server.getWebSocketProtocol(),CheckFlash:!1},n).then((function(e){console.crlog("[MEETING] initweb Success"),j(t,n)})).catch((function(e){console.log(e),console.crlog("[MEETING] initweb.callback fail!")}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}g.phoneMeetInfo=null;var j=function(e,t){u.CR__UnInit(),u.Cr.crmt=null,g.isExitmeet=!1;var n={nickname:g.userInfo&&g.userInfo.nickname||"",userId:g.userInfo&&g.userInfo.userId||""};console.crlog("[MEETING] ----- CR__Login -----"),u.CR__Login(e,"",n,void 0,void 0,t)};u.CR__LoginRslt.callback=function(e,t,n){if(0!==e)return g.destroyMeetingConnect(),void m.callback(e||1,n);g.userInfo.detail=t.myDetail,g.userInfo.termId=t.termId,g.userInfo.detail.nickname=g.userInfo.nickname=t.nickname,g.userInfo.userId=t.userId||g.userInfo.userId,g.allMemberInfo=t.activeMembers,g.allMemberInfo.forEach((function(e){e.termId==t.termId?(e.audioMSID=g.localAudioMSID,e.videoMSID=g.localVideoMSID,e.screenMSID=g.localScreenMSID,e.mediaMSID=g.localMediaMSID,e.videoPushUrl=null,e.screenPushUrl=null,e.mediaPushUrl=null,e.userId=e.userId||g.userInfo.userId,g.selfMember=e):(e.videoMSID=g.remoteVideoMSID++,e.screenMSID=g.remoteScreenMSID++,e.mediaMSID=g.remoteMediaMSID++,e.playUrl={},e.videoComponentDescriptor=[],e.screenComponentDescriptor=[],e.mediaComponentDescriptor=[]),e.userId=null==e.userId?e.nickname:e.userId,e.audioStatus=e.audioStatus.name,e.videoStatus=e.videoStatus.name})),g.windowMode=t.windowMode,g.VideoWallMode=t.confInfo.vwalllo?Number(t.confInfo.vwalllo):-1,g.phoneMeetInfo={phone:t.confInfo.pstnnum,pwd:t.confInfo.pstnpwd},g.isMeeting=!0;var i=g.findUserInfo("termId",t.mainVideoTermID);i&&(g.mainVideoID=i.userId),console.crlog("[MEETING] ----- CR__UpdateAllCameraInfos -----");if(u.CR__UpdateAllCameraInfos("1;CAMERA_FACING_FRONT;0;0\n2;CAMERA_FACING_BACK;0;0\n"),console.crlog("[MEETING] myMemberInfo: ".concat(JSON.stringify({termId:g.selfMember.termId,userId:g.selfMember.userId,nickname:g.selfMember.nickname}))),g.allMemberInfo.length<=10){var r=g.allMemberInfo.reduce((function(e,t){return e+"\n\ttermId: ".concat(t.termId,", userId: ").concat(t.userId,", nickname: ").concat(t.nickname)}),"");console.crlog("[MEETING] allMemberInfo:".concat(r))}else console.crlog("[MEETING] member length: ".concat(g.allMemberInfo.length));h.SDK_event.emitEventListener("EnterMeetingSuccess",t),g.pusherInfo&&g.pusherInfo.videoComponentDescriptor&&g.pusherInfo.videoComponentDescriptor.reset(),m.callback(e,n)};var B=function(){if(!g.isExitmeet){console.crlog("[MEETING] ----- CR__Exit ----- : exit"),H(),u.CR__Exit("exit")}};u.CR__ExitRslt.callback=function(e,t){e=0==e?"success":"fail",t=null==t?"":t,console.crlog("[MEETING] ExitRslt Callback："+e+" "+t),u.CR__UnInit()};function H(e){h.SDK_event.emitEventListener("ClearMeetingData");try{g.audioPlayerInfo&&g.audioPlayerInfo.audioPlayerContext&&g.audioPlayerInfo.audioPlayerContext.stop&&g.audioPlayerInfo.audioPlayerContext.stop(),g.allMemberInfo.forEach((function(e){e.userId==g.selfMember.userId?g.pusherInfo&&g.pusherInfo.videoPusherContext&&g.pusherInfo.videoPusherContext.stop&&g.pusherInfo.videoPusherContext.stop():e.videoComponentDescriptor&&e.videoComponentDescriptor.forEach((function(e){e.context.stop()}))}))}catch(e){console.crlog("[Error] clearMeetingData: ".concat(e))}g.CallID="",g.isMeeting=!1,g.phoneMeetInfo=null,g.allMemberInfo=[],g.mainVideoID=null,g.VideoWallMode=-1,_.isScreenUserId=null,g.isExitmeet=!0,e&&g.destroyMeetingConnect()}u.CR__KickoutRslt.callback=function(e,t){console.crlog("[MEETING] KickoutRslt Callback："+e+" "+t)},u.CR__NotifyAllowVideoWall.callback=function(e,t){console.crlog("[MEETING] NotifyAllowVideoWall status: ".concat(e," ,opId: ").concat(t));var n=g.findUserInfo("termId",t),i=n?n.userId:void 0;D.callback(e,i)},u.CR__UserEnter.callback=function(e){if(console.crlog("[MEETING] user: "+e.nickname+" enter meeting; termId is: "+e.termId),console.crlog(e),g.isMeeting){var t=!0;if(g.allMemberInfo.forEach((function(n){n.termId!=e.termId||(t=!1)})),e.termId!==g.userInfo.termId&&t){var n=e;n.videoMSID=g.remoteVideoMSID++,n.screenMSID=g.remoteScreenMSID++,n.mediaMSID=g.remoteMediaMSID++,n.userId=null==e.userId?e.nickname:e.userId,n.audioStatus=e.audioStatus.name,n.videoStatus=e.videoStatus.name,n.playUrl={},n.videoComponentDescriptor=[],n.screenComponentDescriptor=[],n.mediaComponentDescriptor=[],g.allMemberInfo.push(n),S.callback(e.userId)}}},u.CR__UserLeftMeet.callback=function(e,t){console.crlog("[MEETING] UserLeftMeet Callback: id: "+e+",reson: "+t);var n="",i="",r=null;g.allMemberInfo.forEach((function(t,o){e==t.termId&&(n=t.userId,i=t.nickname,r=o)})),e==g.userInfo.termId&&"exit"!==t&&H(),g.allMemberInfo.splice(r,1),n&&null!=r&&(n==g.mainVideoID&&(g.mainVideoID=null,O.callback(null)),console.crlog("[MEETIN] UserId:"+n+",Nickname:"+i+" left meeting,and the reason is:"+t),I.callback(n,t))},u.CR__NotifyNickNameChanged.callback=function(e,t,n){console.crlog("[MEETING] CR__NotifyNickNameChanged callback termId: ".concat(t,",newNickName: ").concat(n));var i=g.findUserInfo("termId",t);if(i){var r=i.nickname,o=i.userId;i.nickname=n,g.userInfo.userId==o&&(g.userInfo.detail.nickname=g.userInfo.nickname=n),M.callback(o,r,n)}};u.CR__UpdateFocusWindow.callback=function(e,t){var n;console.crlog("[MEETING] UpdateFocusWindow callback,mode:".concat(e," ,termId: ").concat(t)),g.windowMode!=e&&(g.windowMode=e,T.NotifyWindowMode(e));var i=g.findUserInfo("termId",t);if(i){if(i.userId===g.mainVideoID)return;n=i.userId,g.mainVideoID=n,console.crlog("[MEETING] UpdateFocusWindow callback userId: ".concat(n)),O.callback(n)}else console.crlog("[MEETING] UpdateFocusWindow callback noMainId"),g.mainVideoID=null,O.callback(null)};u.CR__SendIMMsgRslt.callback=function(e,t,n,i){console.crlog("[MEETING] SendIMMsgRslt Callback Code: ".concat(e,",uuid:").concat(n)),b.callback(n,e,i)},u.CR__ReceiveIMMsg.callback=function(e){var t=e.inMsg,n=g.findUserInfo("termId",e.srcTermId),i=t.msg,r=1e3*t.sendTime,o=n?n.userId:e.srcNickname;console.crlog("[MEETING] NotifyIMmsg(".concat(o," ,").concat(r,")")),R.callback(o,i,r)},u.CR__MeetEnded.callback=function(e){console.crlog("(SDK) Meet ended Callback!"),H(!0);var t=e.nickname||void 0;P.callback(t)};var q=h.base64.decode("Q2xvdWRyb29tTWVldGluZ1NESw==");u.CR__NotifyTerminalMsg.callback=function(e,t,n,i){if("Vote"===e)console.crlog("[MEETING] NotifyTerminalMsg Callback from termId: ".concat(i,", modelu:").concat(e,",json: ").concat(t)),k.callback(t);else if(e===q){console.crlog("[MEETING] NotifyTerminalMsg Callback from termId: ".concat(i,", modelu: MeetingSDK,json: ").concat(t));var r=g.findUserInfo("termId",i);A.callback(r?r.userId:null,t)}};e.exports={EnterMeetingCallBack:U,initweb:V,CRVideo_CreateMeeting:function(e){if(g.LoginOAuth){var t=p.server.getServerAddr()+f.CreateMeeting,n=a(a({},g.LoginOAuth),{},{RequestId:y.generateUUID(),MeetSubject:"SDK",IsRegular:1,AsyncMeetMode:1,NeedPswd:"0"});g.meetSubject="SDK",console.crlog("[MEETING] WebAPI request url: "+t+",data: "+JSON.stringify(h.privacyAttrHide(n))),g.ajax({url:t,type:"POST",data:n,success:function(t){!function(e,t){console.crlog("[MEETING] webAPI CreateMeetingCallBack result: "+JSON.stringify(e));var n={ID:e.MeetID,pswd:e.MeetPswd,pubMeetUrl:e.PublicUrl,subject:g.meetSubject,hostPswd:e.HostPwd};g.pubMeetUrl=e.PublicUrl,0==e.RspCode?(console.crlog("[MEETING] webAPI createMeeting success! meetingID: "+n.ID),C.callback(n,t)):(console.crlog("[MEETING] webAPI createMeeting fail! RspCode: "+e.RspCode+";RspDesc: "+e.RspDesc),v.callback(d[e.RspCode],t))}(t,e)},error:function(e){console.crlog("[MEETING] webAPI createMeeting fail,code: ".concat(e)),v.callback(e||d.CRVideo_UNKNOWERR)}}),g.requestID=n.RequestId}else v.callback(d.CRVideo_CRVIDEOSDK_NOT_LOGIN,e)},CRVideo_EnterMeeting:function(e,t,n,i,r){if(!_.init)return console.crlog("[Error] Please initialize first"),void CRVideo_LoginFail.callback(d.CRVideo_UNKNOWERR,r);g.userInfo={nickname:i,userId:n};var o=p.server.getServerAddr()+f.EnterMeeting;console.crlog("(CMD) CRVideo.EnterMeeting  begin： "+e);var s=a(a({ClientVer:"",RequestId:y.generateUUID(),MeetID:e,MeetPswd:t,NickName:i},g.LoginOAuth),{},{OEMKey:_.OEMKey,PRODUCT:"wxmini",UserType:4});g.requestID=s.RequestId,console.crlog("(CMD) WebAPI SendMsg url:".concat(f.EnterMeeting," ,data: ").concat(JSON.stringify(h.privacyAttrHide(s)))),g.ajax({url:o,type:"POST",data:s,success:function(e){console.crlog("(CMD) WebAPI url:".concat(f.EnterMeeting," callback: ").concat(JSON.stringify(e))),U(e,r)},error:function(e){console.crlog("Failed to enterMeeting!"),m.callback(e,r)}})},CRVideo_EnterMeeting3:function(e,t){console.crlog("[MEETING] EnterMeeting3 MeetId: ".concat(e));var n=g.LoginParam;n?L(e,n.user_id,n.nick_name,t):m.callback(d.CRVideo_CRVIDEOSDK_NOT_LOGIN,t)},CRVideo_EnterMeeting2:L,CRVideo_ExitMeeting:B,CRVideo_Kickout:function(e){console.crlog("[MEETING] ----- CRVideo_Kickout -----  userId: ".concat(e));var t=g.findUserInfo("userId",e);t&&u.CR__Kickout(t.termId)},CRVideo_GetMemberInfo:function(e){var t;return console.crlog("[MEETING] CRVideo_GetMemberInfo:"+e),g.allMemberInfo.forEach((function(n){e==n.userId&&((t={}).audioStatus=d[n.audioStatus],t.videoStatus=d[n.videoStatus],t.nickname=n.nickname,t.userID=n.userId)})),t},CRVideo_GetAllMembers:function(){var e=[];return g.allMemberInfo.forEach((function(t){var n={};n.userID=t.userId,n.nickname=t.nickname,n.audioStatus=d[t.audioStatus],n.videoStatus=d[t.videoStatus],e.push(n)})),console.crlog("[MEETING] CRVideo_GetAllMembers return data: ",JSON.stringify(e)),e},CRVideo_GetPhoneMeetInfo:function(){return g.phoneMeetInfo},CRVideo_GetMainVideo:function(){return g.mainVideoID},CRVideo_SetMainVideo:function(e){console.crlog("[MEETING] CRVideo_SetMainVideo userId: ".concat(e));var t=g.findUserInfo("userId",e);t&&(console.crlog("[MEETING] ---- CR__SetFocusWindow ---- mode: ".concat(2,",userId: ",e)),u.CR__SetFocusWindow(2,t.termId))},CRVideo_SendIMMsg:function(e,t,n){var i=32767,r="",o=new Conference.IMFont(4278190080,12),s=(new Date).getTime()/1e3;if(t){var c=g.findUserInfo("userId",t);c&&(r=c.nickname,i=c.termId)}var a=u.CR__SendIMMsg(i,r,o,e,s,n);return console.crlog("[MEETING] ----- CR__SendIMMsg -----,taskID: ".concat(a)),console.crlog("[MEETING] ----- SendIMMsg ----- : \r\n"+JSON.stringify({targetID:i,targetNickname:r,font:o,text:"***",sendTime:s,taskID:a})),a},CRVideo_StopMeeting:function(e){console.crlog("[MEETING] CRVideo_StopMeeting"),u.CR__EndConference().then((function(t){var n=t[0];console.crlog("[MEETING] CRVideo_StopMeeting Callback code: ".concat(n)),w.callback(n,e)}))},CRVideo_DestroyMeeting:function(e,t){if(console.crlog("[MEETING] CRVideo_DestroyMeeting MeetId: ".concat(e)),!g.LoginOAuth)return console.crlog("[MEETING] CRVideo_DestroyMeeting Fail: noLogin"),void x.callback(d.CRVideo_CRVIDEOSDK_NOT_LOGIN,t);var n=p.server.getServerAddr()+f.DestroyMeeting,i=a(a({RequestId:y.generateUUID()},g.LoginOAuth),{},{MeetID:e});g.ajax({url:n,type:"post",data:i,success:function(e){console.crlog("[MEETING] CRVideo_DestroyMeeting success: ".concat(JSON.stringify(e))),x.callback(void 0===d[e.RspCode]?d.CRVideo_UNKNOWERR:d[e.RspCode],t)},error:function(e){console.crlog("[MEETING] CRVideo_DestroyMeeting fail: ".concat(e)),x.callback(e,t)}})},CRVideo_SendMeetingCustomMsg:function(e,t,n){var i=g.findUserInfo("userId",t);console.crlog("[MEETING] ----- CR__TerminalMsg -----,termId:".concat(i?i.termId:"",",brodcast:").concat(!i)),u.CR__TerminalMsg(q,e,i?i.userId:"",!i,(function(e){N.callback(e,n)}))},CRVideo_CreateMeetingSuccess:C,CRVideo_CreateMeetingFail:v,CRVideo_EnterMeetingRslt:m,CRVideo_UserEnterMeeting:S,CRVideo_UserLeftMeeting:I,CRVideo_MeetingDropped:E,CRVideo_SendIMMsgRslt:b,CRVideo_NotifyIMmsg:R,CRVideo_StopMeetingRslt:w,CRVideo_DestroyMeetingRslt:x,CRVideo_MeetingStopped:P,CRVideo_NotifyVideoWallStatus:D,CRVideo_NotifyMainVideoChanged:O,CRVideo_NotifyNickNameChanged:M,CRVideo_NotifyMeetingCustomMsg:A,CRVideo_SendMeetingCustomMsgRslt:N,CRVideo_NotifyVoteDataUpdate:k,NotifiyMeetRely:T}},function(e,t,n){function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,s,c=[],a=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;a=!1}else for(;!(a=(i=o.call(n)).done)&&(c.push(i.value),c.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{if(!a&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw r}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var o,s=n(1),c=n(2),a=n(0),l=n(3),u=s.Cr,d=(s.Ice,s.CRVideo);(o=d).findMemberInfo=function(e){var t=!1;return o.allMemberInfo.forEach((function(n){if("termId"==e.use&&n.termId==e.value)switch(e.want){case"videoStatus":t=n.videoStatus||"";break;case"audioStatus":t=n.audioStatus||"";break;case"userId":t=n.userId||"";break;case"nickname":t=n.nickname||"";break;default:t=""}if("userId"==e.use&&n.userId==e.value)switch(e.want){case"videoStatus":t=n.videoStatus||"";break;case"audioStatus":t=n.audioStatus||"";break;case"termId":t=n.termId||"";break;case"nickname":t=n.nickname||"";break;case"videoContext":t=e.value==d.userInfo.userId?d.pusherInfo.videoPusherContext:n.videoPlayerContext;break;default:t=""}})),t},o.findUserInfo=function(e,t){return d.allMemberInfo.find((function(n){return n[e]==t}))},o.setMemberAllComponentDescriptor=function(e,t){e.forEach((function(e){e.context[t]()}))};var h=new a.NewCallBack("CRVideo_AudioStatusChanged"),f=new a.NewCallBack("CRVideo_MicEnergyUpdate"),p=new a.NewCallBack("CRVideo_VideoStatusChanged"),_=new a.NewCallBack("CRVideo_VideoDevChanged"),g=new a.NewCallBack("CRVideo_NotifyAllAudioClose"),y=new a.NewCallBack("CRVideo_GetScreenShareInfoRslt"),C=new a.NewCallBack("CRVideo_GetAllMarkDataRslt"),v=new a.NewCallBack("CRVideo_NotifyScreenShareStarted"),m=new a.NewCallBack("CRVideo_NotifyScreenShareStopped"),S=new a.NewCallBack("CRVideo_GetMediaInfoRslt"),I=new a.NewCallBack("CRVideo_NotifyMediaStart"),E=new a.NewCallBack("CRVideo_NotifyMediaPause"),b=new a.NewCallBack("CRVideo_NotifyMediaStop"),R=new a.NewCallBack("CRVideo_VideoRequestFullscreenRslt"),w=new a.NewCallBack("CRVideo_VideoExitFullscreenRslt"),x=new a.NewCallBack("CRVideo_OpenVideoFailRslt"),P=new a.NewCallBack("CRVideo_OpenMicFailRslt");a.SDK_event.addEventListener("appShow",(function(){function e(e){e&&e.stop({success:function(){e.start&&e.start()||e.play&&e.play()}})}function t(e){e.context&&e.context.stop({success:function(){e.context.play()}})}d.isMeeting&&"android"===l.deviceInfo.platform&&(d.pusherInfo&&d.pusherInfo.videoPusherContext&&e(d.pusherInfo.videoPusherContext),d.audioPlayerInfo&&d.audioPlayerInfo.audioPlayerContext&&e(d.audioPlayerInfo.audioPlayerContext),d.allMemberInfo.forEach((function(e){e.videoComponentDescriptor&&e.videoComponentDescriptor.forEach(t),e.screenComponentDescriptor&&e.screenComponentDescriptor.forEach(t),e.mediaComponentDescriptor&&e.mediaComponentDescriptor.forEach(t)})))}));var D=!1;s.CR__NotifySetOpenedCameraNumber.callback=function(e,t){if(d.isMeeting){console.crlog("[MEDIA] NotifySetOpenedCameraNumber Callback：termID:"+e+",camList:"+t);var n=d.findUserInfo("termId",e);if(n&&(n.camList=t,d.selfMember.termId!==e)){var i,r,o=t.split(";").map((function(e){return Number(e)}));o.length&&(i=o.shift(),r=o);var c=n.subscribeCams,a=[];n.videoComponentDescriptor.forEach((function(e){e.defaultSub&&(e.camId!==i&&n.playUrl.video&&n.playUrl.video[i]&&e.componentInstantiation.notifyPullSrcInfo(n.playUrl.video[i],(function(){e.context.play()})),e.camId=i),-1===a.indexOf(e.camId)&&a.push(e.camId)}));for(var l=0;l<a.length;l++)c.includes(a[l])||(console.crlog("[MEDIA] ----- CR__BatchSubscribeVideo2 ----- termId:"+e+" camId: "+a[l]+" , VIDEO_SS_1M"),s.CR__BatchSubscribeVideo2(e,+a[l],"VIDEO_SS_1M"));for(l=0;l<c.length;l++)a.includes(c[l])||(console.crlog("[MEDIA] ----- CR__BatchSubscribeVideo2 ----- termId:"+e+" camId: "+c[l]+" , VIDEO_SS_NULL"),s.CR__BatchSubscribeVideo2(e,+c[l],"VIDEO_SS_NULL"));n.subscribeCams=a,_.callback(n.userId,r)}}},s.CR__BatchSubscribeVideo2Rslt.callback=function(e,t){e=0==e?"success":"fail",t=null==t?"":t,console.crlog("[MEDIA] BatchSubscribeVideo2Rslt Callback: "+e+" "+t)},s.CR__VideoAllocRawExt.callback=function(e,t,n,i){var r="VCT_CAMERA"==t.contentType._name?"video":"VCT_SCREEN"==t.contentType._name?"screen":"VCT_FILM"==t.contentType._name?"media":void 0;if(n){var o="",s=i.get("rtmp_publish")||"";console.crlog("rtmpPublish: "+s),o=s.indexOf("rtmp://")>-1?s:"rtmp://"+d.accessSvr+":"+u.crmt.WXMINRTMPPORT+"/crmt/"+s,console.crlog("[MEDIA] Rtmp push url: "+o),d.pusherInfo.pushUrl=o,d.pusherInfo.videoComponentDescriptor.setLivePusherOptions("url",o).then((function(){var e=setTimeout((function(){console.crlog("[Error] live-pusher exception"),"android"===l.deviceInfo.platform&&d.pusherInfo.videoComponentDescriptor.reset()}),1e3);d.pusherInfo.videoComponentDescriptor.context.start({success:function(){console.crlog("[MEDIA] live-pusher start Success")},fail:function(){console.crlog("[Error] live-pusher start Fail")},complete:function(){console.crlog("[MEDIA] live-pusher start Complete"),clearTimeout(e)}})})),console.crlog("[MEDIA] ----- ice_response ----- : "+d.localVideoMSID),e.ice_response(d.localVideoMSID),d.selfMember.videoMSID=d.localVideoMSID,d.localVideoMSID++}else{var c="",a=i.get("rtmp_play");c=a.indexOf("rtmp://")>-1?a:"rtmp://"+d.accessSvr+":"+u.crmt.WXMINRTMPPORT+"/crmt/"+a,console.crlog("[MEDIA] Rtmp play url: "+c),function n(){var i=d.findUserInfo("termId",t.srcTermID);if(i){if(i.termId==t.srcTermID){var o="video"===r&&(i.videoMSID=d.remoteVideoMSID++)||"screen"===r&&(i.screenMSID=d.remoteScreenMSID++)||"media"===r&&(i.mediaMSID=d.remoteMediaMSID++);if(console.crlog("[MEDIA] ----- ice_response ----- : "+o),e.ice_response(o),"video"===r){i.playUrl[r]=i.playUrl[r]||{};var s=+t.cameraID%100;i.playUrl[r][o]={url:c,camId:s}}else i.playUrl[r]=c}}else setTimeout(n,1e3)}()}};var O=[];s.CR__AudioAllocRawExt.callback=function(e,t,n){if(d.audioPlayerInfo){var i="",r="",o=n.get("rtmp_play"),c=n.get("rtmp_publish");o?(o.indexOf("rtmp://")>-1?i=o:-1==o.indexOf("rtmp://")&&(i="rtmp://"+d.accessSvr+":"+u.crmt.WXMINRTMPPORT+"/crmt/"+o),console.crlog("[MEDIA] AudioAllocRawExt get audio play url and set audioPlayerInfo: ".concat(i)),d.audioPlayerInfo.audioPlayUrl=i,O.push({msId:d.remoteAudioMSID,rtmp:i}),console.crlog("[MEDIA] ----- ice_response ----- : "+d.remoteAudioMSID),e.ice_response(d.remoteAudioMSID),d.remoteAudioMSID++):console.crlog("[MEDIA] AudioAllocRawExt do not get audio play url..."),c?(c.indexOf("rtmp://")>-1?r=c:-1==c.indexOf("rtmp://")&&(r="rtmp://"+d.accessSvr+":"+u.crmt.WXMINRTMPPORT+"/crmt/"+c),d.pusherInfo.pushUrl=r,console.crlog("[MEDIA] AudioAllocRawExt get push url and set pusherInfo: ".concat(r)),d.pusherInfo.videoComponentDescriptor.setLivePusherOptions("url",r).then((function(){d.pusherInfo.videoComponentDescriptor.context.start()})),console.crlog("[MEDIA] ----- ice_response ----- : "+d.localAudioMSID),e.ice_response(d.localAudioMSID),d.localAudioMSID++):console.crlog("[MEDIA] AudioAllocRawExt do not get push url...")}else setTimeout(s.CR__AudioAllocRawExt.callback.bind(this,e,t,n),1e3)},s.CR__NotifyCloseAll.callback=function(e){console.crlog("[MEDIA] CR__NotifyCloseAll callback ,termId: ".concat(e));var t=void 0;d.allMemberInfo.forEach((function(n){"AOPEN"==n.audioStatus&&n.termId!=e&&(n.userId==d.selfMember.userId&&(d.pusherInfo.videoComponentDescriptor&&d.pusherInfo.videoComponentDescriptor.setLivePusherOptions("muted",!0),console.crlog("[MEDIA] ----- CR__CloseMicEx ----- : "+n.termId),s.CR__CloseMicEx(n.termId)),n.audioStatus="ACLOSE"),n.termId===e&&(t=n.userId)})),g.callback(t)};var M,A=function(){var e=!1,t=null;function n(){t&&(clearTimeout(t),t=null)}return a.SDK_event.addEventListener("ClearMeetingData",(function(){n()})),function(i){console.crlog("[MEDIA] 推流状态变化code：".concat(i.detail.code,",").concat(i.detail.message)),-1303!==i.detail.code&&-1301!==i.detail.code||e?1102===i.detail.code?(n(),t=setTimeout((function(){d.pusherInfo.videoPusherContext.stop({success:function(){d.pusherInfo.videoPusherContext.start()}})}),1e4)):1005===i.detail.code&&n():(e=!0,d.pusherInfo.videoComponentDescriptor.setLivePusherOptions("enableCamera",!1).then((function(t){d.pusherInfo.videoComponentDescriptor.setLivePusherOptions("enableCamera",!0),e=!1})))}}(),N=function(){var e,t,n=!0,i=0,r=0,o=null,c=0;return a.SDK_event.addEventListener("ClearMeetingData",(function(){clearTimeout(e),n=!0,i=0,r=0,o=null,c=0,t=null})),function(a){var l=a.detail.info;if(n){n=!1;var u={};t&&(u.videoBitrateAverage=parseInt(t.videoBitrate/c),u.audioBitrateAverage=parseInt(t.audioBitrate/c),u.netSpeedAverage=parseInt(t.netSpeed/c),u.videoFPSAverage=parseInt(t.videoFPS/c),t=null,c=0),console.crlog("[MEDIA] live-pusher net state: ".concat(JSON.stringify(Object.assign(l,u)))),e=setTimeout((function(){n=!0}),1e4)}else!function(e){c++,(t=t||{}).videoBitrate=(t.videoBitrate||0)+e.videoBitrate,t.audioBitrate=(t.audioBitrate||0)+e.audioBitrate,t.videoFPS=(t.videoFPS||0)+e.videoFPS,t.netSpeed=(t.netSpeed||0)+e.netSpeed}(l);var h=d.selfMember.videoMSID;i===l.videoWidth&&r===l.videoHeight&&o===h||!d.isMeeting||(i=l.videoWidth,r=l.videoHeight,o=h,console.crlog("[MEDIA] CR__VideoResolutionReport(".concat(o,",").concat(i,",").concat(r,")")),s.CR__VideoResolutionReport(o,i,r))}}(),k=(M={},a.SDK_event.addEventListener("ClearMeetingData",(function(){for(var e in M)clearTimeout(M[e]),M[e]=null,delete M[e]})),function(e,t,n,i){if(2005!=t.detail.code&&2028!=t.detail.code)if(console.crlog("拉流状态userid:".concat(e,", type: ").concat(n,",").concat(i,",code：").concat(t.detail.code,",").concat(t.detail.message)),2001==t.detail.code){var r="play_".concat(i);a.SDK_event.emitEventListener(r).removeAllEvent(r)}else 2103===t.detail.code?(clearTimeout(M[i]),M[i]=setTimeout((function(){var t=n+"ComponentDescriptor",r=d.findUserInfo("userId",e);if(r&&r[t]){var o=r[t].find((function(e){return e.componentId===i}));o&&o.context.stop({success:function(){o.context.play()}})}}),1e4)):2003===t.detail.code?M[i]&&(clearTimeout(M[i]),M[i]=null,delete M[i]):"screen"===n&&("ios"===l.deviceInfo.platform&&2008===t.detail.code||"android"===l.deviceInfo.platform&&2002===t.detail.code)&&(console.crlog("[MEDIA] ----- CR__AskForNewIFrame -----"),s.CR__AskForNewIFrame())});s.CR__NotifyRTMPStreamPublishFinished.callback=function(e,t,n){if(console.crlog("[MEDIA] CR__NotifyRTMPStreamPublishFinished callback ,MSID: "+t),22==t.toString().slice(0,2)){var i=d.allMemberInfo.find((function(e){return e.playUrl&&e.playUrl.video&&e.playUrl.video[t]}));if(i){var r=+i.camList.split(";").shift();i.videoComponentDescriptor.forEach((function(n){if(n.camId===i.playUrl.video[t].camId||-1===n.camId&&r===i.playUrl.video[t].camId){var o=function(i){clearTimeout(c),c=null,console.crlog("[MEDIA] ice_response clear msid: ".concat(t,",ps: ").concat(i)),e.ice_response(),a.SDK_event.removeEventListener("ClearMeetingData",s.clearData).removeEventListener("play_".concat(n.componentId),s.normal)};n.componentInstantiation.notifyPullSrcInfo(i.playUrl.video[t].url,(function(){n.context.play()}));var s={timeout:o.bind(null,"timeout"),clearData:o.bind(null,"clearData"),normal:o.bind(null,"normal")},c=setTimeout(s.timeout,1e4);a.SDK_event.addEventListener("ClearMeetingData",s.clearData).addEventListener("play_".concat(n.componentId),s.normal)}}));var o=i.playUrl.video[t].camId;i.playUrl.video[o]=i.playUrl.video[t].url,delete i.playUrl.video[t]}}else if(21==t.toString().slice(0,2)){var s=d.audioPlayerInfo.audioPlayUrl;d.audioPlayerInfo.componentDescriptor&&d.audioPlayerInfo.componentDescriptor.notifyPullSrcInfo(s),console.crlog("[MEDIA] ice_response clear msid: ".concat(t)),e.ice_response()}else if(23==t.toString().slice(0,2)){var c=d.findUserInfo("screenMSID",t);if(c)if(l.isScreenUserId=c.userId,v.callback(c.userId),c.screenComponentDescriptor.length){var u=function(n){clearTimeout(p),p=null,console.crlog("[MEDIA] ice_response clear msid: ".concat(t,",ps: ").concat(n)),e.ice_response(),a.SDK_event.removeEventListener("ClearMeetingData",f.clearData).removeEventListener("play_".concat(h),f.normal)},h=c.screenComponentDescriptor[0].componentId,f={timeout:u.bind(null,"timeout"),clearData:u.bind(null,"clearData"),normal:u.bind(null,"normal")},p=setTimeout(f.timeout,6e4);a.SDK_event.addEventListener("ClearMeetingData",f.clearData).addEventListener("play_".concat(h),f.normal)}else console.crlog("[MEDIA] ice_response clear msid: ".concat(t)),e.ice_response()}else if(24==t.toString().slice(0,2)){var _=d.findUserInfo("mediaMSID",t);_&&(console.crlog("[MEDIA] ice_response clear msid: ".concat(t)),e.ice_response(),_.mediaComponentDescriptor.forEach((function(e){e.componentInstantiation.notifyPullSrcInfo(_.playUrl.media,(function(){e.context.play()}))})))}},s.CR__Free.callback=function(e){console.crlog("[MEDIA] Free Callback: MSID is "+e);var t=e.toString().substr(0,2);if(t==d.msType.localAudio)d.isAudioFree=!0;else if(t==d.msType.remoteVideo);else if(t==d.msType.remoteAudio)if(O[O.length-1].msId==e){O.pop();var n=O[O.length-1];console.crlog("[MEDIA] Free restore player options src:"+n.rtmp),d.audioPlayerInfo.componentDescriptor&&d.audioPlayerInfo.componentDescriptor.notifyPullSrcInfo(n.rtmp)}else O.shift()},s.CR__AskForMicRslt.callback=function(e,t){e=0==e?"success":"fail",t=null==t?"":t,console.crlog("[MEDIA] AskForMicRslt Callback："+e+" "+t)},s.CR__OpenMicExRslt.callback=function(e,t){var n=0==e?"success":"fail",i=null==t?"":t;console.crlog("[MEDIA] OpenMicExRslt Callback："+n+" "+i)},s.CR__StopVideoRslt.callback=function(e,t){e=0==e?"success":"fail",t=null==t?"":t,console.crlog("[MEDIA] StopVideoRslt Callback："+e+" "+t)},s.CR__CloseMicExRslt.callback=function(e,t){e=0==e?"success":"fail",t=null==t?"":t,console.crlog("[MEDIA] CloseMicExRslt Callback："+e+" "+t)},s.CR__AudioUpdateStatus.callback=function(e,t,n){var i=d.findUserInfo("termId",e);if(i){var r=i.nickname,o=i.audioStatus,s=i.userId;console.crlog("[MEDIA] CR__AudioUpdateStatus.callback, userId: "+s+",nickName:"+r+" ,status:"+t.name+",opId:"+n),i.audioStatus=t.name,i.userId==d.userInfo.userId&&(d.audioStatusNotifyAfterSetAudioDeviceStatus?(d.audioStatusNotifyAfterSetAudioDeviceStatus=!1,D&&"ACLOSE"==t.name&&(T(d.selfMember.userId),D=!1)):"ACLOSE"==t.name?(d.isAudioFree=!0,d.pusherInfo.videoComponentDescriptor&&d.pusherInfo.videoComponentDescriptor.setLivePusherOptions("muted",!0)):"AOPEN"==t.name&&(d.isAudioFree=!1,d.pusherInfo.videoComponentDescriptor&&d.pusherInfo.videoComponentDescriptor.setLivePusherOptions("muted",!1))),h.callback(s,c[o],c[t.name])}},s.CR__VideoUpdateStatus.callback=function(e,t,n){var i=d.findUserInfo("termId",e);if(i){var r=i.userId,o=i.nickname,s=i.videoStatus;console.crlog("[MEDIA] CR__VideoUpdateStatus.callback, userId: "+r+",nickName:"+o+" ,status: "+t.name+" ,opId: "+n),i.videoStatus=t.name,i.userId==d.userInfo.userId?"VCLOSE"==t.name?d.pusherInfo.videoComponentDescriptor&&d.pusherInfo.videoComponentDescriptor.setLivePusherOptions("enableCamera",!1):"VOPEN"==t.name&&d.pusherInfo.videoComponentDescriptor&&d.pusherInfo.videoComponentDescriptor.setLivePusherOptions("enableCamera",!0):"VCLOSE"==t.name?(console.crlog("Stop video player... "+r+",nickName:"+o),d.setMemberAllComponentDescriptor(i.videoComponentDescriptor,"stop")):"VOPEN"==t.name&&console.crlog("[MEDIA] Start video player... userId:"+r+",nickName:"+o),p.callback(r,c[s],c[t.name])}},s.CR__UpdateVoiceEnergy.callback=function(e){var t=e._head._key,n=e._head._value,i=null,r=0,o=d.allMemberInfo.find((function(e){return e.termId===t}));o&&(i=o.userId,r=o.voiceEnergy||0,o.voiceEnergy=n,i&&f.callback(i,r,n))},s.CR__NotifyOpenVideo.callback=function(){console.crlog("[MEDIA] CR__NotifyOpenVideo.callback"),console.crlog("[MEDIA] ----- CRVideo_OpenVideo ----- userID:"+d.userInfo.userId),L(d.userInfo.userId)},s.CR__DisableSendVideo2Internet.callback=function(e){console.crlog("[MEDIA] DisableSendVideo2Internet Callback：camId-----"+e)},s.CR__EnableSendVideo2Internet.callback=function(e){console.crlog("[MEDIA] EnableSendVideo2Internet Callback：camId-----"+e)},s.CR__EnableUpload.callback=function(e,t){console.crlog("[MEDIA] CR__EnableUpload callback, camID:"+e+",bupload:"+t)};var T=function(e){if(console.crlog("[MEDIA] CRVideo_OpenMic: "+e),!d.audioStatusNotifyAfterSetAudioDeviceStatus||e!=d.selfMember.userId)return new Promise((function(t,n){var i=d.findUserInfo("userId",e);i||(console.crlog("[MEDIA] CRVideo_OpenMic user inexistence"),n()),e==d.userInfo.userId?d.pusherInfo.videoComponentDescriptor.setLivePusherOptions("muted",!1).then((function(e){console.crlog("[MEDIA] ----- CR__OpenMicEx -----"),s.CR__OpenMicEx(i.termId),t()})).catch((function(e){n(e)})):(console.crlog("[MEDIA] ----- CR__OpenMicEx -----"),s.CR__OpenMicEx(i.termId),t())}));D=!0};s.CR__CloseAllRslt.callback=function(e,t){console.crlog("[MEDIA] CloseAllRslt Callback："+e+" "+t)};var L=function(e){return new Promise((function(t,n){if(console.crlog("[MEDIA] CRVideo_OpenVideo："+e),e==d.userInfo.userId)d.pusherInfo.videoComponentDescriptor.setLivePusherOptions("enableCamera",!0).then((function(e){console.crlog("[MEDIA] ----- CR__StartVideo -----"),s.CR__StartVideo(),t()})).catch((function(e){n(e)}));else{var i=d.findMemberInfo({use:"userId",want:"termId",value:e});console.crlog("[MEDIA] ----- CR__ReqOpenVideo ----- : "+i),s.CR__ReqOpenVideo(i),t()}}))};s.CR__StartVideoRslt.callback=function(e,t){e=0==e?"success":"fail",t=null==t?"":t,console.crlog("[MEDIA] StartVideoRslt Callback："+e+" "+t)};s.CR__NotifyUpdateAllCameraInfos.callback=function(e,t){if(d.isMeeting){var n=d.findUserInfo("termId",e);n&&(console.crlog("[MEDIA] CR__NotifyUpdateAllCameraInfos userId: ".concat(n.userId)),n.allCams=t.split("\n").slice(0,-1))}};s.CR__GetScreenShareInfoRslt.callback=function(e,t,n){console.crlog("[MEDIA] CR__GetScreenShareInfoRslt Callback: "+e+" "+t),y.trigger(e,n)},s.CR__GetAllMarkDataRslt.callback=function(e,t){console.crlog("[MEDIA] CR__GetAllMarkDataRslt Callback: "+e),C.trigger(e,t)},s.CR__NotifyStopScreenShare.callback=function(e){var t=d.findUserInfo("termId",e);t&&(console.crlog("[MEDIA] NotifyStopScreenShare Callback: ".concat(t.userId,",userName: ").concat(t.nickname)),t.playUrl.screeb=null,d.setMemberAllComponentDescriptor(t.screenComponentDescriptor,"stop"),l.isScreenUserId=null,m.callback(t.userId)),d.isRemoteScreenShare=!1};var U={};!function(e,t){var n=null;function i(){n={state:2}}i(),t.GetMediaInfo=function(){console.crlog("[MEDIA] CR__GetMediaInfo"),e.CR__GetMediaInfo()},e.CR__NotifyStartPlayMedia.callback=function(e,t){var n=d.findUserInfo("termId",e);n&&(console.crlog("[MEDIA] NotifyStartPlayMedia Callback: ".concat(n.userId,",userName: ").concat(n.nickname)),I.callback(n.userId))},e.CR__NotifyPausePlayMedia.callback=function(e,t){var n=d.findUserInfo("termId",e);n&&(console.crlog("[MEDIA] NotifyPausePlayMedia Callback: ".concat(n.userId,",userName: ").concat(n.nickname,", pause: ").concat(t)),E.callback(n.userId,Number(t)))},e.CR__NotifyStopPlayMedia.callback=function(e){i();var t=d.findUserInfo("termId",e);t&&(delete t.playUrl.media,console.crlog("[MEDIA] NotifyStopPlayMedia Callback: ".concat(t.userId,",userName: ").concat(t.nickname)),b.callback(t.userId))},e.CR__GetMediaInfoRslt.callback=function(e,t,r){if(e)i();else{var o=d.findUserInfo("termId",r.termid);console.crlog("[MEDIA] CR__GetMediaInfoRslt Callback: ".concat(o&&o.userId,",userName: ").concat(o&&o.nickname,",state: ").concat(r.state)),n={mediaName:(s=r.mediaName,s.replace(/(.*\/)*([^.]+)/gi,"$2")),state:r.state,userId:o&&o.userId}}var s;S.callback(e,n)}}(s,U),e.exports={CreateVideoPlayerContext:function(e,t,n,i,r,o){console.crlog("[MEDIA] CreateVideoPlayerContext userId: ".concat(i,",type: ").concat(t,",componentId: ").concat(n,", camId: ").concat(r));var c=d.findUserInfo("userId",i);if(c){var a,l,u=wx.createLivePlayerContext(n,e);if(r){r=+r;var h=+c.camList.split(";")[0];l=-1===r?h:r}switch(t){case"video":if(a="videoComponentDescriptor",c.playUrl.video&&c.playUrl.video[l])e.notifyPullSrcInfo(c.playUrl.video[l],(function(){u.play()}));else if(-1===c.subscribeCams.indexOf(l)){if(-1==+r&&!l)return console.crlog("[MEDIA] Not find default camId, termId:".concat(c.termId," ,camId: ").concat(r)),c[a].push({context:u,componentInstantiation:e,componentId:n,camId:l,defaultSub:!0}),u;c.subscribeCams.push(l),console.crlog("[MEDIA] ----- CR__BatchSubscribeVideo2 -----  termId:".concat(c.termId," ,camId:").concat(l," , definition: ").concat(o)),s.CR__BatchSubscribeVideo2(c.termId,l,o)}break;case"screen":a="screenComponentDescriptor",e.notifyPullSrcInfo(c.playUrl.screen,(function(){u.play()}));break;case"media":c.playUrl.media&&e.notifyPullSrcInfo(c.playUrl.media,(function(){u.play()})),console.crlog("[MEDIA] ----- CR__SubscribeMedia -----"),s.CR__SubscribeMedia(!0),a="mediaComponentDescriptor";break;default:return void console.crlog("[MEDIA] !!! type is not default")}return c[a].push({context:u,componentInstantiation:e,componentId:n,camId:l,defaultSub:-1===r}),u}},CreateAudioPlayerContext:function(e,t){console.crlog("[MEDIA] CreateAudioPlayerContext");var n=wx.createLivePlayerContext(t,e);return d.audioPlayerInfo={audioPlayerContext:n,componentDescriptor:e,componentId:t},n},CreateVideoPusherContext:function(e,t,n){console.crlog("[MEDIA] CreateVideoPusherContext"),D=!1;var i=getCurrentPages();d.pusherThis=i[i.length-1];var r,o,c=wx.createLivePusherContext();return d.pusherInfo={},d.pusherInfo.videoComponentDescriptor=e,d.pusherInfo.videoPusherContext=c,o=[r=1,r],console.crlog("[MEDIA] ----- CR__SetOpenedCameraNumber ----- : "+JSON.stringify(o)),s.CR__SetOpenedCameraNumber(o),d.allMemberInfo.forEach((function(e){e.userId==d.userInfo.userId&&(e.defaultCam=r)})),console.crlog("[MEDIA] ----- CR__SetVideoDeviceStatus true -----"),s.CR__SetVideoDeviceStatus(!0),console.crlog("[MEDIA] ----- CR__SetAudioDeviceStatus true -----"),s.CR__SetAudioDeviceStatus(!0),d.audioStatusNotifyAfterSetAudioDeviceStatus=!0,t&&(console.crlog("[MEDIA] ----- CR__StartVideo -----"),s.CR__StartVideo()),n&&(D=!0),c},GetAudioPlayType:function(){try{return d.audioPlayerInfo.componentDescriptor.data.RTCAudioPlayer.soundMode||"speaker"}catch(e){return"speaker"}},DestoryVideoPlayerContext:function(e,t,n){console.crlog("[MEDIA] DestoryVideoPlayerContext userId: ".concat(n,",type: ").concat(t,",ComponenId: ").concat(e));var i={video:"videoComponentDescriptor",media:"mediaComponentDescriptor",screen:"screenComponentDescriptor"},r=d.findUserInfo("userId",n);if(r&&"video"==t){var o=r.videoComponentDescriptor.find((function(t){return e===t.componentId}));if(!o)return;var c=o.camId;r.videoComponentDescriptor.filter((function(e){return c===e.camId})).length<=1&&(r.subscribeCams=r.subscribeCams.filter((function(e){return c!=e})),r.playUrl&&r.playUrl.video&&delete r.playUrl.video[c],console.crlog("[MEDIA] ----- CR__BatchSubscribeVideo2 -----  termId:".concat(r.termId," ,camId:").concat(c," , 'VIDEO_SS_NULL'")),s.CR__BatchSubscribeVideo2(r.termId,c,"VIDEO_SS_NULL"))}if(r&&r[i[t]]){var a=r[i[t]],l=a.findIndex((function(t){return e===t.componentId}));l>-1&&a.splice(l,1)}},DestoryAudioPlayerContext:function(){console.crlog("[MEDIA] DestoryAudioPlayerContext"),d.audioPlayerInfo=null},DestoryVideoPusherContext:function(){console.crlog("[MEDIA] DestoryVideoPusherContext"),d.pusherInfo=null},UpdateCamDefinition:function(e,t,n){var i=d.findUserInfo("userId",e);if(i){var r=+t;if(-1===r)r=+i.camList.split(";")[0];console.crlog("[MEDIA] ----- UpdateCamDefinition -----  termId:".concat(i.termId," ,camId:").concat(r," , definition: ").concat(n)),s.CR__BatchSubscribeVideo2(i.termId,r,n)}},CRVideo_OpenVideo:L,CRVideo_CloseVideo:function(e){if(e==d.userInfo.userId)d.pusherInfo.videoComponentDescriptor.setLivePusherOptions("enableCamera",!1),d.pusherInfo.videoPusherContext.stop({success:function(){d.pusherInfo.videoPusherContext.start()}}),console.crlog("[MEDIA] ----- CR__StopVideo -----"),s.CR__StopVideo();else{var t=d.findMemberInfo({use:"userId",want:"termId",value:e});console.crlog("[MEDIA] ----- CR__StopVideoEx ----- : "+t),s.CR__StopVideoEx(t)}},CRVideo_OpenMic:T,CRVideo_CloseMic:function(e){if(console.crlog("[MEDIA] CRVideo_CloseMic: "+e),!d.audioStatusNotifyAfterSetAudioDeviceStatus||e!=d.selfMember.userId){var t=d.findUserInfo("userId",e);return t?new Promise((function(n,i){if(e==d.userInfo.userId)d.pusherInfo.videoComponentDescriptor.setLivePusherOptions("muted",!0),console.crlog("[MEDIA] ----- CR__CloseMicEx ----- : "+d.userInfo.termId),s.CR__CloseMicEx(d.userInfo.termId),n();else{var r=t.termId;console.crlog("[MEDIA] ----- CR__CloseMicEx ----- : "+r),s.CR__CloseMicEx(r)}})):void 0}D=!1},CRVideo_SetAllAudioClose:function(){s.CR__CloseAll()},CRVideo_SetDefaultVideo:function(e,t){e==d.userInfo.userId&&d.pusherInfo.videoPusherContext.switchCamera({success:function(e){console.crlog("[MEDIA] switchCamera success...")},fail:function(e){console.crlog("[MEDIA] switchCamera fail...")}})},CRVideo_GetDefaultVideo:function(e){if(e==d.userInfo.userId)return 1;var t=null,n=d.allMemberInfo.find((function(t){return t.userId===e}));if(n){var i=n.camList.match(/^(\d+);/);t=i&&+i[1]}return t},CRVideo_GetAllVideoInfo:function(e){var t=[],n=d.allMemberInfo.find((function(t){return t.userId===e}));if(n)for(var r=n.allCams,o=0;o<r.length;o++){var s=i(r[o].split(";"),2),c=s[0],a=s[1];t.push({videoID:+c,videoName:a})}return t},CRVideo_GetWatchableVideos:function(e){var t,n=[];if(e){var i=d.allMemberInfo.find((function(t){return t.userId===e}));if(!i)return null;t=[i]}else t=d.allMemberInfo;for(var r=function(e){var i=t[e];if("VOPEN"!==i.videoStatus)return"continue";var r=i.camList.split(";");r.shift(),r.forEach((function(e){n.push({userID:i.userId,videoID:+e})}))},o=0;o<t.length;o++)r(o);return n},CRVideo_SetBeautifyFace:function(e,t){e==d.userInfo.userId&&((t.beauty||0==t.beauty)&&d.pusherInfo.videoComponentDescriptor.setLivePusherOptions("beauty",t.beauty),(t.whiteness||0==t.whiteness)&&d.pusherInfo.videoComponentDescriptor.setLivePusherOptions("whiteness",t.whiteness))},CRVideo_GetMediaInfo:U.GetMediaInfo,CRVideo_GetScreenInfo:function(){return l.isScreenUserId},CRVideo_GetScreenShareInfo:function(){console.crlog("[MEDIA] GetScreenShareInfo"),s.CR__GetScreenShareInfo()},CRVideo_GetAllMarkData:function(e){console.crlog("[MEDIA] GetAllMarkData"),s.CR__GetAllMarkData(e)},CRVideo_BroadcastLivePusher:A,CRVideo_BroadcastLivePusherNet:N,CRVideo_BroadcastLivePlayer:k,CRVideo_BroadcastAudioPlayer:function(e,t){2005!=e.detail.code&&2028!=e.detail.code&&console.crlog("音频状态变化code：".concat(e.detail.code,",").concat(e.detail.message))},CRVideo_VideoRequestFullscreen:function(e,t){e.requestFullScreen({direction:t,success:function(e){R.callback(0,e)},fail:function(e){console.log("[MEDIA] $err"),R.callback(1,e)}})},CRVideo_VideoExitFullscreen:function(e){e.exitFullScreen({success:function(e){w.callback(0,e)},fail:function(e){console.log("[MEDIA] $err"),w.callback(1,e)}})},CRVideo_PreventBlackScreen:function(e){d.allMemberInfo&&d.allMemberInfo.forEach((function(t){t.userId===d.userInfo.userId?d.pusherInfo&&d.pusherInfo.videoComponentDescriptor&&d.pusherInfo.videoComponentDescriptor.preventBlackScreen(e):t.videoComponentDescriptor&&t.videoComponentDescriptor.forEach((function(t){t.componentInstantiation.preventBlackScreen(e)}))}))},CRVideo_VideoStatusChanged:p,CRVideo_VideoDevChanged:_,CRVideo_AudioStatusChanged:h,CRVideo_MicEnergyUpdate:f,CRVideo_NotifyAllAudioClose:g,CRVideo_GetScreenShareInfoRslt:y,CRVideo_GetAllMarkDataRslt:C,CRVideo_NotifyScreenShareStarted:v,CRVideo_NotifyScreenShareStopped:m,CRVideo_GetMediaInfoRslt:S,CRVideo_NotifyMediaStart:I,CRVideo_NotifyMediaPause:E,CRVideo_NotifyMediaStop:b,CRVideo_VideoRequestFullscreenRslt:R,CRVideo_VideoExitFullscreenRslt:w,CRVideo_OpenVideoFailRslt:x,CRVideo_OpenMicFailRslt:P}},function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,s=void 0,s=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===i(s)?s:String(s)),r)}var o,s}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=n(1),a=n(0),l=n(35).InterfaceExports,u=n(11).InterfaceExports,d=c.Ice,h=c.CRVideo,f=o((function e(t){s(this,e),this.boardId=void 0===t.boardId?void 0:t.boardId,this.title=void 0===t.title?void 0:t.title,this.width=void 0===t.width?void 0:t.width,this.height=void 0===t.height?void 0:t.height,this.pageCount=void 0===t.pageCount?void 0:t.pageCount,this.docType=void 0===t.docType?void 0:t.docType,this.wordType=void 0===t.wType?void 0:t.wType,this.allowMarked=void 0===t.bAll?void 0:t.bAll})),p=function(){function e(t){s(this,e)}return o(e,[{key:"serialization",value:function(e){var t=e||this,n={};for(var i in t)if(t.hasOwnProperty(i))if("elementID"===i){var r=t[i].split(".");n.eID={},n.eID.ownerID=+r[0],n.eID.ID=+r[1]}else n[i]=t[i];return n}},{key:"deserialization",value:function(e){var t=e||this;for(var n in t)t.hasOwnProperty(n)&&("eID"===n?(this.elementID="".concat(t[n].ownerID,".").concat(t[n].ID),delete this.eID):this[n]=t[n]);return t}}]),e}(),_=new(function(){function e(t,n){s(this,e),this.rtc=t,this.CR=n,this.questId=[],this.wbDesc=[],this.termId=0,this.elementId=0,this.curTabValue=0,this.UIList=[],this.queryingPath=[]}return o(e,[{key:"init",value:function(){this.SDKEventInit(),this.RTCInterfaceInit()}},{key:"unInit",value:function(){this.SDKEventUninit()}},{key:"reset",value:function(){this.wbDesc=[],this.termId=0,this.elementId=0,this.curTabValue=0}},{key:"SDKEventInit",value:function(){this.updateWdDescDataFn=this.updateWdDescData.bind(this),this.resetFn=this.reset.bind(this),this.NotifySetMarkTerms=this.NotifySetMarkTerms.bind(this),a.SDK_event.addEventListener("EnterMeetingSuccess",this.updateWdDescDataFn).addEventListener("ClearMeetingData",this.resetFn).addEventListener("NotifySetMarkTerms",this.NotifySetMarkTerms)}},{key:"SDKEventUninit",value:function(){a.SDK_event.removeEventListener("EnterMeetingSuccess",this.updateWdDescDataFn).removeEventListener("ClearMeetingData",this.resetFn).removeEventListener("NotifySetMarkTerms",this.NotifySetMarkTerms),this.updateWdDescDataFn=null,this.resetFn=null}},{key:"userInterfaceExports",value:function(){return this.CRVideo_NotifyInitBoards=new a.NewCallBack("CRVideo_NotifyInitBoards"),this.CRVideo_NotifyCreateBoard=new a.NewCallBack("CRVideo_NotifyCreateBoard"),this.CRVideo_NotifyCloseBoard=new a.NewCallBack("CRVideo_NotifyCloseBoard"),this.CRVideo_NotifyBoardCurPageNo=new a.NewCallBack("CRVideo_NotifyBoardCurPageNo"),this.CRVideo_NotifySetMarkTerms=new a.NewCallBack("CRVideo_NotifySetMarkTerms"),{CreateBoard:this.CreateBoard.bind(this),CloseBoard:this.CloseBoard.bind(this),CreateElementID:this.CreateElementID.bind(this),GetBoardInfo:this.GetBoardInfo.bind(this),GetBoardList:this.GetBoardList.bind(this),QueryElementByIDs:this.QueryElementByIDs.bind(this),InitBoardPageDat:this.InitBoardPageDat.bind(this),GetCurPageNo:this.GetCurPageNo.bind(this),GetCurrentPage:this.GetCurrentPage.bind(this),Addboardelement:this.Addboardelement.bind(this),Delboardelement:this.Delboardelement.bind(this),SetCurrentPage:this.SetCurrentPage.bind(this),SetMarkTerms:this.SetMarkTerms.bind(this),CreateWhiteBoardContext:this.CreateWhiteBoardContext.bind(this),DestroyWhiteBoardContext:this.DestroyWhiteBoardContext.bind(this),NotifyInitBoards:this.CRVideo_NotifyInitBoards,NotifyCreateBoard:this.CRVideo_NotifyCreateBoard,NotifyCloseBoard:this.CRVideo_NotifyCloseBoard,NotifyBoardCurPageNo:this.CRVideo_NotifyBoardCurPageNo,NotifySetMarkTerms:this.CRVideo_NotifySetMarkTerms}}},{key:"RTCInterfaceInit",value:function(){var e=this;this.rtc.CR__NotifySetContainerSize.callback=function(e,t,n){console.crlog(e,t,n)},this.rtc.CR__NotifyCreate.callback=function(t,n){var i=e.CR.findUserInfo("termId",n);console.crlog("[WhiteBoard] NotifyCreate wihite board Callback: id is ".concat(t.wID.termID,".").concat(t.wID.localID)),e.wbDesc.push(t),e.CRVideo_NotifyCreateBoard.callback(e.wbDescToBoardObj(t),i?i.userId:void 0)},this.rtc.CR__QueryAllBoardListRslt.callback=function(t,n,i){console.crlog("[WhiteBoard] CR__QueryAllBoardListRslt errCode: ".concat(t)),0===t&&(e.wbDesc=i,e.CRVideo_NotifyInitBoards.callback(i.map((function(t){return e.wbDescToBoardObj(t)}))))},this.rtc.CR__NotifyClose.callback=function(t,n){var i=e.CR.findUserInfo("termId",n);console.crlog("[WhiteBoard] CR__NotifyClose callback whiteBoardId: ".concat(t.termID,".").concat(t.localID,", userId:").concat(i?i.userId:void 0));var r=e.wbDesc.findIndex((function(e){return e.wID.localID===t.localID&&e.wID.termID===t.termID}));r>-1&&(e.wbDesc.splice(r,1),e.CRVideo_NotifyCloseBoard.callback("".concat(t.termID,".").concat(t.localID),i.userId||void 0))},this.rtc.CR__QueryElementByIDsRslt.callback=function(t,n,i,r){if(console.crlog("[WhiteBoard] QueryElementByIDsRslt Callback: "+t+" "+n),i){var o=r.dirPath,s=r.uuid;if(e.queryingPath.includes(o)){e.queryingPath=e.queryingPath.filter((function(e){return e!==o}));for(var c=[],a=i.elementList,u="".concat(r.boardID.termID,".").concat(r.boardID.localID),d=("".concat(u,".").concat(i.pageNo),0);d<a.length;d++)c.push(p.prototype.deserialization.call(a[d]));var h=i.imgResourceID;h&&o&&l.DownloadData(h,s).then((function(t){try{e.explainData(t,o,r.component)}catch(e){console.error(e)}})),r.component._NotifyInitBoardElement(u,i.pageNo,c,o)}}},this.rtc.CR__NotifyAddElement.callback=function(t,n,i,r){var o=e.CR.findUserInfo("termId",r),s="".concat(t.termID,".").concat(t.localID);console.crlog("[WhiteBoard] CR__NotifyAddElement Callback: id is ".concat(s)),e.UIList.forEach((function(e){e._NotifyAddBoardElement(s,n,[p.prototype.deserialization.call(i)],o?o.userId:void 0)}))},this.rtc.CR__NotifyDelElement.callback=function(t,n,i,r){var o=e.CR.findUserInfo("termId",r),s="".concat(t.termID,".").concat(t.localID),c="".concat(s,".").concat(n);console.crlog("[WhiteBoard] CR__NotifyDelElement Callback pageId: ".concat(c,",userId: ").concat(o?o.userId:void 0));for(var a=[],l=0;l<i.length;l++)a.push("".concat(i[l].ownerID,".").concat(i[l].ID));e.UIList.forEach((function(e){e._NotifyDelBoardElement(s,n,a,o?o.userId:void 0)}))},this.rtc.CR__NotifyMoveElement.callback=function(t,n,i,r){var o="".concat(t.termID,".").concat(t.localID),s=e.CR.findUserInfo("termId",r);console.crlog("[WhiteBoard] CR__NotifyMoveElement Callback page id: ".concat(o,".").concat(n,",userId: ").concat(s&&s.userId));for(var c=[],a=0;a<i.length;a++)c.push(p.prototype.deserialization.call(i[a]));e.UIList.forEach((function(e){e._NotifyMoveElement(o,n,c,s&&s.userId)}))},this.rtc.CR__NotifyModifyElement.callback=function(t,n,i,r){var o="".concat(t.termID,".").concat(t.localID),s=e.CR.findUserInfo("termId",r);console.crlog("[WhiteBoard] CR__NotifyModifyElement Callback page id: ".concat(o,".").concat(n,",userId: ").concat(s&&s.userId)),e.UIList.forEach((function(e){e._NotifyModifyBoardElement(o,n,[p.prototype.deserialization.call(i)],s&&s.userId)}))},this.rtc.CR__NotifySetCurrentPage.callback=function(t,n,i,r,o){console.crlog("[mainPage] CR__NotifySetCurrentPage whiteBoardId: ".concat(t.termID,".").concat(t.localID," iPage：").concat(n,", animID：").concat(i,", animFrames:").concat(r,", opId: ").concat(o));var s=e.wbDesc.find((function(e){return e.wID.localID===t.localID&&e.wID.termID===t.termID}));s&&(s.curPage=n,s.animFrames=r,s.animID=i);var c=h.findUserInfo("termId",o);e.CRVideo_NotifyBoardCurPageNo.trigger("".concat(t.termID,".").concat(t.localID),n,i,r,c?c.userId:null)}}},{key:"CreateBoard",value:function(e,t,n,i,r){console.crlog("[WhiteBoard] CreateBoard title:".concat(e," ,width: ").concat(t,",height: ").concat(n,",pageCount: ").concat(i));var o={};return o.wID={termID:this.termId,localID:this.curTabValue++},o.width=t,o.height=n,o.name=e,o.docName=e,o.pageCount=i,o.wType=r?r.wType:0,o.scaleType=r?r.scaleType:0,o.docType=r?r.docType:0,o.bAll=!!r&&r.bAll,this.rtc.CR__SaveLastTabValue(this.curTabValue),this.rtc.CR__Create(o),"".concat(o.wID.termID,".").concat(o.wID.localID)}},{key:"CloseBoard",value:function(e){console.crlog("[WhiteBoard] CloseBoard boardId:".concat(e));var t=e.split("."),n=new this.rtc.Conference.TabID(t[0],t[1]);this.rtc.CR__Close(n)}},{key:"CreateWhiteBoardContext",value:function(e,t){this.UIList.find((function(t){return t===e}))||(console.crlog("[WhiteBoard] CreateWhiteBoardContext"),this.UIList.push(e)),l.CreateDownloadId(t)}},{key:"DestroyWhiteBoardContext",value:function(e,t,n){if(console.crlog("[WhiteBoard] DestroyWhiteBoardContext component: ".concat(!!e,",dir: ").concat(t)),e){var i=this.UIList.findIndex((function(t){return t===e}));i>-1&&this.UIList.splice(i,1)}n&&l.CancelDownloadId(n),this.queryingPath=this.queryingPath.filter((function(e){return e!==t})),t&&u.RemoveDir(t)}},{key:"GetCurPageNo",value:function(e){var t;return this.wbDesc.some((function(n){if("".concat(n.wID.termID,".").concat(n.wID.localID)===e)return t=n,!0})),t?t.curPage:null}},{key:"GetCurrentPage",value:function(e){var t;if(this.wbDesc.some((function(n){if("".concat(n.wID.termID,".").concat(n.wID.localID)===e)return t=n,!0})),!t)return null;var n=new Uint32Array(1);n[0]=t.animFrames;var i=new Uint16Array(n.buffer);return{x:i[0]/65535,y:i[1]/65535,curPage:t.curPage,animId:t.animID}}},{key:"Addboardelement",value:function(e,t,n){console.crlog("[WhiteBoard] Addboardelement boardId:".concat(e," ,pageId: ").concat(t));var i=p.prototype.serialization(n),r=e.split("."),o=new this.rtc.Conference.TabID(r[0],r[1]);this.rtc.CR__AddElement(o,t,i)}},{key:"Delboardelement",value:function(e,t,n){console.crlog("[WhiteBoard] Delboardelement boardId:".concat(e," ,pageId: ").concat(t,", elementIds:").concat(n));for(var i=e.split("."),r=new this.rtc.Conference.TabID(i[0],i[1]),o=[],s=0;s<n.length;s++){var c=n[s].split(".");o.push({ownerID:c[0],ID:c[1]})}this.rtc.CR__DelElement(r,t,o)}},{key:"SetCurrentPage",value:function(){var e;(e=this.rtc).CR__SetCurrentPage.apply(e,arguments)}},{key:"SetMarkTerms",value:function(){var e;(e=this.rtc).CR__SetMarkTerms.apply(e,arguments)}},{key:"GetBoardInfo",value:function(e){var t;return this.wbDesc.some((function(n){if("".concat(n.wID.termID,".").concat(n.wID.localID)===e)return t=n,!0})),t?this.wbDescToBoardObj(t):null}},{key:"GetBoardList",value:function(){var e=this;return this.wbDesc.map((function(t){return e.wbDescToBoardObj(t)}))}},{key:"QueryElementByIDs",value:function(e,t,n,i){console.crlog("[WhiteBoard] QueryElementByIDs boardId:".concat(t," ,pageIds: ").concat(n));var r=t.split("."),o=new this.rtc.Conference.TabID(r[0],r[1]),s=u.CreateDir(d.generateUUID());return this.queryingPath.push(s),this.rtc.CR__QueryElementByIDs(o,n,{component:e,boardID:o,dirPath:s,uuid:i}),s}},{key:"InitBoardPageDat",value:function(e,t){this.rtc.CR__ImportPage(e,t)}},{key:"queryAllBoardList",value:function(){this.rtc.CR__QueryAllBoardList()}},{key:"updateWdDescData",value:function(e){this.termId=e.termId,this.wbDesc=e.wbDescibes,this.elementId=e.lastElemValue,this.curTabValue=e.lastTabValue}},{key:"wbDescToBoardObj",value:function(e){return new f({boardId:"".concat(e.wID.termID,".").concat(e.wID.localID),title:e.docName,width:e.width,height:e.height,pageCount:e.pageCount,docType:e.docType.value,wType:e.wType.value,bAll:e.bAll})}},{key:"CreateElementID",value:function(){return"".concat(this.termId,".").concat(++this.elementId)}},{key:"NotifySetMarkTerms",value:function(e,t,n){for(var i=this.wbDesc,r=0;r<i.length;r++)if(i[r].wID.localID===e.localID&&i[r].wID.termID===e.termID)return i[r].bAll=t,i[r].allowTerms=n,void this.CRVideo_NotifySetMarkTerms.trigger("".concat(e.termID,".").concat(e.localID),t,n)}},{key:"DataHeadParse",value:function(e){var t={},n=new DataView(e.buffer);t.flag=n.getUint32(0,!0),t.verson="".concat(n.getUint8(4),".").concat(n.getUint8(5)),t.type=n.getUint32(6,!0);var i=n.getUint32(10,!0);return t.size=4294967295===i?0:i,t}},{key:"explainData",value:function(e,t,n){var i=this.DataHeadParse(e.slice(0,14));if(2290649224===i.flag&&"1.1"===i.verson)switch(e=e.slice(14),i.type){case 2:var r=i.size?u.WriteFile({dir:t,fileName:d.generateUUID(),buffer:e.buffer}):null;r?n._NotifyInitBoardBgImg(r):console.crlog("[WhiteBoard] parseImg fail: ".concat(r));break;case 3:var o=this.parsePPT(t,e);n._NotifyInitPPTBgImg(o)}}},{key:"parsePPT",value:function(e,t){var n=new DataView(t.buffer),i=(n.getUint32(0),n.getUint32(4),n.getFloat64(8),n.getFloat64(16),n.getUint32(24),n.getUint16(28),n.getUint32(30));i=4294967295===i?0:i;for(var r=t.buffer.slice(34,i+34),o=i?u.WriteFile({dir:e,fileName:d.generateUUID(),buffer:r}):null,s=i+34,c=(n.getUint8(s),n.getUint8(s+1),n.getFloat64(s+2),n.getUint16(s+10),n.getUint8(s+12),n.getUint8(s+13),n.getUint32(s+14)),a=n.buffer.slice(s+18),l=[],h=0;h<c;h++){var f=new DataView(a),p={},_=0;p.id=f.getUint16(_),p.left=f.getFloat64(_+=2),p.top=f.getFloat64(_+=8),p.width=f.getFloat64(_+=8),p.height=f.getFloat64(_+=8);var g=f.getUint32(_+=8);_+=4,p.size=4294967295===g?0:g;var y=p.size+_;p.path=p.size?u.WriteFile({dir:e,fileName:d.generateUUID(),buffer:f.buffer.slice(_,y)}):null,l.push(p),a=f.buffer.slice(y)}return{bgPath:o,imgTotalData:l}}}]),e}())(c,h);a.SDK_event.addEventListener("SDKInit",(function(){_.init()})).addEventListener("SDKUnInit",(function(){_.unInit()})),e.exports={InterfaceExports:_.userInterfaceExports()}},function(e,t,n){(function(t){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,c(i.key),i)}}function c(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}var a=n(0),l=n(1),u=n(10),d=n(11).InterfaceExports,h=l.Ice,f=l.CRVideo,p={NotifyUploadDocFileToNetDiskRslt:new a.NewCallBack("NotifyUploadDocFileToNetDiskRslt"),NotifyNetDiskDocFileTrsfProgress:new a.NewCallBack("NotifyNetDiskDocFileTrsfProgress"),GetNetDiskDocFilePageInfoRslt:new a.NewCallBack("GetNetDiskDocFilePageInfoRslt")},_=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,i,c;return n=e,(i=[{key:"init",value:function(){var e=this;this.downloadingID=[],a.SDK_event.addEventListener("startNetDiskService",(function(n,i,r,o){e.userId=o,e.prx=i.NDClientPrx.uncheckedCast(n.stringToProxy("NetDisk"),"Client"),e.prx.createConfSession(r,u(r)).then((function(n){e.meetingPrx=n,t.m_meetingPrx=n,e.startKeepAlive()}))})).addEventListener("EnterMeetingSuccess",(function(t){e.comid=t.confInfo.compid})).addEventListener("ClearMeetingData",(function(){e.stopKeepAlive(),e.userId=null,e.meetingPrx=null,e.comid=null,clearTimeout(e.docTrsfProgressTimerId),e.docTrsfProgressTimerId=null,e.ServerConvertStatus=null}))}},{key:"unInit",value:function(){a.SDK_event.removeAllEvent("startNetDiskService"),this.reset()}},{key:"reset",value:function(){this.userId=null,this.comid=null,this.meetingPrx=null,this.downloadingID=[]}},{key:"startKeepAlive",value:function(){this.stopKeepAlive(),this.meetingPrx.keepAlive(),this.keepAliveTimerId=setTimeout(this.startKeepAlive.bind(this),3e3)}},{key:"stopKeepAlive",value:function(){clearTimeout(this.keepAliveTimerId),this.keepAliveTimerId=null}},{key:"userInterfaceExports",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({getStat:this.getStat.bind(this),DownloadData:this.DownloadData.bind(this),CreateDownloadId:this.CreateDownloadId.bind(this),CancelDownloadId:this.CancelDownloadId.bind(this),DownloadBoardFile:this.DownloadBoardFile.bind(this),UploadDocFileToNetDisk:this.UploadDocFileToNetDisk.bind(this),GetNetDiskDocFilePageInfo:this.GetNetDiskDocFilePageInfo.bind(this)},p)}},{key:"MeetInterfaceExports",value:function(){return{GetListDir:this.GetListDir.bind(this),Import2Conf:this.Import2Conf.bind(this),ConnectUserPan:this.ConnectUserPan.bind(this),ConnectCompanyPan:this.ConnectCompanyPan.bind(this)}}},{key:"ConnectUserPan",value:function(){var e=this;return new Promise((function(n,i){e.prx.createUserSession(e.userId,u(e.userId)).then((function(i){e.userPrx=i,t.m_userPrx=i,n()})).exception((function(e){console.crlog("[NetDisk] ConnectUserPan Fail: ".concat(e.toString())),i()}))}))}},{key:"ConnectCompanyPan",value:function(){var e=this;return new Promise((function(n,i){e.prx.createCompanySession(e.comid,u(e.comid)).then((function(i){e.CompanyPrx=i,t.m_CompanyPrx=i,n()})).exception((function(e){console.crlog("[NetDisk] ConnectCompanyPan Fail: ".concat(e.toString())),i()}))}))}},{key:"getPanType",value:function(e){return e?[this.meetingPrx,this.userPrx,this.CompanyPrx][e]:this.meetingPrx}},{key:"GetListDir",value:function(e,t){var n=this.getPanType(t);return new Promise((function(t,i){if(!n)return i();n.listDir(e).then((function(e){t(e)})).exception((function(e){console.crlog("[NetDisk] GetListDir error: }"),console.crlog(e)}))}))}},{key:"Import2Conf",value:function(e,t,n,i){var r=this;return console.crlog("[NetDisk] Import2Conf Start path: ".concat(e)),new Promise((function(n,o){var s=new NetDiskService.DataDict;r.getPanType(i).import2ConfDD(e,t,s).then((function(t){console.crlog("[NetDisk] Import2Conf Success path: ".concat(e)),n({width:t.get("width"),height:t.get("height"),type:t.get("type"),files:t.get("rsltFiles").split(";")})})).exception((function(e){console.crlog("[NetDisk] Import2Conf Success Fail: ".concat(e.toString())),o()}))}))}},{key:"getStat",value:function(e){var t=this,n=0;return new Promise((function(i,r){if(!t.meetingPrx)return r();!function o(){t.meetingPrx.stat(e).then((function(e){i(e)})).exception((function(e){var t=e.toString();if(console.crlog("[NetDisk] error getStat error: ".concat(t)),t.indexOf("NetDiskService::FileOrDirectoryNotExists")>-1){if(n++>10)return r();setTimeout((function(){o()}),500)}else r()}))}()}))}},{key:"beginDownload",value:function(e){var t=this;return new Promise((function(n,i){if(!t.meetingPrx)return i();t.meetingPrx.beginDownload(e).then((function(e){n(e)})).exception((function(e){console.crlog("[NetDisk] error beginDownload error: ".concat(e.toString()))}))}))}},{key:"DownloadBoardFile",value:function(e,t,n){var i=this;return new Promise((function(r,o){var s=0;!function c(){i.GetListDir("").then((function(a){var l=a.files.find((function(t){return t.name===e}));l?i.DownloadData(l.path,n).then((function(n){var i=d.WriteFile({dir:t,fileName:e,buffer:n.buffer});i?r(i):o("[NetDisk] error write file: ".concat(i))})).catch((function(e){console.crlog(e),o(e)})):s++>10?o("[NetDisk] error not find file: ".concat(e)):setTimeout((function(){c()}),500)})).catch((function(e){console.crlog(e),o(e)}))}()}))}},{key:"DownloadData",value:function(e,t){var n=this;console.crlog("[NetDisk] start download netdisk Data File: ".concat(e));var i=function(){return n.downloadingID.find((function(e){return e===t}))};return new Promise((function(t,r){n.getStat(e).then((function(e){if(!i())return r();n.beginDownload(e.md5).then((function(n){if(!i())return r();console.log("[NetDisk] beginDownload success server length: ".concat(n.length));var o=+e.attributes.get("orgSize"),s=e.size.low;if(!(s>10485760)){var c=Math.ceil(s/1e6),l=new ArrayBuffer(s),u=new Uint8Array(l);!function l(d){if(!n[d])return console.crlog("[NetDisk] beginDownload fail: 尝试了所有服务器下载失败"),void r();n[d].createFSIOSession(e.md5,"r",e.md5).then((function(e){if(!i())return r();for(var n=0,f=function(f){var p=1e6*f,_=f===c-1?s%1e6:1e6;e.read(new h.Long(0,p),new h.Long(0,_)).then((function(e){if(!i())return r();u.set(e,p),++n===c&&(o!=s&&(u=new a.Zlib.Inflate(u).decompress()),console.crlog("[NetDisk] FSIOSession read Success"),t(u))})).exception((function(e){console.crlog("[NetDisk] FSIOSession read Fail: ".concat(e.toString())),l(++d)}))},p=0;p<c;p++)f(p)})).exception((function(e){console.crlog("[NetDisk] createFSIOSession Fail: ".concat(e.toString())),l(++d)}))}(0)}}))})).catch((function(e){console.crlog("[NetDisk] getStat Fail: ".concat(e))}))}))}},{key:"CreateDownloadId",value:function(e){this.downloadingID.find((function(t){return t===e}))||(console.crlog("[NetDisk] CreateDownloadId uuid: ".concat(e)),this.downloadingID.push(e))}},{key:"CancelDownloadId",value:function(e){console.crlog("[NetDisk] CancelDownloadId uuid: ".concat(e)),this.downloadingID=this.downloadingID.filter((function(t){return t!==e}))}},{key:"UploadDocFileToNetDisk",value:function(e,t){var n=this;try{p.NotifyUploadDocFileToNetDiskRslt.trigger(e,0,1);for(var i=new ArrayBuffer(t.size),r=new Uint8Array(i),o=Math.ceil(t.size/10485760),s=wx.getFileSystemManager(),c=0;c<o;c++){var l=10485760*c,d=s.readFileSync(t.path,void 0,l,c===o-1?t.size%10485760:10485760);r.set(new Uint8Array(d),l)}var _=e.match(/[^<>/\\\|:""\*\?]+\.\w+$/)[0],g=u(r),y=new h.Long(0,r.length),C=f.userInfo,v=new NetDiskService.DataDict;v.set("orgFileName",_),v.set("ownerName",C?String(C.nickname):"0"),v.set("orgSize",String(r.length)),v.set("ownerID",C?String(C.termId):"0");var m=new Date,S="".concat(m.getFullYear(),"-").concat(a.PrefixInteger(m.getMonth()+1,2),"-").concat(a.PrefixInteger(m.getDate(),2)," ").concat(a.PrefixInteger(m.getHours(),2),":").concat(a.PrefixInteger(m.getMinutes(),2),":").concat(a.PrefixInteger(m.getSeconds(),2)),I="/progData/".concat(e),E=new NetDiskService.StatInfo(_,I,g,y,S,v);this.meetingPrx.beginUpload(E).then((function(t,i){console.crlog("[NetDisk] 1.beginUpload Success services number: ".concat(i.length));var o=function(t){console.crlog("[NetDisk] beginUpload error: ".concat(t.toString())),++c>i.length-1?p.NotifyUploadDocFileToNetDiskRslt.trigger(e,1):s()},s=function(){i[c].createFSIOSession(t,"w",g).then((function(s){console.crlog("[NetDisk] 2.createFSIOSession Success host: ".concat(s._reference._endpoints[0]._host));var a=r.length,l=Math.ceil(a/1e6),u=0;!function d(){var f=1e6*u,_=f+(u+1===l?a%1e6:1e6),g=r.slice(f,_);console.crlog("[NetDisk] 3.write data start: ".concat(f,",length: ").concat(g.length)),p.NotifyUploadDocFileToNetDiskRslt.trigger(e,0,2,_/r.length),s.write(new h.Long(0,f),g).then((function(){++u===l?(console.crlog("[NetDisk] 4.write Success"),i[c].fileUploadCompleted(t,!0).then((function(r){console.crlog("[NetDisk] 5.fileUploadCompleted Success"),n.meetingPrx.endUpload(t,r).then((function(){console.crlog("[NetDisk] 6.endUpload Success"),p.NotifyUploadDocFileToNetDiskRslt.trigger(e,0,3),n.ServerConvert(I,e,i[c])})).exception(o)})).exception(o)):d()})).exception(o)}()})).exception(o)},c=0;s()})).exception((function(t){if(console.crlog("[NetDisk] beginUpload error: ".concat(t.toString())),t instanceof NetDiskService.FileAlreadyExists||t instanceof NetDiskService.FdfsFileAlreadyExists)return p.NotifyUploadDocFileToNetDiskRslt.trigger(e,0,4),void n.ServerConvert(I,e);p.NotifyUploadDocFileToNetDiskRslt.trigger(e,1)}))}catch(t){console.crlog("[NetDisk] beginUpload error: ".concat(t)),p.NotifyUploadDocFileToNetDiskRslt.trigger(e,1)}}},{key:"ServerConvert",value:function(e,t,n){var i=this,r=new NetDiskService.DataDict;n=n||null,this.meetingPrx.convert(e,r,n).then((function(e){console.crlog("[NetDisk] ServerConvert startting"),i.getDocTrsfProgress(e,t)})).exception((function(e){console.crlog(e.toString())}))}},{key:"getDocTrsfProgress",value:function(e,t){var n=this;this.meetingPrx.getConvertStatus(e).then((function(i){console.log(i),n.ServerConvertStatus!==i.status&&p.NotifyNetDiskDocFileTrsfProgress.callback(t,i.status),4===i.status?n.ServerConvertStatus=null:(n.ServerConvertStatus=i.status,n.docTrsfProgressTimerId=setTimeout((function(){n.getDocTrsfProgress(e,t)}),500))}))}},{key:"GetNetDiskDocFilePageInfo",value:function(e){var t=this,n="/progData/".concat(e);function i(){p.GetNetDiskDocFilePageInfoRslt.trigger(e,1,null)}this.getStat(n).then((function(n){t.meetingPrx.getConvertStatus(n.md5).then((function(t){var n={height:+t.attributes.get("height"),width:+t.attributes.get("width"),fileList:t.fileList};p.GetNetDiskDocFilePageInfoRslt.trigger(e,0,n)})).exception((function(){i()}))})).catch((function(e){console.crlog(e),i()}))}}])&&s(n.prototype,i),c&&s(n,c),Object.defineProperty(n,"prototype",{writable:!1}),e}());a.SDK_event.addEventListener("SDKInit",(function(){_.init()})).addEventListener("SDKUnInit",(function(){_.unInit()})),e.exports={InterfaceExports:_.userInterfaceExports(),MeetInterfaceExports:_.MeetInterfaceExports()}}).call(this,n(6))},function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,s=void 0,s=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===i(s)?s:String(s)),r)}var o,s}var o=n(1),s=n(0),c=o.CRVideo,a=new(function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rtc=t,this.CR=n,this.mainPage=null,this.subTab=null}var t,n,i;return t=e,(n=[{key:"init",value:function(){this.SDKEventInit(),this.RTCInterfaceInit()}},{key:"unInit",value:function(){this.SDKEventUninit(),this.mainPage=null,this.subTab=null}},{key:"SDKEventInit",value:function(){this.updateFn=this.update.bind(this),this.resetFn=this.reset.bind(this),s.SDK_event.addEventListener("EnterMeetingSuccess",this.updateFn).addEventListener("ClearMeetingData",this.resetFn)}},{key:"SDKEventUninit",value:function(){s.SDK_event.removeEventListener("EnterMeetingSuccess",this.updateFn).removeEventListener("ClearMeetingData",this.resetFn),this.updateFn=null,this.resetFn=null}},{key:"userInterfaceExports",value:function(){return this.CRVideo_NotifySwitchToPage=new s.NewCallBack("CRVideo_NotifySwitchToPage"),{SwitchToPage:this.Switchtopage.bind(this),GetCurrentMainPage:this.GetCurrentMainPage.bind(this),GetCurrentSubPage:this.GetCurrentSubPage.bind(this),NotifySwitchToPage:this.CRVideo_NotifySwitchToPage}}},{key:"Switchtopage",value:function(e,t){if(void 0!==e&&(this.mainPage.localID=e),void 0!==t){var n=t.split(".");this.subTab={termID:n[0],localID:n[1]}}this.rtc.CR__SetCurrentTab(this.mainPage,this.subTab)}},{key:"GetCurrentMainPage",value:function(){return this.mainPage&&this.mainPage.localID}},{key:"GetCurrentSubPage",value:function(){return"".concat(this.subTab.termID,".").concat(this.subTab.localID)}},{key:"reset",value:function(){this.mainPage=null,this.subTab=null}},{key:"update",value:function(e){var t=e.curMainTab,n=e.curSubTab;console.crlog("[mainPage] mainPage: ".concat(JSON.stringify(t),",subTab:").concat(JSON.stringify(n))),this.mainPage=t,this.subTab=n}},{key:"RTCInterfaceInit",value:function(){var e=this;this.rtc.CR__NotifySetCurrentTab.callback=function(t,n,i){console.crlog("[mainPage] CR__NotifySetCurrentTab mainPage: ".concat(JSON.stringify(t),",SubTab:").concat(JSON.stringify(n)," ,opId: ").concat(i)),e.mainPage=t,e.subTab=n,e.CRVideo_NotifySwitchToPage.callback(t.localID,"".concat(n.termID,".").concat(n.localID))}}}])&&r(t.prototype,n),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}())(o,c);s.SDK_event.addEventListener("SDKInit",(function(){a.init()})).addEventListener("SDKUnInit",(function(){a.unInit()})),e.exports={InterfaceExports:a.userInterfaceExports()}}]);
//# sourceMappingURL=RTC_Miniapp_SDK.min.js.map